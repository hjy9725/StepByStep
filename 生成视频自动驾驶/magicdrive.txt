æ‘˜è¦



Recen

t adv

ancem

ents 

in di

ffusi

on mo

dels 

have 

signi

fican

tly e

nhanc

ed th

e dat

a



synth

esis 

with 

2D co

ntrol

. Yet

, pre

cise 

3D co

ntrol

 in s

treet

 view

 gene

ratio

n, cr

ucial

 for 

3D pe

rcept

ion t

asks,

 rema

ins e

lusiv

e. Sp

ecifi

cally

, uti

lizin

g Bir

dâ€™s-E

ye



View 

(BEV)

 as t

he pr

imary

 cond

ition

 ofte

n lea

ds to

 chal

lenge

s in 

geome

try



contr

ol (e

.g., 

heigh

t), a

ffect

ing t

he re

prese

ntati

on of

 obje

ct sh

apes,

 occl

usion



patte

rns, 

and r

oad s

urfac

e ele

vatio

ns, a

ll of

 whic

h are

 esse

ntial

 to p

ercep

tion



data 

synth

esis,

 es- 

pecia

lly f

or 3D

 obje

ct de

tecti

on ta

sks. 

In th

is pa

per, 

we



intro

duce 

MAGIC

DRIVE

, a n

ovel 

stree

t vie

w gen

erati

on fr

amewo

rk, o

fferi

ng



diver

se 3D

 geom

etry 

contr

ols i

nclud

ing c

amera

 pose

s, ro

ad ma

ps, a

nd 3D



bound

ing b

oxes,

 toge

ther 

with 

textu

al de

scrip

tions

, ach

ieved

 thro

ugh t

ailor

ed



encod

ing s

trate

gies.

 Besi

des, 

our d

esign

 inco

rpora

tes a

 cros

s-vie

w att

entio

n



modul

e, en

surin

g con

siste

ncy a

cross

 mult

iple 

camer

a vie

ws. W

ith



MAGIC

DRIVE

, we 

achie

ve hi

gh-fi

delit

y str

eet-v

iew i

mage 

& vid

eo sy

nthes

is th

at



captu

res n

uance

d 3D 

geome

try a

nd va

rious

 scen

e des

crip-

 tion

s, en

hanci

ng ta

sks



like 

BEV s

egmen

tatio

n and

 3D o

bject

 dete

ction

.



æ‰©æ•£æ¨¡å‹çš„

æœ€æ–°è¿›å±•å¤§

å¤§å¢å¼ºäº† 

2D æ§åˆ¶

çš„æ•°æ®åˆæˆ

ã€‚ç„¶è€Œï¼Œè¡—

æ™¯ç”Ÿæˆä¸­çš„



ç²¾ç¡® 3D

 æ§åˆ¶ï¼Œå¯¹

äº 3D 

æ„ŸçŸ¥ä»»åŠ¡æ˜¯

è‡³å…³é‡è¦çš„

ï¼Œä»ç„¶æ˜¯éš¾

ä»¥æ‰æ‘¸çš„ã€‚

å…·ä½“



è€Œè¨€ï¼Œåˆ©ç”¨

é¸Ÿç°å›¾(B

EV)ä½œä¸º

ä¸»è¦æ¡ä»¶é€š

å¸¸ä¼šå¯¼è‡´å‡ 

ä½•æ§åˆ¶(ä¾‹

å¦‚ï¼Œé«˜åº¦)



æ–¹é¢çš„æŒ‘æˆ˜

ï¼Œå½±å“å¯¹è±¡

å½¢çŠ¶ã€é®æŒ¡

å›¾æ¡ˆå’Œè·¯é¢

é«˜ç¨‹çš„è¡¨ç¤º

ï¼Œæ‰€æœ‰è¿™äº›

å¯¹äº



æ„ŸçŸ¥æ•°æ®åˆ

æˆéƒ½æ˜¯å¿…ä¸

å¯å°‘çš„ï¼Œå°¤

å…¶æ˜¯å¯¹äº 

3D å¯¹è±¡

æ£€æµ‹ä»»åŠ¡ã€‚

åœ¨æœ¬æ–‡ä¸­ï¼Œ



æˆ‘ä»¬ä»‹ç»äº†

 MAGI

CDRIV

Eï¼Œè¿™æ˜¯ä¸€

ç§æ–°é¢–çš„è¡—

æ™¯ç”Ÿæˆæ¡†æ¶

ï¼Œæä¾›äº†å„

ç§ 3D



å‡ ä½•æ§åˆ¶ï¼Œ

åŒ…æ‹¬ç›¸æœºå§¿

æ€ã€è·¯çº¿å›¾

å’Œ 3D 

è¾¹ç•Œæ¡†ï¼Œä»¥

åŠé€šè¿‡å®šåˆ¶

çš„ç¼–ç ç­–ç•¥



å®ç°çš„æ–‡æœ¬

æè¿°ã€‚æ­¤å¤–

ï¼Œæˆ‘ä»¬çš„è®¾

è®¡ç»“åˆäº†è·¨

è§†å›¾æ³¨æ„æ¨¡

å—ï¼Œç¡®ä¿å¤š

ä¸ªæ‘„



åƒæœºè§†å›¾çš„

ä¸€è‡´æ€§ã€‚å€Ÿ

åŠ© MAG

ICDRI

VEï¼Œæˆ‘ä»¬

å¯ä»¥å®ç°é«˜

ä¿çœŸè¡—æ™¯å›¾

åƒå’Œè§†



é¢‘åˆæˆï¼Œæ•

æ‰ç»†å¾®çš„ 

3D å‡ ä½•

å›¾å½¢å’Œå„ç§

åœºæ™¯æè¿°ï¼Œ

å¢å¼º BE

V åˆ†å‰²å’Œ

 3D å¯¹



è±¡æ£€æµ‹ç­‰ä»»

åŠ¡ã€‚



Publi

shed 

as a 

confe

rence

 pape

r at 

ICLR 

2024



2



BEV m

ap 3D

 box 

Camer

a pos

e



BEV m

ap ++

=3D b

ox Ca

mera 

pose



++=



â˜€



â˜€



ğŸŒ§



ğŸŒ§



...



...



Front

 Left

 å·¦å‰



æ–¹



Front

 å‰é¢



Sun S

unn R

ai Ra

i



Publi

shed 

as a 

confe

rence

 pape

r at 

ICLR 

2024



3



F



ro



nt



R



ig



ht å³å‰



ä¾§



...



..



.



Figur

e 1: 

Multi

-came

ra st

reet 

view 

gener

ation

 from

 MAGI

CDRIV

E. MA

GICDR

IVE c

an ge

nerat

e



conti

nuous

 came

ra vi

ews w

ith c

ontro

ls fr

om th

e roa

d map

, obj

ect b

oxes,

 and 

text 

(e.g.

, wea

ther)

.



å›¾ MAG

ICDRI

VE çš„å¤š

æ‘„åƒå¤´è¡—æ™¯

ç”Ÿæˆã€‚MA

GICDR

IVE å¯

ä»¥ä½¿ç”¨æ¥è‡ª

è·¯çº¿å›¾ã€å¯¹

è±¡æ¡†å’Œæ–‡æœ¬

(ä¾‹



å¦‚å¤©æ°”)çš„

æ§ä»¶ç”Ÿæˆè¿

ç»­çš„æ‘„åƒæœº

è§†å›¾ã€‚



1 INT

RODUC

TION



2 ä»‹ç»



The h

igh c

osts 

assoc

iated

 with

 data

 coll

ectio

n and

 anno

tatio

n oft

en im

pede 

the e

ffect

ive t

raini

ng



of de

ep le

arnin

g mod

els. 

Fortu

natel

y, cu

tting

-edge

 gene

rativ

e mod

els h

ave i

llust

rated

 that



synth

etic 

data 

can n

otabl

y boo

st pe

rform

ance 

acros

s var

ious 

tasks

, suc

h as 

objec

t det

ectio

n (Ch

en



et al

., 20

23c) 

and s

emant

ic se

gment

ation

 (Wu 

et al

., 20

23b).

 Yet,

 the 

preva

iling

 meth

odolo

gies 

are



large

ly ta

ilore

d to 

2D co

ntext

s, pr

imari

ly re

lying

 on 2

D bou

nding

 boxe

s (Li

n et 

al., 

2014;

 Han 

et



al., 

2021)

 or s

egmen

tatio

n map

s (Zh

ou et

 al.,

 2019

) as 

layou

t con

ditio

ns (C

hen e

t al.

, 202

3c; L

i et



al., 

2023b

).



ä¸æ•°æ®æ”¶é›†

å’Œæ³¨é‡Šç›¸å…³

çš„é«˜æˆæœ¬é€š

å¸¸ä¼šé˜»ç¢æ·±

åº¦å­¦ä¹ æ¨¡å‹

çš„æœ‰æ•ˆè®­ç»ƒ

ã€‚å¹¸è¿çš„æ˜¯

ï¼Œå°–ç«¯çš„



ç”Ÿæˆæ¨¡å‹å·²

ç»è¡¨æ˜ï¼Œåˆ

æˆæ•°æ®å¯ä»¥

æ˜¾è‘—æé«˜å„

ç§ä»»åŠ¡çš„æ€§

èƒ½ï¼Œå¦‚ç‰©ä½“

æ£€æµ‹ (C

hen e

t



al.,2

023c)

å’Œè¯­ä¹‰åˆ†å‰²

(Wu e

t al.

,2023

b).ç„¶è€Œ

ï¼Œæµè¡Œçš„æ–¹

æ³•åœ¨å¾ˆå¤§ç¨‹

åº¦ä¸Šæ˜¯æ ¹æ®

 2D çš„

æƒ…



å†µå®šåˆ¶çš„ï¼Œ

ä¸»è¦ä¾èµ–äº

 2D åŒ…

å›´ç›’(Li

n et 

al.,2

014ï¼›H

an et

 al.,

2021)

æˆ–åˆ†å‰²å›¾(

Zhou 

et



al.,2

019)ä½œ

ä¸ºå¸ƒå±€æ¡ä»¶

(Chen

 et a

l.,20

23cï¼›L

i et 

al.,2

023b)

.



In au

tonom

ous d

rivin

g app

licat

ions,

 a th

oroug

h gra

sp of

 the 

3D en

viron

ment 

is es

senti

al. T

his



deman

ds re

liabl

e tec

hniqu

es fo

r tas

ks li

ke Bi

rdâ€™s-

Eye V

iew (

BEV) 

map s

egmen

tatio

n (Zh

ou &



KraÂ¨h

enbuÂ¨

hl, 2

022; 

Ji et

 al.,

 2023

) and

 3D o

bject

 dete

ction

 (Che

n et 

al., 

2020;

 Huan

g et 

al., 

2021;



Liu e

t al.

, 202

3a; G

e et 

al., 

2023)

. A g

enuin

e 3D 

geome

try r

epres

entat

ion i

s cru

cial 

for c

aptur

ing



intri

cate 

detai

ls fr

om 3D

 anno

tatio

ns, s

uch a

s roa

d ele

vatio

ns, o

bject

 heig

hts, 

and t

heir 

occlu

sion 

patåœ¨è‡ª

åŠ¨é©¾é©¶åº”ç”¨

ä¸­ï¼Œå½»åº•æŒ

æ¡ 3D 

ç¯å¢ƒè‡³å…³é‡

è¦ã€‚è¿™éœ€è¦

å¯é çš„æŠ€æœ¯

æ¥å®Œæˆåƒé¸Ÿ

ç°å›¾(BE

V)



å›¾ åˆ† å‰²

 (Zho

u &Kr

aÂ¨hen

buÂ¨hl

,2022

 ï¼› Ji

 et a

l.,20

23) å’Œ

 3D å¯¹

 è±¡ æ£€ 

æµ‹ (Ch

en et



al.,2

020ï¼›H

uang 

et al

.,202

1ï¼›Liu

 et a

l.,20

23aï¼›G

e et 

al.,2

023).

çœŸå®çš„ 3

D å‡ ä½•è¡¨



ç¤ºå¯¹äºä» 

3D æ³¨é‡Š

ä¸­æ•æ‰å¤æ‚

çš„ç»†èŠ‚æ˜¯è‡³

å…³é‡è¦çš„ï¼Œ

ä¾‹å¦‚é“è·¯é«˜

åº¦ã€ç‰©ä½“é«˜

åº¦ä»¥åŠå®ƒä»¬

çš„é®



æŒ¡éƒ¨åˆ†



âˆ—Equa

l con

tribu

tion.

 â€ Cor

respo

nding

 auth

ors. 

Proje

ct Pa

ge: h

ttps:

//fly

min.g

ithub

.io/m

agicd

rive.



*åŒç­‰è´¡çŒ®

ã€‚é€šè®¯ä½œè€…

ã€‚é¡¹ç›®é¡µé¢

:



https

://fl

ymin.

githu

b.io/

magic

drive

ã€‚



a



r



X



i



v:2



3



1



0.0



2



6



0



1



v



7 [c



s.C



V] 3



M



a



y



a



r



X



i



v:2



3



1



0.0



2



6



0



1



v



7



[



c



s.C



V



]



3



M



a



y



2D bo

xes



No di

stanc

e No 

occlu

sion



No vi

ew-co

nsist

ency



2D bo

xes



No di

stanc

e No 

occlu

sion



No vi

ew-co

nsist

ency



BEV M

ap



No he

ight



BEV M

ap



No he

ight



Publi

shed 

as a 

confe

rence

 pape

r at 

ICLR 

2024



4



(a) 3

D bou

nding

 boxe

s sho

w pos

ition

 rela

tions

hips.

 (b) 

Road 

surfa

ce el

evati

on gu

ided 

by 3D

 boun

ding 

boxes

. (a)

 3D è¾¹

ç•Œæ¡†æ˜¾ç¤ºä½

ç½®å…³ç³»ã€‚(

b)ç”± 3

D è¾¹ç•Œæ¡†

å¼•å¯¼çš„è·¯é¢

æ ‡é«˜ã€‚



Figur

e 2: 

3D bo

undin

g box

es ar

e cru

cial 

for s

treet

 view

 synt

hesis

. Two

 exam

ples 

show 

that 

2D



boxes

 or B

EV ma

ps lo

st di

stanc

e, he

ight,

 and 

eleva

tion.

 Imag

es ar

e gen

erate

d fro

m MAG

ICDRI

VE.



å›¾ 2: 

3D è¾¹ç•Œ

æ¡†å¯¹äºè¡—æ™¯

åˆæˆè‡³å…³é‡

è¦ã€‚ä¸¤ä¸ªä¾‹

å­è¡¨æ˜ 2

D ç›’æˆ– 

BEV åœ°

å›¾ä¸¢å¤±äº†è·

ç¦»ã€é«˜åº¦



å’Œæµ·æ‹”ã€‚å›¾

åƒç”± MA

GICDR

IVE ç”Ÿ

æˆã€‚



terns

, as 

shown

 in F

igure

 2. C

onseq

uentl

y, ge

nerat

ing m

ulti-

camer

a str

eet-v

iew i

mages

 acco

rding



to 3D

 anno

tatio

ns be

comes

 vita

l to 

boost

 down

strea

m per

cepti

on ta

sks.



ç‡•é¸¥ï¼Œå¦‚å›¾

æ‰€ç¤º 2ã€‚

å› æ­¤ï¼Œæ ¹æ®

 3D æ³¨

é‡Šç”Ÿæˆå¤šç›¸

æœºè¡—æ™¯å›¾åƒ

å¯¹äºä¿ƒè¿›ä¸‹

æ¸¸æ„ŸçŸ¥ä»»åŠ¡

å˜å¾—è‡³



å…³é‡è¦ã€‚



For s

treet

-view

 data

 synt

hesis

, two

 pivo

tal c

riter

ia ar

e rea

lism 

and c

ontro

llabi

lity.

 Real

ism r

equir

es



that 

the q

ualit

y of 

the s

ynthe

tic d

ata s

hould

 alig

n wit

h tha

t of 

real 

data;

 and 

in a 

given

 scen

e, vi

ews



from 

varyi

ng ca

mera 

persp

ectiv

es sh

ould 

remai

n con

siste

nt wi

th on

e ano

ther 

(Mild

enhal

l et 

al.,



2020)

. On 

the o

ther 

hand,

 cont

rolla

bilit

y emp

hasiz

es th

e pre

cisio

n in 

gener

ating

 stre

et-vi

ew



image

s tha

t adh

ere t

o pro

vided

 cond

ition

s: th

e BEV

 map,

 3D o

bject

 boun

ding 

boxes

, and

 came

ra



poses

 for 

views

. Bey

ond t

hese 

core 

requi

remen

ts, e

ffect

ive d

ata a

ugmen

tatio

n sho

uld a

lso g

rant



the f

lexib

ility

 to t

weak 

finer

 scen

ario 

attri

butes

, suc

h as 

preva

iling

 weat

her c

ondit

ions 

or th

e tim

e



of da

y. Ex

istin

g sol

ution

s lik

e BEV

Gen (

Swerd

low e

t al.

, 202

3) ap

proac

h str

eet v

iew g

enera

tion



by en

capsu

latin

g all

 sema

ntics

 with

in BE

V. Co

nvers

ely, 

BEVCo

ntrol

 (Yan

g et 

al., 

2023a

) sta

rts



by pr

oject

ing 3

D coo

rdina

tes t

o ima

ge vi

ews, 

subse

quent

ly us

ing 2

D geo

metri

c gui

dance

.



Howev

er, b

oth m

ethod

s com

promi

se ce

rtain

 geom

etric

 dime

nsion

sâ€”hei

ght i

s los

t in 

BEVGe

n and



depth

 in B

EVCon

trol.



å¯¹äºè¡—æ™¯æ•°

æ®åˆæˆï¼Œä¸¤

ä¸ªå…³é”®çš„æ ‡

å‡†æ˜¯çœŸå®æ€§

å’Œå¯æ§æ€§ã€‚

ç°å®ä¸»ä¹‰è¦

æ±‚åˆæˆæ•°æ®

çš„è´¨é‡åº”



ä¸çœŸå®æ•°æ®

çš„è´¨é‡ä¸€è‡´

ï¼›å¹¶ä¸”åœ¨ç»™

å®šåœºæ™¯ä¸­ï¼Œ

æ¥è‡ªä¸åŒæ‘„

åƒæœºè§†è§’çš„

è§†å›¾åº”è¯¥ä¿

æŒå½¼æ­¤ä¸€



è‡´(Mil

denha

ll et

 al.,

2020)

.å¦ä¸€æ–¹é¢

ï¼Œå¯æ§æ€§å¼º

è°ƒç”Ÿæˆè¡—æ™¯

å›¾åƒçš„ç²¾åº¦

ï¼Œè¿™äº›å›¾åƒ

ç¬¦åˆ



æä¾›çš„æ¡ä»¶

:BEV 

å›¾ã€3D 

å¯¹è±¡è¾¹ç•Œæ¡†

å’Œè§†å›¾çš„ç›¸

æœºå§¿æ€ã€‚é™¤

äº†è¿™äº›æ ¸å¿ƒ

è¦æ±‚ä¹‹å¤–ï¼Œ

æœ‰æ•ˆçš„æ•°



æ®æ‰©å……è¿˜åº”

è¯¥èƒ½å¤Ÿçµæ´»

åœ°è°ƒæ•´æ›´ç²¾

ç»†çš„åœºæ™¯å±

æ€§ï¼Œä¾‹å¦‚ä¸»

è¦çš„å¤©æ°”æ¡

ä»¶æˆ–ä¸€å¤©ä¸­

çš„æ—¶é—´ã€‚



ç°æœ‰çš„è§£å†³

æ–¹æ¡ˆå¦‚ B

EVGen

(Swer

dlow 

et al

.,202

3)é€šè¿‡å°†

æ‰€æœ‰è¯­ä¹‰å°

è£…åœ¨ BE

V ä¸­æ¥å®

ç°è¡—



æ™¯ç”Ÿæˆã€‚ç›¸

åï¼ŒBEV

Contr

ol(Ya

ng et

 al.,

2023a

)é€šè¿‡å°† 

3D åæ ‡

æŠ•å½±åˆ°å›¾åƒ

è§†å›¾å¼€å§‹ï¼Œ

éš



åä½¿ç”¨ 2

D å‡ ä½•å¼•

å¯¼ã€‚ç„¶è€Œï¼Œ

è¿™ä¸¤ç§æ–¹æ³•

éƒ½ç‰ºç‰²äº†æŸ

äº›å‡ ä½•å°ºå¯¸

â€”â€”bev

 gen 

ä¸­æŸå¤±äº†é«˜



åº¦ï¼ŒBEV

Contr

ol ä¸­æŸ

å¤±äº†æ·±åº¦ã€‚



The r

ise o

f dif

fusio

n mod

els h

as si

gnifi

cantl

y pus

hed t

he bo

undar

ies o

f con

troll

able 

image

 gene

ratio

n qua

lity.

 Spec

ifica

lly, 

Contr

olNet

 (Zha

ng et

 al.,

 2023

a) pr

opose

s a f

lexib

le fr

amewo

rk to

 inco

rpora

te 2D

 spat

ial c

ontro

ls ba

sed o

n pre

-trai

ned T

ext-t

o-Ima

ge (T

2I) d

iffus

ion m

odels



(Romb

ach e

t al.

, 202

2). H

oweve

r, 3D

 cond

ition

s are

 dist

inct 

from 

pixel

-leve

l con

ditio

ns or

 text

.



The c

halle

nge o

f sea

mless

ly in

tegra

ting 

them 

with 

multi

-came

ra vi

ew co

nsist

ency 

in st

reet 

view



synth

esis 

remai

ns.



æ‰©æ•£æ¨¡å‹çš„

å…´èµ·æå¤§åœ°

æ‹“å±•äº†å¯æ§

å›¾åƒç”Ÿæˆè´¨

é‡çš„è¾¹ç•Œã€‚

å…·ä½“æ¥è¯´ï¼Œ

Contr

olNet

(Zhan

g et



al.,2

023a)

åŸºäºé¢„å…ˆè®­

ç»ƒçš„æ–‡æœ¬åˆ°

å›¾åƒ(T2

I)æ‰©æ•£æ¨¡

å‹ï¼Œæå‡ºäº†

ä¸€ä¸ªçµæ´»çš„

ä¼ä¸šå†…éƒ¨ 

2D ç©º



é—´æ§åˆ¶æ¡†æ¶

(Romb

achet

 al.,

2022)

.ä½†æ˜¯ï¼Œ3

D æ¡ä»¶ä¸

åŒäºåƒç´ çº§

æ¡ä»¶æˆ–æ–‡æœ¬

ã€‚å°†å®ƒä»¬ä¸

è¡—



æ™¯åˆæˆä¸­çš„

å¤šæ‘„åƒæœºè§†

å›¾ä¸€è‡´æ€§æ— 

ç¼é›†æˆçš„æŒ‘

æˆ˜ä»ç„¶å­˜åœ¨

ã€‚



In th

is pa

per, 

we in

trodu

ce MA

GICDR

IVE, 

a nov

el fr

amewo

rk de

dicat

ed to

 stre

et-vi

ew sy

nthes

is



with 

diver

se 3D

 geom

etry 

contr

ols1



. For

 real

ism, 

we ha

rness

 the 

power

 of p

re-tr

ained

 stab

le di

ffusi

on (R

ombac

h et 

al., 

2022)

, fur

ther 

fine-

tunin

g it 

for s

treet

 view

 gene

ratio

n. On

e dis

tinct

ive



compo

nent 

of ou

r fra

mewor

k is 

the c

ross-

view 

atten

tion 

modul

e. Th

is si

mple 

yet e

ffect

ive c

om-



Publi

shed 

as a 

confe

rence

 pape

r at 

ICLR 

2024



5



ponen

t pro

vides

 mult

i-vie

w con

siste

ncy t

hroug

h int

eract

ions 

betwe

en ad

jacen

t vie

ws. I

n con

trast



to pr

eviou

s met

hods,

 MAGI

CDRIV

E pro

poses

 a se

parat

e des

ign f

or ob

jects

 and 

road 

map e

ncodi

ng



to im

prove

 cont

rolla

bilit

y wit

h 3D 

data.

 More

 spec

ifica

lly, 

given

 the 

seque

nce-l

ike, 

varia

blele

ngth 

natur

e of 

3D bo

undin

g box

es, w

e emp

loy c

ross-

atten

tion 

akin 

to te

xt em

beddi

ngs f

or th

eir



encod

- ing

. Bes

ides,

 we p

ropos

e tha

t an 

addic

tive 

encod

er br

anch 

like 

Contr

olNet

 (Zha

ng et

 al.,



2023a

) can

 enco

de ma

ps in

 BEV 

and i

s cap

able 

of vi

ew tr

ansfo

rmati

on. T

heref

ore, 

our d

esign



achie

ves g

eomet

ric c

ontro

ls wi

thout

 reso

rting

 to a

ny ex

plici

t geo

metri

c tra

nsfor

matio

ns or



impos

ing g

eomet

- ric

 cons

train

ts on

 mult

i-cam

era c

onsis

tency

. Fin

ally,

 MAGI

CDRIV

E fac

tors 

in



textu

al de

scrip

tions

, off

ering

 attr

ibute

 cont

rol s

uch a

s wea

ther 

condi

tions

 and 

time 

of da

y.



åœ¨æœ¬æ–‡ä¸­ï¼Œ

æˆ‘ä»¬ä»‹ç»äº†

 MAGI

CDRIV

Eï¼Œè¿™æ˜¯ä¸€

ä¸ªæ–°é¢–çš„æ¡†

æ¶ï¼Œè‡´åŠ›äº

ä½¿ç”¨ä¸åŒçš„

 3D å‡ 

ä½•æ§ä»¶



è¿›è¡Œè¡—æ™¯åˆ

æˆ 1ã€‚ä¸º

äº†é€¼çœŸï¼Œæˆ‘

ä»¬åˆ©ç”¨é¢„å…ˆ

è®­ç»ƒçš„ç¨³å®š

æ‰©æ•£(Ro

mbach

 et a

l.,20

22)ï¼Œä¸º

è¡—



æ™¯ç”Ÿæˆè¿›ä¸€

æ­¥å¾®è°ƒã€‚æˆ‘

ä»¬çš„æ¡†æ¶çš„

ä¸€ä¸ªç‹¬ç‰¹çš„

ç»„æˆéƒ¨åˆ†æ˜¯

äº¤å‰è§†å›¾æ³¨

æ„æ¨¡å—ã€‚è¿™

ä¸ªç®€å•è€Œ



æœ‰ æ•ˆ çš„

 ç»„ ä»¶ 

é€š è¿‡ ç›¸

 é‚» è§† 

å›¾ ä¹‹ é—´

 çš„ äº¤ 

äº’ æ ä¾›

 äº† å¤š 

è§† å›¾ ä¸€

 è‡´ æ€§ 

ã€‚ ä¸ ä»¥

 å‰ çš„ 

æ–¹ æ³• ç›¸



æ¯”ï¼ŒMAG

ICDRI

VE æå‡º

äº†ä¸€ç§é’ˆå¯¹

å¯¹è±¡å’Œè·¯çº¿

å›¾ç¼–ç çš„ç‹¬

ç«‹è®¾è®¡ï¼Œä»¥

æé«˜ 3D

 æ•°æ®çš„å¯

æ§æ€§ã€‚



æ›´å…·ä½“åœ°è¯´

ï¼Œç»™å®š 3

D è¾¹ç•Œæ¡†

çš„ç±»ä¼¼åºåˆ—

çš„ã€å¯å˜é•¿

åº¦çš„æ€§è´¨ï¼Œ

æˆ‘ä»¬ä½¿ç”¨ç±»

ä¼¼äºæ–‡æœ¬åµŒ

å…¥çš„



äº¤å‰æ³¨æ„è¿›

è¡Œç¼–ç ã€‚æ­¤

å¤–ï¼Œæˆ‘ä»¬å»º

è®®ä¸€ä¸ªä¸Šç˜¾

çš„ç¼–ç å™¨åˆ†

æ”¯ï¼Œå¦‚ C

ontro

lNet(

Zhang

 et



al.,2

023a)

å¯ä»¥åœ¨ B

EV ä¸­å¯¹

åœ°å›¾è¿›è¡Œç¼–

ç ï¼Œå¹¶ä¸”èƒ½

å¤Ÿè¿›è¡Œè§†å›¾

å˜æ¢ã€‚å› æ­¤

ï¼Œæˆ‘ä»¬çš„è®¾

è®¡å®



ç°äº†å‡ ä½•æ§

åˆ¶ï¼Œè€Œæ— éœ€

æ±‚åŠ©äºä»»ä½•

æ˜¾å¼çš„å‡ ä½•

å˜æ¢æˆ–å¯¹å¤š

æ‘„åƒæœºä¸€è‡´

æ€§æ–½åŠ å‡ ä½•

çº¦æŸã€‚æœ€



åï¼ŒMAG

ICDRI

VE åœ¨æ–‡

æœ¬æè¿°ä¸­åŠ 

å…¥äº†ä¸€äº›å› 

ç´ ï¼Œæä¾›äº†

ä¸€äº›å±æ€§æ§

åˆ¶ï¼Œæ¯”å¦‚å¤©

æ°”çŠ¶å†µå’Œä¸€



å¤©ä¸­çš„æ—¶é—´

ã€‚



Our M

AGICD

RIVE 

frame

work,

 desp

ite i

ts si

mplic

ity, 

excel

s in 

gener

ating

 stri

kingl

y rea

listi

c



image

s & v

ideos

 that

 alig

n wit

h roa

d map

s, 3D

 boun

ding 

boxes

, and

 vari

ed ca

mera 

persp

ectiv

es.



Besid

es, t

he im

ages 

produ

ced c

an en

hance

 the 

train

ing f

or bo

th 3D

 obje

ct de

tecti

on an

d BEV



segme

ntati

on ta

sks. 

Furth

ermor

e, MA

GICDR

IVE o

ffers

 comp

rehen

sive 

geome

tric 

contr

ols a

t the



scene

, bac

k- gr

ound,

 and 

foreg

round

 leve

ls. T

his f

lexib

ility

 make

s it 

possi

ble t

o cra

ft pr

eviou

sly



unsee

n str

eet v

iews 

suita

ble f

or si

mulat

ion p

urpos

es. W

e sum

mariz

e the

 main

 cont

ribut

ions 

of th

is



work 

as:



æˆ‘ä»¬çš„ M

AGICD

RIVE 

æ¡†æ¶å°½ç®¡ç®€

å•ï¼Œä½†åœ¨ç”Ÿ

æˆæƒŠäººé€¼çœŸ

çš„å›¾åƒå’Œè§†

é¢‘æ–¹é¢è¡¨ç°

å‡ºè‰²ï¼Œè¿™äº›

å›¾



åƒå’Œè§†é¢‘ä¸

é“è·¯åœ°å›¾ã€

3D è¾¹ç•Œ

æ¡†å’Œå„ç§ç›¸

æœºè§†è§’ä¿æŒ

ä¸€è‡´ã€‚æ­¤å¤–

ï¼Œæ‰€äº§ç”Ÿçš„

å›¾åƒå¯ä»¥å¢

å¼º



3D å¯¹è±¡

æ£€æµ‹å’Œ B

EV åˆ†å‰²

ä»»åŠ¡çš„è®­ç»ƒ

ã€‚æ­¤å¤–ï¼ŒM

AGICD

RIVE 

åœ¨åœºæ™¯ã€èƒŒ

æ™¯å’Œå‰æ™¯çº§

åˆ«æä¾›å…¨é¢



çš„å‡ ä½•æ§åˆ¶

ã€‚è¿™ç§çµæ´»

æ€§ä½¿ä¹‹æœ‰å¯

èƒ½åˆ¶ä½œå‡ºä»¥

å‰çœ‹ä¸åˆ°çš„

é€‚åˆäºæ¨¡æ‹Ÿ

ç›®çš„çš„è¡—æ™¯

ã€‚æˆ‘ä»¬å°†



è¿™é¡¹å·¥ä½œçš„

ä¸»è¦è´¡çŒ®æ€»

ç»“ä¸º:



â€¢ The

 intr

oduct

ion o

f MAG

ICDRI

VE, a

n inn

ovati

ve fr

amewo

rk th

at ge

nerat

es mu

lti-p

erspe

ctive



camer

a vie

ws & 

video

s con

ditio

ned o

n BEV

 and 

3D da

ta ta

ilore

d for

 auto

nomou

s dri

ving.



â€¢ MAG

ICDRI

VE çš„æ¨

å‡ºï¼Œè¿™æ˜¯ä¸€

ä¸ªåˆ›æ–°çš„æ¡†

æ¶ï¼Œå¯ä»¥æ ¹

æ® BEV

 å’Œä¸ºè‡ªåŠ¨

é©¾é©¶å®šåˆ¶çš„

 3D æ•°

æ®ç”Ÿ



æˆå¤šè§†è§’æ‘„

åƒæœºè§†å›¾å’Œ

è§†é¢‘ã€‚



â€¢ The

 deve

lopme

nt of

 simp

le ye

t pot

ent s

trate

gies 

to ma

nage 

3D ge

ometr

ic da

ta, e

ffect

ively

 addr

essin

g the

 chal

lenge

s of 

multi

-came

ra vi

ew co

nsist

ency 

in st

reet 

view 

gener

ation

.



â€¢ å¼€å‘ç®€

å•è€Œæœ‰æ•ˆçš„

ç­–ç•¥æ¥ç®¡ç†

 3D å‡ 

ä½•æ•°æ®ï¼Œæœ‰

æ•ˆè§£å†³è¡—æ™¯

ç”Ÿæˆä¸­å¤šæ‘„

åƒæœºè§†å›¾ä¸€

è‡´æ€§çš„



æŒ‘æˆ˜ã€‚



â€¢ Thr

ough 

rigor

ous e

xperi

ments

, we 

demon

strat

e tha

t MAG

ICDRI

VE ou

tperf

orms 

prior

 stre

et vi

ew



gener

ation

 tech

nique

s, no

tably

 for 

the m

ulti-

dimen

siona

l con

troll

abili

ty. A

dditi

onall

y, ou

r



resul

ts re

veal 

that 

synth

etic 

data 

deliv

ers c

onsid

erabl

e imp

rovem

ents 

in 3D

 perc

eptio

n tas

ks.



â€¢ é€šè¿‡ä¸¥

æ ¼çš„å®éªŒï¼Œ

æˆ‘ä»¬è¯æ˜ 

MAGIC

DRIVE

 ä¼˜äºç°æœ‰

çš„è¡—æ™¯ç”Ÿæˆ

æŠ€æœ¯ï¼Œç‰¹åˆ«

æ˜¯åœ¨å¤šç»´å¯

æ§æ€§



æ–¹é¢ã€‚æ­¤å¤–

ï¼Œæˆ‘ä»¬çš„ç»“

æœè¡¨æ˜ï¼Œåˆ

æˆæ•°æ®åœ¨ 

3D æ„ŸçŸ¥

ä»»åŠ¡ä¸­æä¾›

äº†ç›¸å½“å¤§çš„

æ”¹è¿›ã€‚



1



In th

is pa

per, 

our 3

D geo

metry

 cont

rols 

conta

in co

ntrol

 from

 road

 maps

, 3D 

objec

t box

es, a

nd ca

mera



poses

. We 

do no

t con

sider

 othe

rs li

ke th

e exa

ct sh

ape o

f obj

ects 

or ba

ckgro

und c

onten

ts.



1 åœ¨æœ¬æ–‡

ä¸­ï¼Œæˆ‘ä»¬çš„

 3D å‡ 

ä½•æ§ä»¶åŒ…å«

æ¥è‡ªè·¯çº¿å›¾

ã€3D å¯¹

è±¡æ¡†å’Œç›¸æœº

å§¿æ€çš„æ§ä»¶

ã€‚æˆ‘ä»¬ä¸è®¤

ä¸ºå…¶ä»–äººå–œ

æ¬¢ç‰©ä½“çš„ç¡®

åˆ‡å½¢çŠ¶æˆ–èƒŒ

æ™¯å†…å®¹ã€‚



Publi

shed 

as a 

confe

rence

 pape

r at 

ICLR 

2024



6



3 REL

ATED 

WORK



4 ç›¸å…³è‘—

ä½œ



Diffu

sion 

Model

s for

 Cond

ition

al Ge

nerat

ion. 

Diffu

sion 

model

s (Ho

 et a

l., 2

020; 

Song 

et al

.,



2020;

 Zhen

g et 

al., 

2023)

 gene

rate 

image

s by 

learn

ing a

 prog

ressi

ve de

noisi

ng pr

ocess

 from

 the



Gauss

ian n

oise 

distr

ibuti

on to

 the 

image

 dist

ribut

ion. 

These

 mode

ls ha

ve pr

oven 

excep

tiona

l



acros

s div

erse 

tasks

, suc

h as 

text-

to-im

age s

ynthe

sis (

Romba

ch et

 al.,

 2022

; Nic

hol e

t al.

, 202

2;



Yang 

et al

., 20

23b),

 inpa

intin

g (Wa

ng et

 al.,

 2023

a), a

nd in

struc

tiona

l ima

ge ed

iting

 (Zha

ng et

 al.,



2023b

; Bro

oks e

t al.

, 202

3), d

ue to

 thei

r ada

ptabi

lity 

and c

ompet

ence 

in ma

nagin

g var

ious 

form 

of



contr

ols (

Zhang

 et a

l., 2

023a;

 Li e

t al.

, 202

3b) a

nd mu

ltipl

e con

ditio

ns (L

iu et

 al.,

 2022

a; Ga

o et



al., 

2023)

. Bes

ides,

 data

 synt

hesiz

ed fr

om ge

ometr

ic an

notat

ions 

can a

id do

wnstr

eam t

asks 

such 

as



2D ob

ject 

detec

- tio

n (Ch

en et

 al.,

 2023

c; Wu

 et a

l., 2

023b)

. Thu

s, th

is pa

per e

xplor

es th

e



poten

tial 

of T2

I dif

fusio

n mod

els i

n gen

erati

ng st

reet-

view 

image

s and

 bene

fitin

g dow

nstre

am 3D



perce

ption

 mode

ls.



æ¡ ä»¶ ç”Ÿ

 æˆ çš„ 

æ‰© æ•£ æ¨¡

 å‹ ã€‚ 

æ‰© æ•£ æ¨¡

 å‹ (H

o et 

al.,2

020 ï¼›

 Song

 et a

l.,20

20 ï¼› 

Zheng

 et



al.,2

0232)

é€šè¿‡å­¦ä¹ ä»

é«˜æ–¯å™ªå£°åˆ†

å¸ƒåˆ°å›¾åƒåˆ†

å¸ƒçš„æ¸è¿›å»

å™ªè¿‡ç¨‹æ¥ç”Ÿ

æˆå›¾åƒã€‚è¿™

äº›æ¨¡å‹å·²



ç»è¢«è¯æ˜åœ¨

ä¸åŒçš„ä»»åŠ¡

ä¸­è¡¨ç°å‡ºè‰²

ï¼Œä¾‹å¦‚æ–‡æœ¬

åˆ°å›¾åƒçš„åˆ

æˆ(Rom

bach 

et al

.,202

2ï¼›



Nicho

l et 

al.,2

022ï¼›Y

ang e

t al.

,2023

b)ï¼Œä¿®å¤

(Wang

 et a

l.,20

23a)ï¼Œ

ä»¥åŠæŒ‡å¯¼æ€§

å›¾åƒ



ç¼–è¾‘(Zh

ang e

t al.

,2023

bï¼›Bro

okset

 al.,

2023)

ï¼Œå› ä¸ºä»–ä»¬

åœ¨ç®¡ç†å„ç§

å½¢å¼æ§åˆ¶(

Zhang

et



al.,2

023aï¼›

Li et

 al.,

2023b

)å’Œå¤šä¸ªæ¡

ä»¶(Liu

 et a

l.,20

22aï¼›G

ao et

 al.,

2023)

.æ­¤å¤–ï¼Œ



ä»å‡ ä½•æ³¨é‡Š

åˆæˆçš„æ•°æ®

å¯ä»¥å¸®åŠ©ä¸‹

æ¸¸ä»»åŠ¡ï¼Œä¾‹

å¦‚ 2D 

å¯¹è±¡æ£€æµ‹(

Chen 

et al

.,202

3cï¼›Wu

 et



al.,2

023b)

.å› æ­¤ï¼Œæœ¬

æ–‡æ¢è®¨äº† 

T2I æ‰©

æ•£æ¨¡å‹åœ¨ç”Ÿ

æˆè¡—æ™¯å›¾åƒ

å’Œæœ‰ç›Šäºä¸‹

æ¸¸ 3D 

æ„ŸçŸ¥æ¨¡å‹æ–¹



é¢çš„æ½œåŠ›ã€‚



Stree

t Vie

w Gen

erati

on. N

umero

us st

reet 

view 

gener

ation

 mode

ls co

nditi

on on

 2D l

ayout

s, su

ch



as 2D

 boun

ding 

boxes

 (Li 

et al

., 20

23b) 

and s

emant

ic se

gment

ation

 (Wan

g et 

al., 

2022)

. The

se



metho

ds le

verag

e 2D 

layou

t inf

ormat

ion c

orres

pondi

ng di

rectl

y to 

image

 scal

e, wh

ereas

 the 

3D



infor

matio

n doe

s not

 poss

ess t

his p

roper

ty, t

hereb

y ren

derin

g suc

h met

hods 

unsui

table

 for



lever

aging

 3D i

nfor-

 mati

on fo

r gen

erati

on. F

or st

reet 

view 

synth

esis 

with 

3D ge

ometr

y, BE

VGen



(Swer

dlow 

et al

., 20

23) i

s the

 firs

t to 

explo

re. I

t uti

lizes

 a BE

V map

 as a

 cond

ition

 for 

both 

roads



and v

ehicl

es. H

oweve

r, th

e omi

ssion

 of h

eight

 info

rmati

on li

mits 

its a

pplic

ation

 in 3

D obj

ect



detec

tion.

 BEVC

ontro

l (Ya

ng et

 al.,

 2023

a) am

ends 

the l

oss o

f obj

ectâ€™s

 heig

ht by

 the 

heigh

t-lif

ting



proce

ss. S

imila

rly, 

Wang 

et al

. (20

23b) 

also 

proje

cts 3

D box

es to

 came

ra vi

ews t

o gui

de



gener

ation

. How

ever,

 the 

proje

ction

 from

 3D t

o 2D 

resul

ts in

 the 

loss 

of es

senti

al 3D

 geom

etric



infor

matio

n, li

ke de

pth a

nd oc

clusi

on. I

n thi

s pap

er, w

e pro

pose 

to en

code 

bound

ing b

oxes 

and



road 

maps 

separ

ately

 for 

more 

nuanc

ed co

ntrol

 and 

integ

rate 

scene

 desc

ripti

ons, 

offer

ing e

nhanc

ed



contr

ol ov

er th

e gen

erati

on of

 stre

et vi

ews.



è¡—æ™¯ç”Ÿæˆã€‚

è®¸å¤šè¡—æ™¯ç”Ÿ

æˆæ¨¡å‹ä»¥ 

2D å¸ƒå±€

ä¸ºæ¡ä»¶ï¼Œä¾‹

å¦‚ 2D 

è¾¹ç•Œæ¡†(L

i et 

al.,2

023b)

å’Œè¯­ä¹‰



åˆ†å‰²(Wa

ng et

 al.,

2022)

.è¿™äº›æ–¹æ³•

åˆ©ç”¨ç›´æ¥å¯¹

åº”äºå›¾åƒæ¯”

ä¾‹çš„ 2D

 å¸ƒå±€ä¿¡æ¯

ï¼Œè€Œ 3D

 ä¿¡æ¯ä¸



å…·æœ‰è¿™ç§å±

æ€§ï¼Œä»è€Œä½¿

å¾—è¿™äº›æ–¹æ³•

ä¸é€‚åˆåˆ©ç”¨

 3D ä¿¡

æ¯æ¥ç”Ÿæˆã€‚

å¯¹äºå…·æœ‰ 

3D å‡ ä½•

å½¢çŠ¶çš„è¡—



æ™¯åˆæˆï¼ŒB

EVGen

(Swer

dlow 

et al

.,202

3)ç‡å…ˆæ¢

ç´¢ã€‚å®ƒåˆ©ç”¨

 BEV 

å›¾ä½œä¸ºé“è·¯

å’Œè½¦è¾†çš„æ¡



ä»¶ã€‚ç„¶è€Œï¼Œ

é«˜åº¦ä¿¡æ¯çš„

é—æ¼é™åˆ¶äº†

å®ƒåœ¨ä¸‰ç»´ç‰©

ä½“æ£€æµ‹ä¸­çš„

åº”ç”¨ã€‚é¥®æ–™

æ§åˆ¶ (Y

anget



al.,2

023a)

é€šè¿‡é«˜åº¦æ

å‡è¿‡ç¨‹ä¿®æ­£

å¯¹è±¡é«˜åº¦çš„

æŸå¤±ã€‚åŒæ ·

çš„ï¼ŒWan

g et 

al.ï¼ˆ2

023b)

è¿˜å°†



3D æ¡†æŠ•

å½±åˆ°ç›¸æœºè§†

å›¾ä»¥æŒ‡å¯¼ç”Ÿ

æˆã€‚ç„¶è€Œï¼Œ

ä» 3D 

åˆ° 2D 

çš„æŠ•å½±å¯¼è‡´

åŸºæœ¬ 3D

 å‡ ä½•ä¿¡æ¯

çš„ä¸¢å¤±ï¼Œ



å¦‚æ·±åº¦å’Œé®

æŒ¡ã€‚åœ¨æœ¬æ–‡

ä¸­ï¼Œæˆ‘ä»¬å»º

è®®å¯¹è¾¹ç•Œæ¡†

å’Œé“è·¯åœ°å›¾

åˆ†åˆ«è¿›è¡Œç¼–

ç ï¼Œä»¥å®ç°

æ›´ç»†è‡´çš„



æ§åˆ¶ï¼Œå¹¶é›†

æˆåœºæ™¯æè¿°

ï¼Œä»è€Œå¢å¼º

å¯¹è¡—æ™¯ç”Ÿæˆ

çš„æ§åˆ¶ã€‚



Multi

-came

ra Im

age G

enera

tion 

of a 

3D sc

ene f

undam

ental

ly re

quire

s vie

wpoin

t con

siste

ncy.



Sever

al st

udies

 have

 addr

essed

 this

 issu

e wit

hin t

he co

ntext

 of i

ndoor

 scen

es. F

or in

stanc

e,



MVDif

- fus

ion (

Tang 

et al

., 20

23) e

mploy

s pan

orami

c ima

ges a

nd a 

cross

-view

 atte

ntion

 modu

le



to ma

intai

n glo

bal c

onsis

tency

, whi

le Ts

eng e

t al.

 (202

3) le

verag

e epi

polar

 geom

etry 

as a



const

raini

ng pr

ior. 

These

 appr

oache

s, ho

wever

, pri

maril

y rel

y on 

the c

ontin

uity 

of im

age v

iews,

 a



condi

tion 

not a

lways

 met 

in st

reet 

views

 due 

to li

mited

 came

ra ov

erlap

 and 

diffe

rent 

camer

a



confi

gurat

ions 

(e.g.

, exp

o- su

re, i

ntrin

sic).

 Our 

MAGIC

DRIVE

 intr

oduce

s ext

ra cr

oss-v

iew a

ttent

ion



modul

es to

 UNet

, whi

ch si

gnifi

cantl

y enh

ances

 cons

isten

cy ac

ross 

multi

-came

ra vi

ews.



3D åœºæ™¯

çš„å¤šç›¸æœºå›¾

åƒç”Ÿæˆä»æ ¹

æœ¬ä¸Šè¦æ±‚è§†

ç‚¹çš„ä¸€è‡´æ€§

ã€‚ä¸€äº›ç ”ç©¶

å·²ç»åœ¨å®¤å†…

åœºæ™¯çš„èƒŒæ™¯

ä¸‹



è§£å†³äº†è¿™ä¸ª

é—®é¢˜ã€‚ä¾‹å¦‚

ï¼ŒMVDi

f- fu

sion(

Tang 

et al

.,202

3)é‡‡ç”¨å…¨

æ™¯å›¾åƒå’Œäº¤

å‰è§†å›¾æ³¨æ„



æ¨¡å—æ¥ä¿æŒ

å…¨å±€ä¸€è‡´æ€§

ï¼Œè€Œ Ts

eng e

t al.

ï¼ˆ2023

)åˆ©ç”¨æ ¸å‡ 

ä½•ä½œä¸ºçº¦æŸ

å…ˆéªŒã€‚ç„¶è€Œ

ï¼Œè¿™äº›



i



j



i



j



0



0



âˆˆ âˆˆ



âˆˆ âˆˆ



Publi

shed 

as a 

confe

rence

 pape

r at 

ICLR 

2024



7



æ–¹æ³•ä¸»è¦ä¾

èµ–äºå›¾åƒè§†

å›¾çš„è¿ç»­æ€§

ï¼Œç”±äºæœ‰é™

çš„ç›¸æœºé‡å 

å’Œä¸åŒçš„ç›¸

æœºé…ç½® (

ä¾‹å¦‚ï¼Œæ›å…‰



çš„ã€å†…åœ¨çš„

)ï¼Œåœ¨è¡—é“

è§†å›¾ä¸­å¹¶ä¸

æ€»æ˜¯æ»¡è¶³è¿™

ä¸€æ¡ä»¶ã€‚æˆ‘

ä»¬çš„ MA

GICDR

IVE ä¸º

 UNet

 å¼•å…¥äº†é¢



å¤–çš„è·¨è§†å›¾

æ³¨æ„æ¨¡å—ï¼Œ

è¿™æ˜¾è‘—å¢å¼º

äº†å¤šæ‘„åƒæœº

è§†å›¾çš„ä¸€è‡´

æ€§ã€‚



5 PRE

LIMIN

ARY



6 åˆæ­¥çš„



Probl

em Fo

rmula

tion.

 In t

his p

aper,

 we c

onsid

er th

e coo

rdina

te of

 the 

LiDAR

 syst

em as

 the 

ego



carâ€™s

 coor

dinat

e, an

d par

amete

rize 

all g

eomet

ric i

nform

ation

 acco

rding

 to i

t. Le

t S =

 {M,



B, L}

 be t

he de

scrip

tion 

of a 

drivi

ng sc

ene a

round

 the 

ego v

ehicl

e, wh

ere M

 âˆˆ {0

, 1}



wÃ—hÃ—c



is th

e bin

ary m

ap re

prese

nting

 a w 

Ã— h m

eter 

road 

area 

in BE

V wit

h c s

emant

ic cl

asses

,



B = {

(ci, 

bi)}



N



é—®é¢˜å…¬å¼åŒ–

ã€‚åœ¨æœ¬æ–‡ä¸­

ï¼Œæˆ‘ä»¬å°†æ¿€

å…‰é›·è¾¾ç³»ç»Ÿ

çš„åæ ‡è§†ä¸º

è‡ªæˆ‘è½¦çš„å

æ ‡ï¼Œå¹¶æ ¹æ®

å®ƒæ¥å‚æ•°



åŒ–æ‰€æœ‰çš„å‡ 

ä½•ä¿¡æ¯ã€‚è®¾

 S = 

{Mï¼ŒBï¼Œ

L}æ˜¯è‡ªæˆ‘

è½¦è¾†å‘¨å›´çš„

é©¾é©¶åœºæ™¯çš„

æè¿°ï¼Œå…¶ä¸­

 M âˆˆ



{0ï¼Œ1}

wÃ—hÃ—c

 æ˜¯è¡¨ç¤º 

BEV ä¸­

å…·æœ‰ c 

ä¸ªè¯­ä¹‰ç±»çš„

 wÃ—h 

ç±³é“è·¯åŒºåŸŸ

çš„äºŒè¿›åˆ¶åœ°

å›¾ï¼ŒB =



{(ciï¼Œ

bi)}N



repre

sents

 the 

3D bo

undin

g box

 posi

tion 

(bi =

 {(xj

, yj,

 zj)}



8 âˆˆ R



8Ã—3



) and

 clas

s (ci

 âˆˆ



C)



è¡¨ç¤ºä¸‰ç»´è¾¹

ç•Œæ¡†çš„ä½ç½®

(bi =

 {(xj

ï¼Œyjï¼Œz

j)}8 

âˆˆ R8Ã—

3)å’Œç±»(

ci âˆˆ 

C)



for e

ach o

bject

 in t

he sc

ene, 

and L

 is t

he te

xt de

scrib

ing a

dditi

onal 

infor

matio

n abo

ut th

e sce

ne



(e.g.

, wea

ther 

and t

ime o

f day

). Gi

ven a

 came

ra po

se P 

= [K,

 R, T

] (i.

e., i

ntrin

sics,

 rota

tion,



and t

ransl

ation

), th

e goa

l of 

stree

t-vie

w ima

ge ge

nerat

ion i

s to 

learn

 a ge

nerat

or G(

Â·) wh

ich



synth

esize

s



å¯¹äºåœºæ™¯ä¸­

çš„æ¯ä¸ªå¯¹è±¡

ï¼ŒL æ˜¯æ

è¿°å…³äºåœºæ™¯

çš„é™„åŠ ä¿¡æ¯

çš„æ–‡æœ¬(ä¾‹

å¦‚ï¼Œå¤©æ°”å’Œ

ä¸€å¤©ä¸­çš„æ—¶



é—´)ã€‚ç»™å®š

ç›¸æœºå§¿æ€ 

P = [

Kï¼ŒRï¼ŒT

](å³ï¼Œå†…

åœ¨çš„ã€æ—‹è½¬

å’Œå¹³ç§»)ï¼Œ

è¡—æ™¯å›¾åƒç”Ÿ

æˆçš„ç›®æ ‡æ˜¯

å­¦



ä¹ ç”Ÿæˆå™¨ 

G()ï¼Œè¯¥

ç”Ÿæˆå™¨ G

()åˆæˆ



reali

stic 

image

s I âˆˆ

 R



HÃ—W Ã—

3



corre

spond

ing t

o the

 scen

e S a

nd ca

mera 

pose 

P as,

 I = 

G(S,



P, z)

, whe

re z 

âˆ¼ N (

0, 1)

 is a

 rand

om no

ise f

rom G

aussi

an di

strib

ution

.



å¯¹åº”äºåœºæ™¯

 S å’Œç›¸

æœºå§¿æ€ P

 çš„çœŸå®æ„Ÿ

å›¾åƒ I 

âˆˆ RHÃ—

W Ã—3 

ä¸ºï¼ŒI =

 G(Sï¼Œ

Pï¼Œz)ï¼Œ

å…¶ä¸­



zâˆN(0

ï¼Œ1)æ˜¯æ¥

è‡ªé«˜æ–¯åˆ†å¸ƒ

çš„éšæœºå™ªå£°

ã€‚



Condi

tiona

l Dif

fusio

n Mod

els. 

Diffu

sion 

model

s (Ho

 et a

l., 2

020; 

Song 

et al

., 20

20) g

enera

te



data 

(x0) 

by it

erati

vely 

denoi

sing 

a ran

dom G

aussi

an no

ise (

xT ) 

for T

 step

s. Ty

pical

ly, t

o lea

rn



the d

enois

ing p

roces

s, th

e net

work 

is tr

ained

 to p

redic

t the

 nois

e by 

minim

izing

 the 

mean-

squar

e



error

:



æ¡ä»¶æ‰©æ•£æ¨¡

å‹ã€‚æ‰©æ•£æ¨¡

å‹(Ho 

et al

.,202

0ï¼›Son

g et 

al.,2

0202)

é€šè¿‡å¯¹ T

 æ­¥éšæœºé«˜

æ–¯å™ªå£°



(xT)è¿›

è¡Œè¿­ä»£å»å™ª

æ¥ç”Ÿæˆæ•°æ®

(x0)ã€‚

é€šå¸¸ï¼Œä¸ºäº†

å­¦ä¹ å»å™ªè¿‡

ç¨‹ï¼Œç½‘ç»œè¢«

è®­ç»ƒæˆé€šè¿‡

æœ€å°åŒ–



å‡æ–¹è¯¯å·®æ¥

é¢„æµ‹å™ªå£°:



â„“simp

le = 

Ex ,c

,Ïµ,t 

||Ïµ âˆ’

 ÏµÎ¸ (



âˆš



Î±Â¯tx0

 +



âˆš



1 âˆ’ Î±

Â¯t Ïµ,

 t, c

)||2



, (1)



â„“ Ïµ Ïµ

Ïµ Ïµ s

imple

 = ex

 ,c, 

,t|| 

Î¸(âˆšÎ±t

x0+âˆš1

Î±t ï¼Œt

ï¼Œc)||

2ï¼Œ



(1)



where

 ÏµÎ¸ i

s the

 netw

ork t

o tra

in, w

ith p

arame

ters 

Î¸, c 

is op

tiona

l con

ditio

ns, w

hich 

is us

ed fo

r the



condi

tiona

l gen

erati

on, t

[0, T

 ] is

 the 

time-

step,

 Ïµ(0,

 I) i

s the

 addi

tive 

Gauss

ian n

oise,

 and



Î±Â¯ t 

is a 

scala

r par

amete

r. La

tent 

diffu

sion 

model

s (LD

M) (R

ombac

h et 

al., 

2022)

 is a

 spec

ial k

ind



of di

ffusi

on mo

del, 

where

 they

 util

ize a

 pre-

train

ed Ve

ctor 

Quant

ized 

Varia

tiona

l Aut

oEnco

der



(VQå…¶ä¸­

ï¼ŒÏµÎ¸ æ˜¯

è¦è®­ç»ƒçš„ç½‘

ç»œï¼Œå‚æ•°ä¸º

 Î¸ï¼Œc 

æ˜¯å¯é€‰æ¡ä»¶

ï¼Œç”¨äºæ¡ä»¶

ç”Ÿæˆï¼Œt[

0ï¼ŒT ]

æ˜¯æ—¶é—´



æ­¥é•¿ï¼ŒÏµ(

0ï¼ŒI)æ˜¯

åŠ æ€§é«˜æ–¯å™ª

å£°ï¼ŒÎ± t

 æ˜¯æ ‡é‡å‚

æ•°ã€‚æ½œåœ¨æ‰©

æ•£æ¨¡å‹(L

DM)(R

ombac

h et



al.,2

022)æ˜¯

ä¸€ç§ç‰¹æ®Šçš„

æ‰©æ•£æ¨¡å‹ï¼Œ

å…¶ä¸­ä»–ä»¬åˆ©

ç”¨é¢„è®­ç»ƒçš„

çŸ¢é‡é‡åŒ–å˜

åˆ†è‡ªåŠ¨ç¼–ç 

å™¨(VQ



VAE) 

(Esse

r et 

al., 

2021)

 and 

perfo

rm di

ffusi

on pr

ocess

 in t

he la

âˆš



tent 

space

. Gâˆš



iven 

the V

Q-VAE



VAE)(

Esser

 et a

l.,20

21)å¹¶åœ¨

 laâˆšt

ent ç©º

é—´è¿›è¡Œæ‰©æ•£

å¤„ç†ã€‚gâˆš

è‰¾æ–‡ VQ

-VAE



encod

er as

 z = 

E(x),

 one 

can r

ewrit

e ÏµÎ¸(

Â·) in

 Equa

tion 

1 as 

ÏµÎ¸( Î±

Â¯tE(x

0) + 

1 âˆ’



Î±Â¯t Ïµ

, t, 

c) fo

r



ç¼–ç å™¨ä¸º 

z = E

(x)ï¼Œå¯

ä»¥å°† ÏµÎ¸

()æ”¹å†™ä¸º

ç­‰å¼ 1 

ä½œä¸º ÏµÎ¸

( Î± t

E(x0)

 + 1Î±

tÏµï¼Œtï¼Œ

c)



LDM. 

Besid

es, L

DM co

nside

rs te

xt de

scrib

ing t

he im

age a

s con

ditio

n c.



LDMã€‚æ­¤

å¤–ï¼ŒLDM

 è®¤ä¸ºæè¿°

å›¾åƒçš„æ–‡å­—

æ˜¯æ¡ä»¶ c



Promp

t:



â€œA dr

iving

 scen

e <de

scrip

tion>

â€



UNet 

â€œA dr

iving

 scen

e ...

 â€



QQ



KVKV



Camer

a Pos

e



Objec

t Box



â€œA dr

iving

 scen

e ...

 Rain

 ...â€



Seq E

mbedd

ing:



<CAM>

 <TXT

> <BO

X 1> 

... <

BOX n

>



Road 

Map Q

 KV C

ross-

view 

Atten

tionT

raina

ble C

ross-

atten

tion 

injec

tion 

Froze

n Add

ictiv

e enc

oder 

injec

Promp

t:



â€œA dr

iving

 scen

e <de

scrip

tion>

â€



UNet 

â€œA dr

iving

 scen

e ...

 â€



QQ



KVKV



Camer

a Pos

e



Objec

t Box



â€œA dr

iving

 scen

e ...

 Rain

 ...â€



Seq E

mbedd

ing:



<CAM>

 <TXT

> <BO

X 1> 

... <

BOX n

>



Road 

Map Q

 KV C

ross-

view 

Atten

tionT

raina

ble C

ross-

atten

tion 

injec

tion 

Froze

n Add

ictiP

ublis

hed a

s a c

onfer

ence 

paper

 at I

CLR 2

024



8



Figur

e 3: 

Overv

iew o

f MAG

ICDRI

VE fo

r str

eet-v

iew i

mage 

gener

ation

. MAG

ICDRI

VE ge

nerat

es



highl

y rea

listi

c ima

ges, 

explo

iting

 geom

etric

 info

rmati

on fr

om 3D

 anno

tatio

ns by

 inde

pende

ntly



encod

ing r

oad m

aps, 

objec

t box

es, a

nd ca

mera 

param

eters

 for 

preci

se, g

eomet

ry-gu

ided 

synth

esis.



Addit

ional

ly, M

AGICD

RIVE 

accom

modat

es gu

idanc

e fro

m des

cript

ive c

ondit

ions 

(e.g.

, wea

ther)

.



å›¾ 3:ç”¨

äºè¡—æ™¯å›¾åƒ

ç”Ÿæˆçš„ M

AGICD

RIVE 

æ¦‚è¿°ã€‚MA

GICDR

IVE ç”Ÿ

æˆé«˜åº¦é€¼çœŸ

çš„å›¾åƒï¼Œé€š

è¿‡ç‹¬ç«‹



ç¼–ç è·¯çº¿å›¾

ã€å¯¹è±¡æ¡†å’Œ

ç›¸æœºå‚æ•°ï¼Œ

åˆ©ç”¨ 3D

 æ³¨é‡Šä¸­çš„

å‡ ä½•ä¿¡æ¯è¿›

è¡Œç²¾ç¡®çš„å‡ 

ä½•å¯¼å‘åˆæˆ

ã€‚æ­¤



å¤–ï¼ŒMAG

ICDRI

VE è¿˜æ”¯

æŒæ¥è‡ªæè¿°

æ€§æ¡ä»¶(å¦‚

å¤©æ°”)çš„æŒ‡

å¯¼ã€‚



7 STR

EET V

IEW G

ENERA

TION 

WITH 

3D IN

FORMA

TION



8 åŸºäº 

3D ä¿¡æ¯

çš„è¡—æ™¯ç”Ÿæˆ



The o

vervi

ew of

 MAGI

CDRIV

E is 

depic

ted i

n Fig

ure 3

. Ope

ratin

g on 

the L

DM pi

pelin

e, MA

GICDR

IVE g

enera

tes s

treet

-view

 imag

es co

nditi

oned 

on bo

th sc

ene a

nnota

tions

 (S) 

and t

he ca

mera



pose 

(P) f

or ea

ch vi

ew. G

iven 

the 3

D geo

metri

c inf

ormat

ion i

n sce

ne an

notat

ions,

 proj

ectin

g all

 to



a BEV

 map,

 akin

 to B

EVGen

 (Swe

rdlow

 et a

l., 2

023) 

or BE

VCont

rol (

Yang 

et al

., 20

23a),

 does

nâ€™t



ensur

e pre

cise 

guida

nce f

or st

reet 

view 

gener

ation

, as 

exemp

lifie

d in 

Figur

e 2. 

Conse

quent

ly,



MAG- 

ICDRI

VE ca

tegor

izes 

condi

tions

 into

 thre

e lev

els: 

scene

 (tex

t and

 came

ra po

se), 

foreg

round



(3D b

oundi

ng bo

xes),

 and 

backg

round

 (roa

d map

); an

d int

egrat

es th

em se

parat

ely v

ia cr

ossat

tenti

on an

d an 

addit

ive e

ncode

r bra

nch, 

detai

led i

n Sec

tion 

4.1. 

Addit

ional

ly, m

ainta

ining



consi

stenc

y acr

oss d

iffer

ent c

amera

s is 

cruci

al fo

r syn

thesi

zing 

stree

t vie

ws. T

hus, 

we in

trodu

ce a



simpl

e yet

 effe

ctive

 cros

s-vie

w att

entio

n mod

ule i

n Sec

tion 

4.2. 

Lastl

y, we

 eluc

idate

 our 

train

ing



strat

egies

 in S

ectio

n 4.3

, emp

hasiz

ing C

lassi

fier-

Free 

Guida

nce (

CFG) 

in in

tegra

ting 

vario

us



condi

tions

.



MAGIC

DRIVE

 çš„æ¦‚è¿°å¦‚

å›¾æ‰€ç¤º 3

ã€‚MAG-

 ICDR

IVE åœ¨

 LDM 

ç®¡é“ä¸Šè¿è¡Œ

ï¼Œæ ¹æ®æ¯ä¸ª

è§†å›¾çš„åœºæ™¯

æ³¨



é‡Šå’Œç›¸æœºå§¿

æ€ç”Ÿæˆè¡—æ™¯

å›¾åƒã€‚ç»™å®š

åœºæ™¯æ³¨é‡Šä¸­

çš„ 3D 

å‡ ä½•ä¿¡æ¯ï¼Œ

å°†æ‰€æœ‰æŠ•å½±

åˆ° BEV

 å›¾ï¼Œç±»ä¼¼



äº BEV

Gen(S

werdl

ow et

 al.,

2023)

æˆ– BEV

Contr

ol(Ya

ng et

 al.,

2023a

)ï¼Œä¸èƒ½ç¡®

ä¿è¡—æ™¯ç”Ÿ



æˆçš„ç²¾ç¡®æŒ‡

å¯¼ï¼Œå¦‚å›¾æ‰€

ç¤º 2ã€‚å› 

æ­¤ï¼ŒMAG

- ICD

RIVE 

å°†æ¡ä»¶åˆ†ä¸º

ä¸‰ä¸ªçº§åˆ«:

åœºæ™¯(æ–‡æœ¬

å’Œç›¸æœº



å§¿åŠ¿)ã€å‰

æ™¯(3D 

è¾¹ç•Œæ¡†)å’Œ

èƒŒæ™¯(è·¯çº¿

å›¾)ï¼›å¹¶é€š

è¿‡äº¤å‰æ³¨æ„

å’Œé™„åŠ ç¼–ç 

å™¨åˆ†æ”¯åˆ†åˆ«

é›†æˆå®ƒ



ä»¬ï¼Œè¯¦è§ç¬¬

èŠ‚ 4.1

ã€‚æ­¤å¤–ï¼Œä¿

æŒä¸åŒæ‘„åƒ

æœºä¹‹é—´çš„ä¸€

è‡´æ€§å¯¹äºåˆ

æˆè¡—æ™¯è‡³å…³

é‡è¦ã€‚å› æ­¤

ï¼Œ



æˆ‘ä»¬åœ¨ç¬¬ä¸€

èŠ‚ä»‹ç»äº†ä¸€

ä¸ªç®€å•è€Œæœ‰

æ•ˆçš„äº¤å‰è§†

è§’æ³¨æ„æ¨¡å—

 4.2ã€‚

æœ€åï¼Œæˆ‘ä»¬

åœ¨ç¬¬äºŒèŠ‚é˜

è¿°



äº†æˆ‘ä»¬çš„åŸ¹

è®­ç­–ç•¥ 4

.3ï¼Œå¼ºè°ƒ

æ— åˆ†ç±»å™¨å¼•

å¯¼(CFG

)åœ¨ç»¼åˆå„

ç§æ¡ä»¶ã€‚



8.1 G

EOMET

RIC C

ONDIT

IONS 

ENCOD

ING



8.2 å‡ 

ä½•æ¡ä»¶ç¼–ç 



{ } {

 }



{ âˆˆ âˆˆ

 âˆˆ }



{ } {

 }



{ âˆˆ âˆˆ

 âˆˆ }



âˆˆ



âˆˆ



Publi

shed 

as a 

confe

rence

 pape

r at 

ICLR 

2024



9



As il

lustr

ated 

in Fi

gure 

3, tw

o str

ategi

es ar

e emp

loyed

 for 

infor

matio

n inj

ectio

n int

o the

 UNet

 of



diffu

sion 

model

s: cr

oss-a

ttent

ion a

nd ad

ditiv

e enc

oder 

branc

h. Gi

ven t

hat t

he at

tenti

on me

chani

sm (V

aswan

i et 

al., 

2017)

 is t

ailor

ed fo

r seq

uenti

al da

ta, c

ross-

atten

tion 

is ap

t for

 mana

ging 

varia

ble l

ength

 inpu

ts li

ke te

xt to

kens 

and b

oundi

ng bo

xes. 

Conve

rsely

, for

 grid

-like

 data

, suc

h as 

road



maps,

 the 

addit

ive e

ncode

r bra

nch i

s eff

ectiv

e in 

infor

matio

n inj

ectio

n (Zh

ang e

t al.

, 202

3a).



There

- for

e, MA

GICDR

IVE e

mploy

s dis

tinct

 enco

ding 

modul

es fo

r var

ious 

condi

tions

.



å¦‚å›¾æ‰€ç¤º 

3 åœ¨æ‰©æ•£

æ¨¡å‹çš„ U

Net ä¸­

ï¼Œä¿¡æ¯æ³¨å…¥

é‡‡ç”¨äº†ä¸¤ç§

ç­–ç•¥:äº¤å‰

æ³¨æ„å’Œé™„åŠ 

ç¼–ç åˆ†æ”¯ã€‚



å‡è®¾æ³¨æ„åŠ›

æœºåˆ¶(Va

swani

 et a

l.,20

17)æ˜¯ä¸º

é¡ºåºæ•°æ®å®š

åˆ¶çš„ï¼Œæ‰€ä»¥

äº¤å‰æ³¨æ„é€‚

ç”¨äºç®¡ç†å¯



å˜é•¿åº¦çš„è¾“

å…¥ï¼Œå¦‚æ–‡æœ¬

æ ‡è®°å’Œè¾¹ç•Œ

æ¡†ã€‚ç›¸åï¼Œ

å¯¹äºåƒé“è·¯

åœ°å›¾è¿™æ ·çš„

ç½‘æ ¼çŠ¶æ•°æ®

ï¼ŒåŠ æ³•ç¼–



ç å™¨åˆ†æ”¯åœ¨

ä¿¡æ¯æ³¨å…¥(

Zhang

 et a

l.,20

23a).

å› æ­¤ï¼ŒMA

GICDR

IVE é’ˆ

å¯¹å„ç§æƒ…å†µ

é‡‡ç”¨ä¸åŒçš„



ç¼–ç æ¨¡å—ã€‚



Scene

-leve

l Enc

oding

 incl

udes 

camer

a pos

e P =

 K R



3Ã—3



, R R



3Ã—3



, T R



3Ã—1



, and

 text



seque

nce L

. For

 text

, we 

const

ruct 

the p

rompt

 with

 a te

mplat

e as 

â€œA dr

iving

 scen

e ima

ge



at lo

catio

n . d

escri

ption

 â€, a

nd le

verag

e a p

re-tr

ained

 CLIP

 text

 enco

der



(Etex

t) as

 LDM 

(Romb

ach e

t al.

, 202

2), a

s sho

wn by

 Equa

tion 

2, wh

ere L

 is t

he to

ken l

ength

 of L

.



As fo

r



åœºæ™¯çº§ç¼–ç 

åŒ…æ‹¬ç›¸æœºå§¿

æ€ P =

 K R3

Ã—3ï¼ŒR 

R3Ã—3ï¼Œ

T R3Ã—

1 å’Œæ–‡æœ¬

åºåˆ— lã€‚

å¯¹äºæ–‡æœ¬ï¼Œ



æˆ‘ä»¬ä½¿ç”¨æ¨¡

æ¿å°†æç¤ºæ„

é€ ä¸ºâ€œæŸä½

ç½®çš„é©¾é©¶åœº

æ™¯å›¾åƒâ€ã€‚

æè¿°â€ï¼Œå¹¶

åˆ©ç”¨é¢„è®­ç»ƒ

çš„å‰ª



è¾‘æ–‡æœ¬ç¼–ç 

å™¨(Ete

xt)ä½œä¸º

 LDM(

Romba

ch et

 al.,

2022)

ï¼Œå¦‚ç­‰å¼æ‰€

ç¤º 2ï¼Œå…¶

ä¸­ L æ˜¯

 L çš„ä»¤



ç‰Œé•¿åº¦ã€‚è‡³

äº



camer

a pos

e, we

 firs

t con

cat e

ach p

arame

ter b

y the

ir co

lumn,

 resu

lting

 in P

Â¯ = [

K, R,

 T]



T



R



7Ã—3



. Sin

ce PÂ¯

 cont

ains 

value

s fro

m sin

/cos 

funct

ions 

and a

lso 3

D off

sets,

 to h

ave t

he



model

 effe

ctive

ly ç›¸æœº

å§¿æ€ï¼Œæˆ‘ä»¬

é¦–å…ˆæŒ‰åˆ—è¿

æ¥æ¯ä¸ªå‚æ•°

ï¼Œå¾—åˆ° P

 = [K

ï¼ŒRï¼ŒT]

T R7Ã—

3ã€‚å› ä¸º 

P åŒ…å«æ¥

 è‡ªæ­£å¼¦/

ä½™å¼¦å‡½æ•°çš„

å€¼ä»¥åŠ 3

D åç§»ï¼Œ

æ‰€ä»¥æœ‰æ•ˆåœ°

å…·æœ‰æ¨¡å‹



inter

pret 

these

 high

-freq

uency

 vari

ation

s, we

 appl

y Fou

rier 

embed

ding 

(Mild

enhal

l et 

al., 

2020)

 to



ä¸ºäº†è§£é‡Šè¿™

äº›é«˜é¢‘å˜åŒ–

ï¼Œæˆ‘ä»¬åº”ç”¨

å‚…ç«‹å¶åµŒå…¥

(Mild

enhal

l et 

al.,2

020)åˆ°



each 

3-dim

 vect

or be

fore 

lever

aging

 a Mu

lti-L

ayer 

Perce

ption

 (MLP

, Eca

m) to

 embe

d the

 came

ra



pose 

param

eters

, as 

in Eq

uatio

n 3. 

To ma

intai

n con

siste

ncy, 

we se

t the

 dime

nsion

 of h



c



the s

ame



as th

at of

 h



t



. Thr

ough 

the C

LIP t

ext e

ncode

r, ea

ch te

xt em

beddi

ng h



t



alrea

dy co

ntain

s pos

ition

al



åœ¨åˆ©ç”¨å¤šå±‚

æ„ŸçŸ¥(ML

Pï¼ŒEca

m)æ¥åµŒå…¥

ç›¸æœºå§¿æ€å‚

æ•°ä¹‹å‰çš„æ¯

ä¸ªä¸‰ç»´å‘é‡

ï¼Œå¦‚ç­‰å¼ä¸­

æ‰€ç¤º 3ã€‚



ä¸ºäº†ä¿æŒä¸€

è‡´æ€§ï¼Œæˆ‘ä»¬

å°† hc 

çš„ç»´åº¦è®¾ç½®

ä¸ºä¸ ht

 çš„ç»´åº¦ç›¸

åŒã€‚é€šè¿‡å‰ª

è¾‘æ–‡æœ¬ç¼–ç 

å™¨ï¼Œæ¯ä¸ª



æ–‡æœ¬åµŒå…¥ 

htiæˆ‘å·²

ç»åŒ…å«ä½ç½®

 iæˆ‘



infor

matio

n (Ra

dford

 et a

l., 2

021).

 Ther

efore

, we 

prepe

nd th

e cam

era p

ose e

mbedd

ing h



c



to te

xt



embed

dings

, res

ultin

g in 

scene

-leve

l emb

eddin

g h



s = [

h



c



, h



t



].



ä¿¡æ¯(Ra

dford

 et a

l.,20

21).å› 

æ­¤ï¼Œæˆ‘ä»¬å°†

åµŒå…¥ hc

 çš„æ‘„åƒæœº

å§¿æ€æ·»åŠ åˆ°

æ–‡æœ¬åµŒå…¥ä¸­

ï¼Œä»è€Œå¾—åˆ°



åœºæ™¯çº§åµŒå…¥

 hs =

 [hcï¼Œ

ht]ã€‚



h



t = [

h



t



. . .

 h



t



] = E

text(

L), (

2)



ht = 

[htã€‚ã€‚

ã€‚ht ]

 = Et

ext(L

)ï¼Œ (2

)



1 L



ä¸€ L



h



c = E

cam(F

ourie

r(PÂ¯ 

)) = 

Ecam(

Fouri

er([K

, R, 

T]



T



)). (

3)



hc = 

Ecam(

å‚…ç«‹å¶(P

 )) =

 Ecam

(å‚…ç«‹å¶(

[Kï¼ŒRï¼Œ

T]T))

ã€‚ (3)



3D Bo

undin

g Box

 Enco

ding.

 Sinc

e eac

h dri

ving 

scene

 has 

a var

iable

 leng

th of

 boun

ding 

boxes

,



we in

ject 

them 

throu

gh th

e cro

ss-at

tenti

on me

chani

sm si

milar

 to s

cene-

level

 info

rmati

on.



Speci

fical

ly, w

e enc

ode e

ach b

ox in

to a 

hidde

n vec

tor h



b



, whi

ch ha

s the

 same

 dime

nsion

s as 

that



of h



t



. Eac

h 3D 

bound

ing b

ox (c

i, bi

) con

tains

 two 

types

 of i

nform

ation

: cla

ss la

bel c

i and

 box



posit

ion b

i. Fo

r



3D è¾¹ç•Œ

æ¡†ç¼–ç ã€‚ç”±

äºæ¯ä¸ªé©¾é©¶

åœºæ™¯éƒ½æœ‰å¯

å˜é•¿åº¦çš„åŒ…

å›´ç›’ï¼Œæˆ‘ä»¬

é€šè¿‡ç±»ä¼¼äº

åœºæ™¯çº§ä¿¡æ¯

çš„



äº¤å‰æ³¨æ„æœº

åˆ¶æ¥æ³¨å…¥å®ƒ

ä»¬ã€‚å…·ä½“æ¥

è¯´ï¼Œæˆ‘ä»¬å°†

æ¯ä¸ªç›’å­ç¼–

ç æˆä¸€ä¸ªéš

è—å‘é‡ h

bï¼Œå®ƒçš„ç»´

æ•°



ä¸ ht 

çš„ç»´æ•°ç›¸åŒ

ã€‚æ¯ä¸ª 3

D è¾¹ç•Œæ¡†

(ciï¼Œb

i)åŒ…å«ä¸¤

ç§ç±»å‹çš„ä¿¡

æ¯:ç±»åˆ«æ ‡

ç­¾ ci 

å’Œæ¡†ä½ç½®



biã€‚ä¸º



Train

able 

Froze

n



self-

attn



<CAM>

 <TXT

> <BO

Xes> 

cross

-attn



Left 

Neigh

bor



cross

-view

 attn



Right

 Neig

hbor



zero-

init



Train

able 

Froze

n



self-

attn



<CAM>

 <TXT

> <BO

Xes> 

cross

-attn



Left 

Neigh

bor



cross

-view

 attn



Right

 Neig

hbor



zero-

init



Publi

shed 

as a 

confe

rence

 pape

r at 

ICLR



1



Tansf

ormer

 Bloc

k



å˜å‹å™¨ç»„



witho

ut cr

oss-v

iew a

ttent

ion



Publi

shed 

as a 

confe

rence

 pape

r at 

ICLR



1



i âˆˆ



i âˆˆ



v i i

 i



v i i

 i



æ²¡æœ‰äº¤å‰è§†

è§’çš„å…³æ³¨



with 

cross

-view

 atte

ntion



æ³¨æ„äº¤å‰è§†

è§’



Figur

e 4: 

Cross

-view

 Atte

ntion

. lef

t: we

 intr

oduce

 cros

s-vie

w att

entio

n to 

the p

re-tr

ained

 UNet



after

 the 

cross

-atte

ntion

 modu

le. r

ight:

 we h

ighli

ght s

ome a

reas 

for c

ompar

ison 

betwe

en wi

thout



and w

ith c

ross-

view 

atten

tion.

 Cros

s-vie

w att

entio

n gua

rante

es co

nsist

ency 

acros

s mul

tiple

 view

s.



å›¾ 4:äº¤

å‰è§†è§’æ³¨æ„

åŠ›ã€‚å·¦å›¾:

åœ¨äº¤å‰æ³¨æ„

åŠ›æ¨¡å—ä¹‹å

ï¼Œæˆ‘ä»¬å°†äº¤

å‰æ³¨æ„åŠ›å¼•

å…¥é¢„è®­ç»ƒçš„



UNetã€‚

å³å›¾:æˆ‘ä»¬

çªå‡ºæ˜¾ç¤ºäº†

ä¸€äº›åŒºåŸŸï¼Œ

ä»¥ä¾¿åœ¨æ²¡æœ‰

äº¤å‰è§†å›¾æ³¨

æ„åŠ›å’Œæœ‰äº¤

å‰è§†å›¾æ³¨æ„

åŠ›çš„



æƒ…å†µä¸‹è¿›è¡Œ

æ¯”è¾ƒã€‚è·¨è§†

å›¾æ³¨æ„åŠ›ä¿

è¯äº†å¤šä¸ªè§†

å›¾çš„ä¸€è‡´æ€§

ã€‚



class

 labe

ls, w

e uti

lize 

the m

ethod

 simi

lar t

o Li 

et al

. (20

23b),

 wher

e the

 pool

ed em

beddi

ngs o

f



class

 name

s (Lc

 ) ar

e con

sider

ed as

 labe

l emb

eddin

gs. F

or bo

x pos

ition

s bi 

R



8Ã—3



,



repre

sente

d by 

the c

oordi

nates

 of i

ts 8 

corne

r poi

nts, 

we ut

ilize

 Four

ier e

mbedd

ing t

o eac

h poi

nt



and p

ass t

hroug

h an 

MLP f

or en

codin

g, as

 in E

quati

on 4.

 Then

, we 

use a

n MLP

 to c

ompre

ss



both 

class

 and 

posit

ion e

mbedd

ing i

nto o

ne hi

dden 

vecto

r, as

 in E

quati

on 5.

 The 

final

 hidd

en



state

s for

 all 

bound

ing b

oxes



ç±»æ ‡ç­¾ï¼Œæˆ‘

ä»¬åˆ©ç”¨ç±»ä¼¼

äº Li 

et al

.ï¼ˆ202

3b)ï¼Œå…¶

ä¸­ç±»å(L

c)çš„æ± åŒ–

åµŒå…¥è¢«è®¤ä¸º

æ˜¯æ ‡ç­¾åµŒ



å…¥ã€‚å¯¹äºç”±

 8 ä¸ªè§’

ç‚¹çš„åæ ‡è¡¨

ç¤ºçš„æ¡†ä½ç½®

 bi R

8Ã—3ï¼Œæˆ‘

ä»¬åˆ©ç”¨å‚…ç«‹

å¶åµŒå…¥åˆ°æ¯

ä¸ªç‚¹ï¼Œå¹¶é€š



è¿‡ MLP

 è¿›è¡Œç¼–ç 

ï¼Œå¦‚ç­‰å¼æ‰€

ç¤º 4ã€‚ç„¶

åï¼Œæˆ‘ä»¬ä½¿

ç”¨ MLP

 å°†ç±»åˆ«å’Œ

ä½ç½®åµŒå…¥å‹

ç¼©åˆ°ä¸€ä¸ªéš



è—å‘é‡ä¸­ï¼Œ

å¦‚ç­‰å¼æ‰€ç¤º

 5ã€‚æ‰€æœ‰

è¾¹ç•Œæ¡†çš„æœ€

ç»ˆéšè—çŠ¶æ€

 of e

ach s

cene 

are r

epres

ented

 as h



b = [

h



b



. . .

 h



b



], wh

ere N

 is t

he nu

mber 

of bo

xes. 

è¡¨ç¤ºä¸º h

b = [

hbã€‚ã€‚ã€‚

hb ]ï¼Œ

å…¶ä¸­ N 

æ˜¯ç›’å­çš„æ•°

é‡ã€‚ 1 

N



ä¸€ æ™®é€š



e



b



(i) =

 AvgP

ool(E

text(

Lc ))

, e



b



(i) =

 MLPp

(Four

ier(b

i)), 

(4) e

b(i) 

= Avg

Pool(

Etext

(Lc))

ï¼Œeb (

i) = 

MLPp(

Fouri

er(bi

))ï¼Œ(4

)



c i p



c æˆ‘ p



h



b = E

box(c

i, bi

) = M

LPb(e



b



(i), 

e



b



(i)).

 (5)



hb = 

Ebox(

ciï¼Œbi

) = M

LPb(e

b(i)ï¼Œ

eb(i)

)ã€‚ (5

)



i c p



æˆ‘ c p



Ideal

ly, t

he mo

del l

earns

 the 

geome

tric 

relat

ionsh

ip be

tween

 boun

ding 

boxes

 and 

camer

a pos

e



throu

gh tr

ainin

g. Ho

wever

, the

 dist

ribut

ion o

f the

 numb

er of

 visi

ble b

oxes 

to di

ffere

nt vi

ews



is lo

ng-ta

iled.

 Thus

, we 

boots

trap 

learn

ing b

y fil

terin

g vis

ible 

objec

ts to

 each

 view

 (vi)

, i.e

.,



fviz 

in Eq

uatio

n 6. 

Besid

es, w

e als

o add

 invi

sible

 boxe

s for

 augm

entat

ion (

more 

detai

ls in

 Sect

ion



4.3).



ç†æƒ³æƒ…å†µä¸‹

ï¼Œæ¨¡å‹é€šè¿‡

è®­ç»ƒå­¦ä¹ è¾¹

ç•Œæ¡†å’Œç›¸æœº

å§¿æ€ä¹‹é—´çš„

å‡ ä½•å…³ç³»ã€‚

ç„¶è€Œï¼Œä¸åŒ

è§†å›¾



çš„å¯è§æ¡†çš„

æ•°é‡åˆ†å¸ƒæ˜¯

é•¿å°¾çš„ã€‚å› 

æ­¤ï¼Œæˆ‘ä»¬é€š

è¿‡å°†å¯è§å¯¹

è±¡è¿‡æ»¤åˆ°æ¯

ä¸ªè§†å›¾(v

i)ï¼Œå³



æ–¹ç¨‹ä¸­çš„ 

fvizï¼Œ

æ¥å¼•å¯¼å­¦ä¹ 

 6ã€‚é™¤æ­¤

ä¹‹å¤–ï¼Œæˆ‘ä»¬

è¿˜å¢åŠ äº†éš

å½¢çš„å¢å¼ºæ¡†

(æ›´å¤šç»†èŠ‚

è¯·è§



4.3).



h



b= {h



b âˆˆ h



b



|fviz

(bi, 

Rv , 

Tv ) 

> 0}.

 (6)



hb= {

hb âˆˆ 

hb|fv

iz(bi

ï¼ŒRvï¼ŒT

v ) >

 0}ã€‚ 

(6)



Road 

Map E

ncodi

ng. T

he ro

ad ma

p has

 a 2D

-grid

 form

at. W

hile 

Zhang

 et a

l. (2

023a)

 show

s



the a

ddict

ive e

ncode

r can

 inco

rpora

te th

is ki

nd of

 data

 for 

2D gu

idanc

e, th

e inh

erent

 pers

pecti

ve



diffe

rence

s bet

ween 

the r

oad m

apâ€™s 

BEV a

nd th

e cam

eraâ€™s

 Firs

t-Per

son V

iew (

FPV) 

creat

e



discr

ep- a

ncies

. BEV

Contr

ol (Y

ang e

t al.

, 202

3a) e

mploy

s a b

ack-p

rojec

tion 

to tr

ansfo

rm fr

om



BEV t

o FPV

 but 

compl

icate

s the

 situ

ation

 with

 an i

ll-po

sed p

roble

m. In

 MAGI

CDRIV

E, we

 prop

ose



that 

expli

cit v

iew t

ransf

ormat

ion i

s unn

ecess

ary, 

as su

ffici

ent 3

D cue

s (e.

g., h

eight

 from

 obje

ct



Publi

shed 

as a 

confe

rence

 pape

r at 

ICLR



1



c



c



boxes

 and 

cam- 

era p

ose) 

allow

 the 

addic

tive 

encod

er to

 acco

mplis

h vie

w tra

nsfor

matio

n.



Speci

fical

ly, w

e int

egrat

e sce

ne-le

vel a

nd 3D

 boun

ding 

box e

mbedd

ings 

into 

the m

ap en

coder

 (see



Figur

e 3).

 Scen

e-lev

el em

- bed

dings

 prov

ide c

amera

 pose

s, an

d box

 embe

dding

s off

er ro

ad



eleva

tion 

cues.

 Addi

tiona

lly, 

incor

- por

ating

 text

 desc

ripti

ons f

acili

tates

 the 

gener

ation

 of r

oads



under

 vary

ing c

ondit

ions 

(e.g.

, wea

ther 

and t

ime o

f day

). Th

us, t

he ma

p enc

oder 

can s

ynerg

ize



with 

other

 cond

ition

s for

 gene

ratio

n.



è·¯çº¿å›¾ç¼–ç 

ã€‚è¯¥è·¯çº¿å›¾

å…·æœ‰ 2D

 ç½‘æ ¼æ ¼å¼

ã€‚åœ¨â€¦æœŸé—´

 Zhan

g et 

al.ï¼ˆ2

023a)

æ˜¾ç¤ºäº†ä»¤äºº

ä¸Šç˜¾



çš„ç¼–ç å™¨å¯

ä»¥å°†è¿™ç§æ•°

æ®ç”¨äº 2

D åˆ¶å¯¼ï¼Œ

è·¯çº¿å›¾çš„ 

BEV å’Œ

ç›¸æœºçš„ç¬¬ä¸€

äººç§°è§†è§’(

FPV)ä¹‹

é—´çš„



å›ºæœ‰è§†è§’å·®

å¼‚é€ æˆäº†å·®

å¼‚ã€‚é¥®æ–™æ§

åˆ¶(Yan

g et 

al.,2

023a)

ä½¿ç”¨åå‘æŠ•

å½±ä» BE

V è½¬æ¢åˆ°



FPVï¼Œä½†

æ˜¯ç”¨ä¸é€‚å®š

çš„é—®é¢˜ä½¿æƒ…

å†µå˜å¾—å¤æ‚

ã€‚åœ¨ MA

GICDR

IVE ä¸­

ï¼Œæˆ‘ä»¬æå‡º

æ˜¾å¼è§†å›¾è½¬

æ¢æ˜¯



ä¸å¿…è¦çš„ï¼Œ

å› ä¸ºè¶³å¤Ÿçš„

 3D çº¿

ç´¢(ä¾‹å¦‚ï¼Œ

è·ç¦»å¯¹è±¡æ¡†

çš„é«˜åº¦å’Œ 

cam æ—¶

ä»£çš„å§¿åŠ¿)

å…è®¸é™„åŠ ç¼–

ç 



å™¨å®Œæˆè§†å›¾

è½¬æ¢ã€‚å…·ä½“

æ¥è¯´ï¼Œæˆ‘ä»¬

å°†åœºæ™¯çº§å’Œ

 3D è¾¹

ç•Œæ¡†åµŒå…¥é›†

æˆåˆ°åœ°å›¾ç¼–

ç å™¨ä¸­(è§

å›¾ 3).



åœºæ™¯çº§åµŒå…¥

æä¾›ç›¸æœºå§¿

æ€ï¼Œè€Œç›’å­

åµŒå…¥æä¾›é“

è·¯é«˜ç¨‹çº¿ç´¢

ã€‚æ­¤å¤–ï¼Œç»“

åˆæ–‡æœ¬æè¿°

æœ‰åŠ©äºåœ¨



ä¸åŒæ¡ä»¶ä¸‹

(ä¾‹å¦‚ï¼Œå¤©

æ°”å’Œä¸€å¤©ä¸­

çš„æ—¶é—´)ç”Ÿ

æˆé“è·¯ã€‚å› 

æ­¤ï¼Œmap

 ç¼–ç å™¨å¯

ä»¥ä¸ç”¨äºç”Ÿ

æˆçš„



å…¶ä»–æ¡ä»¶å

åŒã€‚



8.3 C

ROSS-

VIEW 

ATTEN

TION 

MODUL

E



8.4 äº¤

å‰è§†é‡æ³¨æ„

æ¨¡å—



In mu

lti-c

amera

 view

 gene

ratio

n, it

 is c

rucia

l tha

t ima

ge sy

nthes

is re

mains

 cons

isten

t acr

oss



diffe

rent 

persp

ectiv

es. T

o mai

ntain

 cons

isten

cy, w

e int

roduc

e a c

ross-

view 

atten

tion 

modul

e (Fi

gure



4). G

iven 

the s

parse

 arra

ngeme

nt of

 came

ras i

n dri

ving 

conte

xts, 

each 

cross

-view

 atte

ntion

 allo

ws



the t

arget

 view

 to a

ccess

 info

rmati

on fr

om it

s imm

ediat

e lef

t and

 righ

t vie

ws, a

s in 

Equat

ion 7

;



here,

 t, l

, and

 r ar

e the

 targ

et, l

eft, 

and r

ight 

view 

respe

ctive

ly. T

hen, 

the t

arget

 view

 aggr

egate

s



such 

infor

matio

n wit

h ski

p con

necti

on, a

s in 

Equat

ion 8

, whe

re h



v



indic

ates 

the h

idden

 stat

e of 

the



targe

t vie

w.



åœ¨å¤šç›¸æœºè§†

å›¾ç”Ÿæˆä¸­ï¼Œ

å›¾åƒåˆæˆåœ¨

ä¸åŒè§†è§’ä¹‹

é—´ä¿æŒä¸€è‡´

æ˜¯è‡³å…³é‡è¦

çš„ã€‚ä¸ºäº†ä¿

æŒä¸€è‡´æ€§ï¼Œ



æˆ‘ä»¬å¼•å…¥äº†

äº¤å‰è§†å›¾æ³¨

æ„æ¨¡å—(å›¾

 4).ç»™

å®šé©¾é©¶ç¯å¢ƒ

ä¸­æ‘„åƒæœºçš„

ç¨€ç–æ’åˆ—ï¼Œ

æ¯ä¸ªè·¨è§†å›¾

æ³¨æ„



åŠ›å…è®¸ç›®æ ‡

è§†å›¾ä»å…¶ç´§

é‚»çš„å·¦è§†å›¾

å’Œå³è§†å›¾è®¿

é—®ä¿¡æ¯ï¼Œå¦‚

ç­‰å¼æ‰€ç¤º 

7ï¼›è¿™é‡Œï¼Œ

tã€l å’Œ

 r åˆ†åˆ«



æ˜¯ç›®æ ‡è§†å›¾

ã€å·¦è§†å›¾å’Œ

å³è§†å›¾ã€‚ç„¶

åï¼Œç›®æ ‡è§†

å›¾é€šè¿‡è·³è¿‡

è¿æ¥èšé›†è¿™

äº›ä¿¡æ¯ï¼Œå¦‚

ç­‰å¼æ‰€ç¤º



8ï¼Œå…¶ä¸­ 

hv è¡¨ç¤º

ç›®æ ‡è§†å›¾çš„

éšè—çŠ¶æ€ã€‚



Atten

tioni



(Qt, 

Ki, V

i) =



softm

ax(



Atten

tioni

 (Qtï¼Œ

Kiï¼ŒVi

) =



softm

ax(



QtK



T



=



=



Publi

shed 

as a 

confe

rence

 pape

r at 

ICLR



1



âˆš



i



) Â· V

 , i 

âˆˆ {l,

 r},



c



âˆš i )

 Â· V 

, i âˆˆ

 {l, 

r},



QtKT



i



æˆ‘



d



d



v



ou



t



v



out



v +



Atten

tionl



v +æ³¨æ„

l + A

ttent

ionr



h



h



Publi

shed 

as a 

confe

rence

 pape

r at 

ICLR



1



i c



i c



+æ³¨æ„r 

. (8)

 ã€‚ (8

)



We in

ject 

cross

-view

 atte

ntion

 afte

r the

 cros

s-att

entio

n mod

ule i

n the

 UNet

 and 

apply

 zero

initi

aliza

tion 

(Zhan

g et 

al., 

2023a

) to 

boots

trap 

the o

ptimi

zatio

n. Th

e eff

icacy

 of t

he cr

oss-v

iew



atten

tion 

modul

e is 

demon

strat

ed in

 Figu

re 4 

right

, Fig

ure 5

, and

 Figu

re 6.

 The 

multi

layer

ed st

ructu

re of

 UNet

 enab

les a

ggreg

ating

 info

rmati

on fr

om lo

ng-ra

nge v

iews 

after

 seve

ral s

tacke

d blo

cks.



There

fore,

 usin

g cro

ss-vi

ew at

tenti

on on

 adja

cent 

views

 is e

nough

 for 

multi

-view

 cons

isten

cy, f

urthe

r evi

dence

d by 

the a

blati

on st

udy i

n App

endix

 C.



æˆ‘ä»¬åœ¨ U

Net ä¸­

çš„äº¤å‰æ³¨æ„

æ¨¡å—ä¹‹åæ³¨

å…¥äº¤å‰è§†å›¾

æ³¨æ„ï¼Œå¹¶åº”

ç”¨é›¶åˆå§‹åŒ–

(Zhan

g et



al.,2

023a)

æ¥å¼•å¯¼ä¼˜åŒ–

ã€‚äº¤å‰è§†å›¾

æ³¨æ„æ¨¡å—çš„

åŠŸæ•ˆå¦‚å›¾æ‰€

ç¤º 4 å¯¹

ï¼Œæ•°å­— 5

ï¼Œå’Œå›¾ 6

ã€‚UNet

 çš„



å¤šå±‚ç»“æ„ä½¿

å¾—èƒ½å¤Ÿåœ¨å‡ 

ä¸ªå †å çš„å—

ä¹‹åä»è¿œç¨‹

è§†å›¾ä¸­èšé›†

ä¿¡æ¯ã€‚å› æ­¤

ï¼Œåœ¨ç›¸é‚»è§†

å›¾ä¸Šä½¿ç”¨



è·¨è§†å›¾æ³¨æ„

åŠ›å¯¹äºå¤šè§†

å›¾ä¸€è‡´æ€§æ¥

è¯´æ˜¯è¶³å¤Ÿçš„

ï¼Œé™„å½•ä¸­çš„

æ¶ˆèç ”ç©¶è¿›

ä¸€æ­¥è¯æ˜äº†

è¿™ä¸€ç‚¹



Cã€‚



Publi

shed 

as a 

confe

rence

 pape

r at 

ICLR



1



8.5 M

ODEL 

TRAIN

ING



8.6 æ¨¡

ç‰¹åŸ¹è®­



Class

ifier

-free

 Guid

ance 

reinf

orces

 the 

impac

t of 

condi

tiona

l gui

dance

 (Ho 

& Sal

imans

, 202

1;



Romba

ch et

 al.,

 2022

). Fo

r eff

ectiv

e CFG

, mod

els n

eed t

o dis

card 

condi

tions

 duri

ng tr

ainin

g occ

asion

ally.

 Give

n the

 uniq

ue na

ture 

of ea

ch co

nditi

on, a

pplyi

ng a 

drop 

strat

egy i

s com

plex 

for



multi

ple c

ondit

ions.

 Ther

efore

, our

 MAGI

CDRIV

E sim

plifi

es th

is fo

r fou

r con

ditio

ns by



concu

rrent

ly dr

op- p

ing s

cene-

level

 cond

ition

s (ca

mera 

pose 

and t

ext e

mbedd

ings)

 at a

 rate

 of Î³



s



.



For b

oxes 

and m

aps,



æ— åˆ†ç±»å™¨æŒ‡

å¯¼åŠ å¼ºäº†æ¡

ä»¶æŒ‡å¯¼çš„å½±

å“(Ho 

& Sal

imans

,2021

ï¼›Romb

ach e

t al.

,2022

).å¯¹äº



æœ‰æ•ˆçš„ C

FGï¼Œæ¨¡å‹

éœ€è¦å¶å°”åœ¨

è®­ç»ƒæœŸé—´ä¸¢

å¼ƒæ¡ä»¶ã€‚è€ƒ

è™‘åˆ°æ¯ä¸ªæ¡

ä»¶çš„ç‹¬ç‰¹æ€§

è´¨ï¼Œå¯¹å¤šä¸ª

æ¡



ä»¶åº”ç”¨ä¸¢å¼ƒ

ç­–ç•¥æ˜¯å¤æ‚

çš„ã€‚å› æ­¤ï¼Œ

æˆ‘ä»¬çš„ M

AGICD

RIVE 

é€šè¿‡ä»¥ Î³

s çš„é€Ÿç‡

åŒæ—¶åˆ é™¤åœº

æ™¯çº§æ¡



ä»¶(ç›¸æœºå§¿

æ€å’Œæ–‡æœ¬åµŒ

å…¥)æ¥ç®€åŒ–

è¿™å››ç§æ¡ä»¶

ã€‚å¯¹äºç›’å­

å’Œåœ°å›¾ï¼Œ



which

 have

 sema

ntic 

repre

senta

tions

 for 

null 

(i.e.

, pad

ding 

token

 in b

oxes 

and 0

 in m

aps) 

in th

eir



encod

ing, 

we ma

intai

n the

m thr

ougho

ut tr

ainin

g. At

 infe

rence

, we 

utili

ze nu

ll fo

r all

 cond

ition

s,



enabl

ing m

eanin

gful 

ampli

ficat

ion t

o gui

de ge

nerat

ion.



åœ¨å®ƒä»¬çš„ç¼–

ç ä¸­å…·æœ‰ 

null 

çš„è¯­ä¹‰è¡¨ç¤º

(å³ï¼Œåœ¨æ–¹

æ¡†ä¸­å¡«å……æ ‡

è®°ï¼Œåœ¨æ˜ å°„

ä¸­å¡«å…… 0

 ),æˆ‘ä»¬

åœ¨



æ•´ä¸ªè®­ç»ƒä¸­

ä¿æŒå®ƒä»¬ã€‚

åœ¨æ¨è®ºä¸­ï¼Œ

æˆ‘ä»¬å¯¹æ‰€æœ‰

æ¡ä»¶éƒ½ä½¿ç”¨

 null

ï¼Œä½¿å¾—æœ‰æ„

ä¹‰çš„æ‰©å¢èƒ½

å¤ŸæŒ‡



å¯¼ç”Ÿæˆã€‚



Train

ing O

bject

ive a

nd Au

gment

ation

. Wit

h all

 the 

condi

tions

 inje

cted 

as in

puts,

 we a

dapt 

the



train

ing o

bject

ive d

escri

bed i

n Sec

tion 

3 to 

the m

ulti-

condi

tion 

scena

rio, 

as in

 Equa

tion 

9.



åŸ¹è®­ç›®æ ‡å’Œ

å¼ºåŒ–ã€‚å°†æ‰€

æœ‰æ³¨å…¥çš„æ¡

ä»¶ä½œä¸ºè¾“å…¥

ï¼Œæˆ‘ä»¬è°ƒæ•´

ç¬¬èŠ‚ä¸­æè¿°

çš„åŸ¹è®­ç›®æ ‡

 3 å¤šæ¡

ä»¶



åœºæ™¯ï¼Œå¦‚ç­‰

å¼æ‰€ç¤º 9

ã€‚



â„“ = E

x0 ,Ïµ

,t,{S

,P } 

||Ïµ âˆ’

 ÏµÎ¸ (



âˆš



Î±Â¯tE(

x0) +



âˆš



1 âˆ’ Î±

Â¯t Ïµ,

 t, {

S, P}

)|| .



(9)



â„“ Ïµ Ïµ

Ïµ Ïµ =

 ex0 

, ,t,

{s,p 

}|| Î¸

(âˆšÎ±te

(x0)+

âˆš1Î±t 

ï¼Œtï¼Œ{S

ï¼ŒP})|

|ã€‚



(9)



Besid

es, w

e emp

hasiz

e two

 esse

ntial

 stra

tegie

s whe

n tra

ining

 our 

MAGIC

DRIVE

. Fir

st, t

o



count

eract

 our 

filte

ring 

of vi

sible

 boxe

s, we

 rand

omly 

add 1

0% in

visib

le bo

xes a

s an



augme

ntati

on, e

nhanc

ing t

he mo

delâ€™s

 geom

etric

 tran

sform

ation

 capa

bilit

ies. 

Secon

d, to

 leve

rage



cross

-view

 atte

ntion

, whi

ch fa

cilit

ates 

infor

matio

n sha

ring 

acros

s mul

tiple

 view

s, we

 appl

y uni

que



noise

s to 

diffe

rent 

views

 in e

ach t

raini

ng st

ep, p

reven

ting 

trivi

al so

lutio

ns to

 Equa

tion 

9 (e.

g.,



outpu

tting

 the 

share

d com

ponen

t acr

oss d

iffer

ent v

iews)

. Ide

ntica

l ran

dom n

oise 

is re

serve

d



exclu

sivel

y for

 infe

rence

.



æ­¤å¤–ï¼Œæˆ‘ä»¬

åœ¨è®­ç»ƒ M

AGICD

RIVE 

æ—¶å¼ºè°ƒä¸¤ä¸ª

åŸºæœ¬ç­–ç•¥ã€‚

é¦–å…ˆï¼Œä¸ºäº†

æŠµæ¶ˆæˆ‘ä»¬å¯¹

å¯è§æ¡†çš„è¿‡



æ»¤ï¼Œæˆ‘ä»¬éš

æœºæ·»åŠ äº† 

10%çš„ä¸

å¯è§æ¡†ä½œä¸º

å¢å¼ºï¼Œå¢å¼º

äº†æ¨¡å‹çš„å‡ 

ä½•å˜æ¢èƒ½åŠ›

ã€‚ç¬¬äºŒï¼Œä¸º

äº†



åˆ©ç”¨è·¨è§†å›¾

æ³¨æ„åŠ›ï¼Œè¿™

æœ‰åŠ©äºè·¨å¤š

ä¸ªè§†å›¾çš„ä¿¡

æ¯å…±äº«ï¼Œæˆ‘

ä»¬åœ¨æ¯ä¸ªè®­

ç»ƒæ­¥éª¤ä¸­å¯¹

ä¸åŒçš„è§†



å›¾åº”ç”¨ç‹¬ç‰¹

çš„å™ªå£°ï¼Œé˜²

æ­¢æ–¹ç¨‹çš„å¹³

å‡¡è§£ 9(

ä¾‹å¦‚ï¼Œè·¨ä¸

åŒè§†å›¾è¾“å‡º

å…±äº«ç»„ä»¶)

ã€‚å®Œå…¨ç›¸åŒ

çš„éš



æœºå™ªå£°ä¸“é—¨

ç”¨äºæ¨æ–­ã€‚



9 EXP

ERIME

NTS



10 å®éªŒ



10.1 

EXPER

IMENT

AL SE

TUPS



10.2 

å®éªŒè£…ç½®



Datas

et an

d Bas

eline

s. We

 empl

oy th

e nuS

cenes

 data

set (

Caesa

r et 

al., 

2020)

, a p

reval

ent d

atase

t



in BE

V seg

menta

tion 

and d

etect

ion f

or dr

iving

, as 

the t

estin

g gro

und f

or MA

GICDR

IVE. 

We ad

here



to th

e off

icial

 conf

igura

tion,

 util

izing

 700 

stree

t-vie

w sce

nes f

or tr

ainin

g and

 150 

for v

alida

tion.



Our b

aseli

nes a

re BE

VGen 

(Swer

dlow 

et al

., 20

23) a

nd BE

VCont

rol (

Yang 

et al

., 20

23a),

 both



recen

t pro

posit

ions 

for s

treet

 view

 gene

ratio

n. Ou

r met

hod c

onsid

ers 1

0 obj

ect c

lasse

s and

 8 ro

ad



class

es, s

urpas

sing 

the b

aseli

ne mo

dels 

in di

versi

ty. A

ppend

ix B 

holds

 addi

tiona

l det

ails.



æ•°æ®é›†å’ŒåŸº

çº¿ã€‚æˆ‘ä»¬é‡‡

ç”¨ nuS

cenes

 æ•°æ®é›†(

Caesa

r et 

al.,2

020)ï¼Œ

è¿™æ˜¯ä¸€ä¸ªåœ¨

 BEV 

åˆ†å‰²å’Œ



Publi

shed 

as a 

confe

rence

 pape

r at 

ICLR



1



Ã—



Ã— Ã—



Ã—



Ã—



Ã— Ã—



Ã—



Ã—



Ã—



Ã—



Ã—



é©¾é©¶æ£€æµ‹ä¸­

æµè¡Œçš„æ•°æ®

é›†ï¼Œä½œä¸º 

MAGIC

DRIVE

 çš„æµ‹è¯•åœº

ã€‚æˆ‘ä»¬åšæŒ

å®˜æ–¹é…ç½®ï¼Œ

åˆ©ç”¨ 70

0 ä¸ªè¡—



æ™¯åœºæ™¯è¿›è¡Œ

è®­ç»ƒï¼Œ15

0 ä¸ªåœºæ™¯

è¿›è¡ŒéªŒè¯ã€‚

æˆ‘ä»¬çš„åŸºçº¿

æ˜¯ BEV

Gen(S

werdl

ow et

 al.,

2023)

å’Œ



BEVCo

ntrol

(Yang

 et a

l.,20

23a)ï¼Œ

éƒ½æ˜¯è¡—æ™¯ç”Ÿ

æˆçš„è¿‘æœŸå‘½

é¢˜ã€‚æˆ‘ä»¬çš„

æ–¹æ³•è€ƒè™‘äº†

 10 ä¸ª

å¯¹



è±¡ç±»å’Œ 8

 ä¸ªé“è·¯ç±»

ï¼Œåœ¨å¤šæ ·æ€§

ä¸Šè¶…è¿‡äº†åŸº

çº¿æ¨¡å‹ã€‚é™„

å½• B ä¿

å­˜å…¶ä»–è¯¦ç»†

ä¿¡æ¯ã€‚



Evalu

ation

 Metr

ics. 

We ev

aluat

e bot

h rea

lism 

and c

ontro

llabi

lity 

for s

treet

 view

 gene

ratio

n.



Real-

 ism 

is ma

inly 

measu

red u

sing 

FreÂ´c

het I

ncept

ion D

istan

ce (F

ID), 

refle

cting

 imag

e syn

thesi

s



quali

ty. F

or co

ntrol

labil

ity, 

MAGIC

DRIVE

 is e

valua

ted t

hroug

h two

 perc

eptio

n tas

ks: B

EV



segme

ntati

on an

d 3D 

objec

t det

ectio

n, wi

th CV

T (Zh

ou & 

KraÂ¨h

enbuÂ¨

hl, 2

022) 

and B

EVFus

ion



(Liu 

et al

., 20

23a) 

as pe

rcept

ion m

odels

, res

pecti

vely.

 Both

 of t

hem a

re re

nowne

d for

 thei

r



perfo

rmanc

e in 

each 

task.

 Firs

tly, 

we ge

nerat

e ima

ges a

ligne

d wit

h the

 vali

datio

n set

 anno

tatio

ns



and u

se pe

rcept

ion m

odels

 pre-

train

ed wi

th re

al da

ta to

 asse

ss im

age q

ualit

y and

 cont

rol a

ccura

cy.



Then,

 data

 is g

enera

ted b

ased 

on th

e tra

ining

 set 

to ex

amine

 the 

suppo

rt fo

r tra

ining

 perc

eptio

n



model

s as 

data 

augme

ntati

on.



è¯„ä¼°æŒ‡æ ‡ã€‚

æˆ‘ä»¬è¯„ä¼°äº†

è¡—æ™¯ç”Ÿæˆçš„

çœŸå®æ€§å’Œå¯

æ§æ€§ã€‚çœŸå®

 ism 

ä¸»è¦ä½¿ç”¨ 

Fre c

het åˆ

å§‹è·ç¦»



(FID)

æ¥è¡¡é‡ï¼Œå

æ˜ å›¾åƒåˆæˆ

è´¨é‡ã€‚å¯¹äº

å¯æ§æ€§ï¼ŒM

AGICD

RIVE 

é€šè¿‡ä¸¤ä¸ªæ„Ÿ

çŸ¥ä»»åŠ¡è¿›è¡Œ

è¯„



ä¼°:BEV

 åˆ†å‰²å’Œ 

3D å¯¹è±¡

æ£€æµ‹ï¼ŒCV

T(Zho

u & K

raÂ¨he

nbuÂ¨h

l,202

2)å’Œ B

EVFus

ion(L

iu et



al.,2

023a)

åˆ†åˆ«ä½œä¸ºæ„Ÿ

çŸ¥æ¨¡å‹ã€‚ä»–

ä»¬ä¸¤äººéƒ½å› 

åœ¨æ¯é¡¹ä»»åŠ¡

ä¸­çš„è¡¨ç°è€Œ

é—»åã€‚é¦–å…ˆ

ï¼Œæˆ‘ä»¬ç”Ÿ



æˆä¸éªŒè¯é›†

æ³¨é‡Šå¯¹é½çš„

å›¾åƒï¼Œå¹¶ä½¿

ç”¨ç”¨çœŸå®æ•°

æ®é¢„è®­ç»ƒçš„

æ„ŸçŸ¥æ¨¡å‹æ¥

è¯„ä¼°å›¾åƒè´¨

é‡å’Œæ§åˆ¶



å‡†ç¡®æ€§ã€‚ç„¶

åï¼ŒåŸºäºè®­

ç»ƒé›†ç”Ÿæˆæ•°

æ®ï¼Œä»¥æ£€æŸ¥

å¯¹ä½œä¸ºæ•°æ®

æ‰©å……çš„è®­ç»ƒ

æ„ŸçŸ¥æ¨¡å‹çš„

æ”¯æŒã€‚



Model

 Setu

p. Ou

r MAG

ICDRI

VE ut

ilize

s pre

-trai

ned w

eight

s fro

m Sta

ble D

iffus

ion v

1.5, 

train

ing o

nly n

ewly 

added

 para

meter

s. Pe

r Zha

ng et

 al. 

(2023

a), a

 trai

nable

 UNet

 enco

der i

s cre

ated 

for



Emap.

 New 

param

eters

, exc

ept f

or th

e zer

o-ini

t mod

ule a

nd th

e cla

ss to

ken, 

are r

andom

ly



initi

alize

d. We

 adop

t two

 reso

lutio

ns to

 reco

ncile

 disc

repan

cies 

in pe

rcept

ion t

asks 

and b

aseli

nes:



224 4

00 (0

.25do

wn-sa

mple)

 foll

owing

 BEVG

en an

d for

 CVT 

model

 supp

ort, 

and a

 high

er



272 7

36 (0

.5 do

wn-sa

mple)

 for 

BEVFu

sion 

suppo

rt. U

nless

 stat

ed ot

herwi

se, i

mages

 are



sampl

ed us

ing t

he Un

iPC (

Zhao 

et al

., 20

23) s

chedu

ler f

or 20

 step

s wit

h CFG

 at 2

.0.



æ¨¡å‹è®¾ç½®ã€‚

æˆ‘ä»¬çš„ M

AGICD

RIVE 

åˆ©ç”¨ St

able 

Diffu

sion 

v1.5 

ç‰ˆçš„é¢„è®­ç»ƒ

æƒé‡ï¼Œä»…è®­

ç»ƒæ–°æ·»



åŠ çš„å‚æ•°ã€‚

æ¯ä¸ª Zh

ang e

t al.

ï¼ˆ2023

a)ï¼Œä¸º 

Emap 

åˆ›å»ºä¸€ä¸ªå¯

è®­ç»ƒçš„ U

Net ç¼–

ç å™¨ã€‚é™¤äº†



zero-

init 

æ¨¡å—å’Œç±»æ ‡

è®°ä¹‹å¤–ï¼Œæ–°

çš„å‚æ•°æ˜¯éš

æœºåˆå§‹åŒ–çš„

ã€‚æˆ‘ä»¬é‡‡ç”¨

ä¸¤ç§è§£å†³æ–¹

æ¡ˆæ¥åè°ƒ



æ„ŸçŸ¥ä»»åŠ¡å’Œ

åŸºçº¿ä¸­çš„å·®

å¼‚:BEV

Gen å’Œ

 CVT 

æ¨¡å‹æ”¯æŒå

çš„ 224

 400(

0.25 

ä¸‹é‡‡æ ·)ï¼Œ

ä»¥åŠ



BEVFu

sion 

æ”¯æŒçš„æ›´é«˜

çš„ 272

 736 

(0.5 

ä¸‹é‡‡æ ·)ã€‚

é™¤éå¦æœ‰è¯´

æ˜ï¼Œå¦åˆ™ä½¿

ç”¨ Uni

PC(Zh

ao et



al.,2

023)C

FG ä¸º 

2.0 çš„

 20 æ­¥

è°ƒåº¦ç¨‹åºã€‚



10.3 

MAIN 

RESUL

TS



10.4 

ä¸»è¦ç»“æœ



Reali

sm an

d Con

troll

abili

ty Va

lidat

ion. 

We as

sess 

MAGIC

DRIVE

â€™s ca

pabil

ity t

o cre

ate r

ealis

tic



stree

t-vie

w ima

ges w

ith t

he an

notat

ions 

from 

the n

uScen

es va

lidat

ion s

et. A

s sho

wn by

 Tabl

e 1,



MAGIC

DRIVE

 outp

erfor

ms ot

hers 

in im

age q

ualit

y, yi

eldin

g not

ably 

lower

 FID 

score

s. Re

gardi

ng



contr

ollab

ility

, ass

essed

 via 

BEV s

egmen

tatio

n tas

ks, M

AGICD

RIVE 

equal

s or 

excee

ds ba

selin

e res

ults 

at 22

4 400

 reso

lutio

n due

 to t

he di

stinc

t enc

oding

 desi

gn th

at en

hance

s veh

icle 

gener

ation



preci

sion.

 At 2

72 73

6 res

oluti

on, o

ur en

codin

g str

ategy

 adva

nceme

nts e

nhanc

e veh

icle 

mIoU 

perfo

rmanc

e. Cr

oppin

g lar

ge ar

eas n

egati

vely 

impac

ts ro

ad mI

oU on

 CVT.

 Howe

ver, 

our b

oundi

ng



box e

ncodi

ng ef

ficac

y is 

backe

d by 

BEVFu

sionâ€™

s res

ults 

in 3D

 obje

ct de

tecti

on.



çœŸå®æ€§å’Œå¯

æ§æ€§éªŒè¯ã€‚

æˆ‘ä»¬è¯„ä¼° 

MAGIC

DRIVE

 ä½¿ç”¨ n

uScen

es éªŒè¯

é›†çš„æ³¨é‡Šåˆ›

å»ºçœŸå®è¡—æ™¯

å›¾



åƒçš„èƒ½åŠ›ã€‚

å¦‚è¡¨æ‰€ç¤º 

1ï¼ŒMAG

ICDRI

VE åœ¨å›¾

åƒè´¨é‡æ–¹é¢

ä¼˜äºå…¶ä»–äº§

å“ï¼ŒFID

 åˆ†æ•°æ˜æ˜¾

è¾ƒä½ã€‚å…³



äºå¯æ§æ€§ï¼Œ

é€šè¿‡ BE

V åˆ†æ®µä»»

åŠ¡è¯„ä¼°ï¼ŒM

AGICD

RIVE 

åœ¨ 224

 400 

åˆ†è¾¨ç‡ä¸‹ç­‰

äºæˆ–è¶…è¿‡åŸº

çº¿ç»“



æœï¼Œè¿™æ˜¯ç”±

äºç‹¬ç‰¹çš„ç¼–

ç è®¾è®¡æé«˜

äº†è½¦è¾†ç”Ÿæˆ

ç²¾åº¦ã€‚åœ¨ 

272 7

36 åˆ†è¾¨

ç‡ä¸‹ï¼Œæˆ‘ä»¬

çš„ç¼–ç ç­–



ç•¥è¿›æ­¥å¢å¼º

äº†è½¦è¾†çš„ 

mIoU 

æ€§èƒ½ã€‚å¤§é¢

ç§¯ç§æ¤ä¼šå¯¹

 CVT 

ä¸Šçš„é“è·¯ 

mIoU 

äº§ç”Ÿè´Ÿé¢å½±

å“ã€‚ç„¶



è€Œï¼ŒBEV

Fusio

n åœ¨ 3

D å¯¹è±¡æ£€

æµ‹ä¸­çš„ç»“æœ

æ”¯æŒäº†æˆ‘ä»¬

çš„è¾¹ç•Œæ¡†ç¼–

ç æ•ˆç‡ã€‚



BEV s

egmen

tatio

n 3D 

objec

t det

ectio

n



Metho

d Syn

thesi

s



â†‘



BEV s

egmen

tatio

n 3D 

objec

t det

ectio

n



Metho

d Syn

thesi

s



â†‘



Publi

shed 

as a 

confe

rence

 pape

r at 

ICLR



1



Table

 1: C

ompar

ison 

of ge

nerat

ion f

ideli

ty wi

th dr

iving

-view

 gene

ratio

n met

hods.

 Cond

ition

s for



data 

synth

esis 

are f

rom n

uScen

es va

lidat

ion s

et. F

or ea

ch ta

sk, w

e tes

t the

 corr

espon

ding 

model

s



train

ed on

 the 

nuSce

nes t

raini

ng se

t. MA

GICDR

IVE s

urpas

ses a

ll ba

selin

es th

rough

out t

he ev

aluat

ion. 

/ ind

icate

s tha

t a h

igher

/lowe

r val

ue is

 bett

er. T

he be

st re

sults

 are 

in bo

ld, w

hile 

the s

econd



best 

resul

ts ar

e in 

under

lined

 ital

ic (w

hen o

ther 

metho

ds ar

e ava

ilabl

e).



è¡¨ 1:ç”Ÿ

æˆé€¼çœŸåº¦ä¸

é©±åŠ¨è§†å›¾ç”Ÿ

æˆæ–¹æ³•çš„æ¯”

è¾ƒã€‚æ•°æ®åˆ

æˆçš„æ¡ä»¶æ¥

è‡ª nuS

cenes

 éªŒè¯é›†ã€‚

å¯¹äº



æ¯ä¸ªä»»åŠ¡ï¼Œ

æˆ‘ä»¬æµ‹è¯•åœ¨

 nuSc

enes 

è®­ç»ƒé›†ä¸Šè®­

ç»ƒçš„ç›¸åº”æ¨¡

å‹ã€‚MAG

ICDRI

VE åœ¨æ•´

ä¸ªè¯„ä¼°è¿‡ç¨‹

ä¸­



è¶…è¶Šäº†æ‰€æœ‰

åŸºçº¿ã€‚/è¡¨

ç¤ºå€¼è¶Šé«˜/

è¶Šä½è¶Šå¥½ã€‚

æœ€å¥½çš„ç»“æœ

ç”¨ç²—ä½“æ˜¾ç¤º

ï¼Œç¬¬äºŒå¥½çš„

ç»“æœç”¨ä¸‹åˆ’



çº¿æ–œä½“æ˜¾ç¤º

(å½“å…¶ä»–æ–¹

æ³•å¯ç”¨æ—¶)

ã€‚



resol

ution

 FIDâ†“

 Road

 mIoU

 â†‘ Ve

hicle

 mIoU

 â†‘ mA

P â†‘ N

DS â†‘



è§£å†³ FI

Dâ†“ ç±³æ¬§

è·¯ è½¦è¾† 

mIoU 

å›¾â†‘ ND

S â†‘



Oracl

e - -

 72.2

1 33.

66 35

.54 4

1.21



Oracl

e 224

Ã—400 

- 72.

19 33

.61 2

3.54 

31.08



ç¥è°• - 

- 72.

2



1



33.66

 35.5



4



41.2



1



ç¥è°• 22

4Ã—400

 - 72

.1



9



33.61

 23.5



4



31.0



8



BEVGe

n 224

Ã—



-



400 2

5.54 

50.20

 5.89

 - -



BEVCo

ntrol

 24.8

5 60.

80 26

.80 -

 -



è´å¤«æ ¹ 2

24Ã—-



400



25.5



4



50.2



0



5.89 

- -



é¥®æ–™æ§åˆ¶ 

24.8



5



60.8



0



26.80

 - -



MAGIC

DRIVE



MAGIC

DRIVE



224Ã—4

00



272Ã—7

36



16.20



16.59



61.05



54.24



27.01



31.05



12.30



20.85



23.32



30.26



é­”æ³•é©±åŠ¨



é­”æ³•é©±åŠ¨



224Ã—4

00



272Ã—7

36



Ã—



16.20



16.59



61.05



54.24



27.0



1



31.0



5



12.30



20.85



23.32



30.26



Incon

siste

nt



Wrong

 plac

e



ä¸ä¸€è‡´é”™è¯¯



çš„åœ°æ–¹



Groun

d Tru

th



Publi

shed 

as a 

confe

rence

 pape

r at 

ICLR



1



åœ°é¢å®å†µ;

 çœŸå€¼



ï¼ˆæœºå™¨å­¦ä¹ 

ï¼‰



BEVCo

ntrol



é¥®æ–™æ§åˆ¶



Figur

e 5: 

Quali

tativ

e com

paris

on wi

th BE

VCont

rol o

n dri

ving 

scene

 from

 nuSc

enes 

valid

ation

 set.



We hi

ghlig

ht so

me ar

eas w

ith r

ectan

gles 

to ea

se co

mpari

son. 

Compa

red w

ith B

EVCon

trol,



gener

a- ti

ons f

rom M

AGICD

RIVE 

appea

r mor

e con

siste

nt in

 both

 back

groun

d and

 fore

groun

d.



å›¾ nuS

cenes

 éªŒè¯é›†ä¸­

é©¾é©¶åœºæ™¯ä¸

 BEVC

ontro

l çš„å®šæ€§

æ¯”è¾ƒã€‚ä¸ºäº†

ä¾¿äºæ¯”è¾ƒï¼Œ

æˆ‘ä»¬ç”¨çŸ©å½¢

çª



å‡ºæ˜¾ç¤ºäº†ä¸€

äº›åŒºåŸŸã€‚ä¸

 BEVC

ontro

l ç›¸æ¯”ï¼Œ

MAGIC

DRIVE

 çš„ç”Ÿæˆåœ¨

èƒŒæ™¯å’Œå‰æ™¯

ä¸Šéƒ½æ˜¾å¾—æ›´

åŠ ä¸€



è‡´ã€‚



Train

ing S

uppor

t for

 BEV 

Segme

ntati

on an

d 3D 

Objec

t Det

ectio

n. MA

GICDR

IVE c

an pr

oduce



augme

nted 

data 

with 

accur

ate a

nnota

tion 

contr

ols, 

enhan

cing 

the t

raini

ng fo

r per

cepti

on ta

sks. 

For



BEV s

egmen

tatio

n, we

 augm

ent a

n equ

al nu

mber 

of im

ages 

as in

 the 

origi

nal d

atase

t, en

surin

g



con- 

siste

nt tr

ainin

g ite

ratio

ns an

d bat

ch si

zes f

or fa

ir co

mpari

sons 

to th

e bas

eline

. As 

shown

 in



Table

 3, M

AGICD

RIVE 

signi

fican

tly e

nhanc

es CV

T in 

both 

setti

ngs, 

outpe

rform

ing B

EVGen

,



which

 only

 marg

inall

y imp

roves

 vehi

cle s

egmen

tatio

n. Fo

r 3D 

objec

t det

ectio

n, we

 trai

n



BEVFu

sion 

model

s wit

h MAG

ICDRI

VE â€™s

 synt

hetic

 data

 as a

ugmen

tatio

n. To

 opti

mize 

data



augme

ntati

on, w

e ran

domly

 excl

ude 5

0% of

 boun

ding 

boxes

 in e

ach g

enera

ted s

cene.

 Tabl

e 2



shows

 the 

advan

tageo

us im

pact 

of MA

GICDR

IVE â€™

s dat

a in 

both 

CAM-o

nly (

C) an

d CAM

+LiDA

R



(C+L)

 sett

ings.

 Itâ€™s

 cruc

ial t

o not

e tha

t in 

CAM+L

iDAR 

setti

ngs, 

BEVFu

sion 

utili

zes b

oth



modal

ities

 for 

objec

t det

ectio

n, re

quiri

ng mo

re pr

ecise

 imag

e gen

erati

on du

e to 

LiDAR

 data



incor

porat

ion. 

Never

thele

ss, M

AGICD

RIVEâ€™

s syn

theti

c dat

a int

egrat

es se

amles

sly w

ith L

iDAR



input

s, hi

ghlig

hting

 the 

dataâ€™

s hig

h fid

elity

.



å¯¹ BEV

 åˆ†å‰²å’Œ 

3D å¯¹è±¡

æ£€æµ‹çš„è®­ç»ƒ

æ”¯æŒã€‚MA

GICDR

IVE å¯

ä»¥é€šè¿‡ç²¾ç¡®

çš„æ³¨é‡Šæ§åˆ¶

äº§ç”Ÿå¢å¼ºæ•°



æ®ï¼Œä»è€Œå¢

å¼ºæ„ŸçŸ¥ä»»åŠ¡

çš„è®­ç»ƒã€‚å¯¹

äº BEV

 åˆ†å‰²ï¼Œæˆ‘

ä»¬å¢åŠ äº†ä¸

åŸå§‹æ•°æ®é›†

ä¸­ç›¸åŒæ•°é‡

çš„å›¾



åƒï¼Œä»¥ç¡®ä¿

æŒç»­çš„è®­ç»ƒ

è¿­ä»£å’Œæ‰¹é‡

å¤§å°ï¼Œä»¥ä¾¿

ä¸åŸºçº¿è¿›è¡Œ

å…¬å¹³çš„æ¯”è¾ƒ

ã€‚å¦‚è¡¨ä¸­æ‰€

ç¤º



3ï¼ŒMAG

ICDRI

VE åœ¨è¿™

ä¸¤ç§è®¾ç½®ä¸‹

æ˜¾è‘—å¢å¼ºäº†

 CVTï¼Œ

ä¼˜äºä»…ç•¥å¾®

æ”¹å–„è½¦è¾†åˆ†

å‰²çš„ BE

VGenã€‚

å¯¹äº



3D å¯¹è±¡

æ£€æµ‹ï¼Œæˆ‘ä»¬

ç”¨ MAG

ICDRI

VE çš„åˆ

æˆæ•°æ®ä½œä¸º

å¢å¼ºæ¥è®­ç»ƒ

 BEVF

usion

 æ¨¡å‹ã€‚ä¸º

äº†ä¼˜åŒ–æ•°



æ®æ‰©å……ï¼Œæˆ‘

ä»¬åœ¨æ¯ä¸ªç”Ÿ

æˆçš„åœºæ™¯ä¸­

éšæœºæ’é™¤ 

50%çš„è¾¹

ç•Œæ¡†ã€‚æ¡Œå­

 2 æ˜¾ç¤º

äº† MAG

ICDRI

VE æ•°æ®

åœ¨



ä»… CAM

(C)å’Œ 

CAM+L

iDAR 

(C+L)

è®¾ç½®ä¸­çš„æœ‰

åˆ©å½±å“ã€‚å€¼

å¾—æ³¨æ„çš„æ˜¯

ï¼Œåœ¨ CA

M+æ¿€å…‰é›·

è¾¾è®¾ç½®



ä¸­ï¼ŒBEV

Fusio

n åˆ©ç”¨ä¸¤

ç§æ¨¡å¼è¿›è¡Œ

ç‰©ä½“æ£€æµ‹ï¼Œ

ç”±äºæ¿€å…‰é›·

è¾¾æ•°æ®çš„åˆ

å¹¶ï¼Œéœ€è¦æ›´

ç²¾ç¡®çš„å›¾åƒ

ç”Ÿ



æˆã€‚ç„¶è€Œï¼Œ

MAGIC

DRIVE

 çš„åˆæˆæ•°

æ®ä¸æ¿€å…‰é›·

è¾¾è¾“å…¥æ— ç¼

é›†æˆï¼Œçªå‡º

äº†æ•°æ®çš„é«˜

ä¿çœŸåº¦ã€‚



10.5 

QUALI

TATIV

E EVA

LUATI

ON



10.6 

å®šæ€§è¯„ä»·



Compa

rison

 with

 Base

lines

. We 

asses

sed M

AGICD

RIVE 

again

st tw

o bas

eline

s, BE

VGen 

and



BEVCo

ntrol

, syn

thesi

zing 

multi

-came

ra vi

ews f

or th

e sam

e val

idati

on sc

enes 

(the 

compa

rison



with 

BEVGe

n is 

in th

e App

endix

 D). 

Figur

e 5 i

llust

rates

 that

 MAGI

CDRIV

E gen

erate

s ima

ges



marke

dly s

uperi

or in

 qual

ity t

o BEV

Contr

ol, p

artic

ularl

y exc

ellin

g in 

accur

ate o

bject

 posi

tioni

ng



and m

ain- 

taini

ng co

nsist

ency 

in st

reet 

views

 for 

backg

round

s and

 obje

cts. 

Such 

perfo

rmanc

e



prima

rily 

stems

 from

 MAGI

CDRIV

E â€™s 

bound

ing b

ox en

coder

 and 

its c

ross-

view 

atten

tion 

modul

e.



ä¸åŸºçº¿çš„æ¯”

è¾ƒã€‚æˆ‘ä»¬æ ¹

æ®ä¸¤æ¡åŸºçº¿

(BEVG

en å’Œ 

BEVCo

ntrol

)å¯¹ MA

GICDR

IVE è¿›

è¡Œäº†è¯„ä¼°ï¼Œ

åˆ



æˆäº†ç›¸åŒéªŒ

è¯åœºæ™¯çš„å¤š

æ‘„åƒæœºè§†å›¾

(ä¸ BE

VGen 

çš„æ¯”è¾ƒè§é™„

å½• D).

æ•°å­— 5 

è¯´æ˜ MA

GICDR

IVE ç”Ÿ



Publi

shed 

as a 

confe

rence

 pape

r at 

ICLR



1



æˆçš„å›¾åƒè´¨

é‡æ˜æ˜¾ä¼˜äº

 BEVC

ontro

lï¼Œç‰¹åˆ«æ˜¯

åœ¨ç²¾ç¡®çš„å¯¹

è±¡å®šä½å’Œä¿

æŒèƒŒæ™¯å’Œå¯¹

è±¡çš„è¡—æ™¯ä¸€



è‡´æ€§æ–¹é¢è¡¨

ç°å‡ºè‰²ã€‚è¿™

æ ·çš„æ€§èƒ½ä¸»

è¦æºäº M

AGICD

RIVE 

çš„è¾¹ç•Œæ¡†ç¼–

ç å™¨å’Œå®ƒçš„

è·¨è§†å›¾æ³¨æ„

æ¨¡



å—ã€‚



Multi

-leve

l Con

trols

. The

 desi

gn of

 MAGI

CDRIV

E int

roduc

es mu

lti-l

evel 

contr

ols t

o str

eet-v

iew



gener

ation

 thro

ugh s

epara

tion 

encod

ing. 

This 

secti

on de

monst

rates

 the 

capab

iliti

es of

 MAGI

CDRIV

E by 

explo

ring 

three

 cont

rol s

ignal

 leve

ls: s

cene 

level

 (tim

e of 

day a

nd we

ather

), ba

ckgro

und



level

 (BEV

 map 

alter

ation

s and

 cond

ition

al vi

ews),

 and 

foreg

round

 leve

l (ob

ject 

orien

tatio

n and



dele-

 tion

). As

 illu

strat

ed in

 Figu

re 1,

 Figu

re 6,

 and 

Appen

dix E

, MAG

ICDRI

VE ad

eptly



accom

modat

es al

terat

ions 

at ea

ch le

vel, 

maint

ainin

g mul

ti-ca

mera 

consi

stenc

y and

 high

 real

ism i

n



gener

ation

.



å¤šçº§æ§åˆ¶ã€‚

MAGIC

DRIVE

 çš„è®¾è®¡é€š

è¿‡åˆ†ç¦»ç¼–ç 

å°†å¤šçº§æ§åˆ¶

å¼•å…¥è¡—æ™¯ç”Ÿ

æˆã€‚æœ¬èŠ‚é€š

è¿‡æ¢ç´¢ä¸‰ä¸ª



æ§åˆ¶ä¿¡å·çº§

åˆ«æ¥å±•ç¤º 

MAGIC

- DRI

VE çš„åŠŸ

èƒ½:åœºæ™¯çº§

åˆ«(ä¸€å¤©ä¸­

çš„æ—¶é—´å’Œå¤©

æ°”)ã€èƒŒæ™¯

çº§åˆ«



(BEV 

åœ°å›¾å˜æ›´å’Œ

æ¡ä»¶è§†å›¾)

å’Œå‰æ™¯çº§åˆ«

(å¯¹è±¡å®šå‘

å’Œåˆ é™¤)ã€‚

å¦‚å›¾æ‰€ç¤º 

1ï¼Œå›¾ 6

 å’Œé™„å½•



Eï¼ŒMAG

ICDRI

VE å·§å¦™

åœ°é€‚åº”äº†æ¯

ä¸ªçº§åˆ«çš„å˜

åŒ–ï¼Œä¿æŒäº†

å¤šç›¸æœºçš„ä¸€

è‡´æ€§å’Œé«˜åº¦

çš„çœŸå®æ„Ÿã€‚



Publi

shed 

as a 

confe

rence

 pape

r at 

ICLR



2



Data 

Vehic

le Ro

ad



mIoU 

â†‘mIoU

 â†‘



Data 

Vehic

le Ro

ad



mIoU 

â†‘mIoU

 â†‘



Table

 2: C

ompar

ison 

about

 supp

ort f

or 3D

 obje

ct



detec

tion 

model

 (i.e

., BE

VFusi

on). 

MAGIC

DRIVE



gener

ates 

272Ã—7

36 im

ages 

for a

ugmen

tatio

n. Re

sults

 are 

repor

ted o

n the

 nuSc

enes 

valid

ation

 set.



è¡¨ 2:å…³

äºæ”¯æŒ 3

D å¯¹è±¡æ£€

æµ‹æ¨¡å‹(å³

 BEVF

usion

)



çš„æ¯”è¾ƒã€‚M

AGICD

RIVE 

ç”Ÿæˆ 27

2Ã—736

 çš„å›¾åƒç”¨

äº



å¢å¼ºã€‚åœ¨ 

nuSce

nes éªŒ

è¯é›†ä¸ŠæŠ¥å‘Š

ç»“æœã€‚



Table

 3: C

ompar

ison 

about

 supp

ort f

or



BEV s

egmen

tatio

n mod

el (i

.e., 

CVT).



Resul

ts ar

e rep

orted

 by t

estin

g on 

the



nuSce

nes v

alida

tion 

set.



Publi

shed 

as a 

confe

rence

 pape

r at 

ICLR



2



Gener

ation

 from



Backg

round

 leve

l: co

nditi

on on

 one 

given

 view

 (ann

otate

d wit

h red

 box)



Gener

ation

 from



Foreg

round

 leve

l: ro

tate 

each 

vehic

le 18

0 deg

ree (

head 

to ta

il) (

we hi

ghlig

ht so

me ro

tated

 vehi

cles 

for c

ompar

ison)



Foreg

round

 leve

l: de

lete 

50% o

bject

s (we

 show

 the 

DELET

ED bo

xes a

nd hi

ghlig

ht so

me ar

eas f

or co

mpari

son)



Gener

ation

 from



Backg

round

 leve

l: co

nditi

on on

 one 

given

 view

 (ann

otate

d wit

h red

 box)



Gener

ation

 from



Foreg

round

 leve

l: ro

tate 

each 

vehic

le 18

0 deg

ree (

head 

to ta

il) (

we hi

ghlig

ht so

me ro

tated

 vehi

cles 

for c

ompar

ison)



Foreg

round

 leve

l: de

lete 

50% o

bject

s (we

 show

 the 

DELET

ED bo

xes a

nd hi

ghlig

ht so

me ar

eas f

or co

mpari

son)



è¡¨ 3:å¯¹

 BEV 

åˆ†æ®µæ¨¡å‹(

å³ CVT

)æ”¯æŒçš„æ¯”

è¾ƒã€‚é€š



è¿‡åœ¨ nu

Scene

s éªŒè¯é›†

ä¸Šè¿›è¡Œæµ‹è¯•

æ¥æŠ¥å‘Šç»“



æœã€‚



Modal

ity D

ata m

AP â†‘ 

NDS â†‘



å½¢å¼ æ•°æ®

 å›¾â†‘ N

DS â†‘



Figur

e 6: 

Showc

ase f

or mu

lti-l

evel 

contr

ol wi

th MA

GICDR

IVE. 

We sh

ow ba

ckgro

und-l

evel 

and



foreg

round

-leve

l con

trol 

separ

ately

 with

 diff

erent

 cond

ition

s. Al

l sce

nes a

re ba

sed o

n the



nuSce

nes v

alida

tion 

set. 

More 

resul

ts ar

e in 

Appen

dix E

.



å›¾ 6:ä½¿

ç”¨ MAG

ICDRI

VE è¿›è¡Œ

å¤šçº§æ§åˆ¶çš„

å±•ç¤ºã€‚æˆ‘ä»¬

åˆ†åˆ«å±•ç¤ºäº†

ä¸åŒæ¡ä»¶ä¸‹

çš„èƒŒæ™¯çº§å’Œ

å‰å°çº§



æ§ä»¶ã€‚æ‰€æœ‰

åœºæ™¯éƒ½åŸºäº

 nuSc

enes 

éªŒè¯é›†ã€‚æ›´

å¤šç»“æœè§é™„

å½• Eã€‚



10.7 

EXTEN

SION 

TO VI

DEO G

ENERA

TION



10.8 

è§†é¢‘ç”Ÿæˆçš„

æ‰©å±•



We de

monst

rate 

the e

xtens

ibili

ty of

 MAGI

CDRIV

E to 

video

 gene

ratio

n by 

fine-

tunin

g it 

on



nuSce

nes v

ideos

. Thi

s inv

olves

 modi

fying

 self

-atte

ntion

 to S

T-Att

n (Wu

 et a

l., 2

023a)

, add

ing a



tempo

ral a

ttent

ion m

odule

 to e

ach t

ransf

ormer

 bloc

k (Fi

gure 

7 lef

t), a

nd tu

ning 

the m

odel 

on 7-



frame

 clip

s wit

h onl

y the

 firs

t and

 the 

last 

frame

s hav

ing b

oundi

ng bo

xes. 

We sa

mple 

initi

al no

ise



indep

enden

tly f

or ea

ch fr

ame u

sing 

the U

niPC 

(Zhao

 et a

l., 2

023) 

sampl

er fo

r 20 

steps

 and



illus

trate

 an e

xampl

e in 

Figur

e 7 r

ight.



æˆ‘ä»¬é€šè¿‡åœ¨

 nuSc

enes 

è§†é¢‘ä¸Šè¿›è¡Œ

å¾®è°ƒï¼Œå±•ç¤º

äº† MAG

ICDRI

VE å¯¹è§†

é¢‘ç”Ÿæˆçš„å¯

æ‰©å±•æ€§ã€‚è¿™

æ¶‰



åŠåˆ°ä¿®æ”¹è‡ª

æˆ‘æ³¨æ„åˆ°åœ£

 Attn

(Wu e

t al.

,2023

a)ï¼Œå‘æ¯

ä¸ªå˜æ¢å™¨å—

æ·»åŠ æ—¶é—´æ³¨

æ„æ¨¡å—(å›¾

 7



å·¦)ï¼Œå¹¶åœ¨

åªæœ‰ç¬¬ä¸€å¸§

å’Œæœ€åä¸€å¸§

å…·æœ‰è¾¹ç•Œæ¡†

çš„ 7 å¸§

å‰ªè¾‘ä¸Šè°ƒæ•´

æ¨¡å‹ã€‚æˆ‘ä»¬

ä½¿ç”¨ Un

iPC(Z

hao



et al

.,202

3)é‡‡æ ·å™¨

ä¸º 20 

æ­¥ï¼Œå¹¶åœ¨å›¾

ä¸­ä¸¾ä¾‹è¯´æ˜

 7 æ²¡é”™

ã€‚



Furth

ermor

e, by

 util

izing

 the 

inter

polat

ed an

notat

ions 

from 

ASAP 

(Wang

 et a

l., 2

023c)

 like

 Driv

eDrea

mer (

Wang 

et al

., 20

23b),

 Magi

cDriv

e can

 be e

xtend

ed to

 16-f

rame 

video

 gene

ratio

n at 

12Hz



train

ed on

 Nvid

ia V1

00 GP

Us. M

ore r

esult

s (e.

g., v

ideo 

visua

lizat

ion) 

can b

e fou

nd on

 our



websi

te.



æ­¤å¤–ï¼Œé€šè¿‡

åˆ©ç”¨æ¥è‡ª 

ASAP 

çš„å†…æ’æ³¨é‡Š

(Wang

 et a

l.,20

23c)å°±

åƒå¼€è½¦çš„æ¢¦

æƒ³å®¶(Wa

ng et



al.,2

023b)

ï¼ŒMagi

cDriv

e å¯ä»¥æ‰©

å±•åˆ°åœ¨ N

vidia

 V100

 GPUs

 ä¸Šè®­ç»ƒçš„

 12Hz

 çš„ 16

 å¸§è§†é¢‘ç”Ÿ



w/o s

ynthe

tic



data



32.88

 37.8

1



C



w/ MA

GICDR

IVE 3

5.40 

+2.52

 39.7

6 +1.

95



w/o s

ynthe

tic d

ata 3

6.00 

74.30



w/o s

ynthe

tic



data



32.88

 37.8

1



C



w/ MA

GICDR

IVE 3

5.40 

+2.52

 39.7

6 +1.

95



w/o s

ynthe

tic d

ata 3

6.00 

74.30



w/o s

ynthe

tic



data



65.40

 69.5

9



C+L



w/ MA

GICDR

IVE 6

7.86 

+2.46

 70.7

2 +1.

13



w/ BE

VGen 

36.60

 +0.6

0 71.

90 -2

.40



w/ MA

GICDR

IVE 4

0.34 

+4.34

 79.5

6 +5.

26



w/o s

ynthe

tic



data



65.40

 69.5

9



C+L



w/ MA

GICDR

IVE 6

7.86 

+2.46

 70.7

2 +1.

13



w/ BE

VGen 

36.60

 +0.6

0 71.

90 -2

.40



w/ MA

GICDR

IVE 4

0.34 

+4.34

 79.5

6 +5.

26



Publi

shed 

as a 

confe

rence

 pape

r at 

ICLR



2



æˆã€‚æ›´å¤šç»“

æœ(å¦‚è§†é¢‘

å¯è§†åŒ–)å¯

åœ¨æˆ‘ä»¬çš„ç½‘

ç«™ä¸Šæ‰¾åˆ°ã€‚



11 AB

LATIO

N STU

DY



12 æ¶ˆè

ç ”ç©¶



Bound

ing B

ox En

codin

g. MA

GICDR

IVE u

tiliz

es se

parat

e enc

oders

 for 

bound

ing b

oxes 

and r

oad



maps.

 To d

emons

trate

 the 

effic

acy, 

we tr

ain a

 Cont

rolNe

t (Zh

ang e

t al.

, 202

3a) t

hat t

akes 

the B

EV



map w

ith b

oth r

oad a

nd ob

ject 

seman

tics 

as a 

condi

tion 

(like

 BEVG

en), 

denot

ed as

 â€œw/o

 Ebox

â€ in



Table

 4. O

bject

s in 

BEV m

aps a

re re

lativ

ely s

mall,

 whic

h req

uire 

separ

ate E

box f

or ac

curat

e



vehic

le an

notat

ions,

 as s

hown 

by th

e veh

icle 

mIoU 

perfo

rmanc

e gap

. App

lying

 visi

ble o

bject



filte

r fvi

z sig

nific

antly

 impr

oves 

both 

road 

and v

ehicl

e mIo

U by 

reduc

ing t

he op

timiz

ation

 burd

en.



A MAG

- ICD

RIVE 

varia

nt in

corpo

ratin

g Ebo

x wit

h BEV

 of r

oad a

nd ob

ject 

seman

tics 

didnâ€™

t



enhan

ce pe

rfor-

 manc

e, em

phasi

zing 

the i

mport

ance 

of in

tegra

ting 

diver

se in

forma

tion 

throu

gh



diffe

rent 

strat

egies

.



è¾¹ç•Œæ¡†ç¼–ç 

ã€‚MAGI

CDRIV

E å¯¹è¾¹ç•Œ

æ¡†å’Œè·¯çº¿å›¾

ä½¿ç”¨å•ç‹¬çš„

ç¼–ç å™¨ã€‚ä¸º

äº†è¯æ˜å…¶æœ‰

æ•ˆæ€§ï¼Œæˆ‘ä»¬



è®­ç»ƒäº†ä¸€ä¸ª

æ§åˆ¶ç½‘ç»œ(

Zhang

 et a

l.,20

23a)å°†

å¸¦æœ‰é“è·¯å’Œ

å¯¹è±¡è¯­ä¹‰çš„

 BEV 

æ˜ å°„ä½œä¸ºæ¡

ä»¶(å¦‚



BEVGe

n)ï¼Œåœ¨è¡¨

ä¸­è¡¨ç¤ºä¸ºâ€œ

w/o E

boxâ€4

ã€‚BEV 

è´´å›¾ä¸­çš„å¯¹

è±¡ç›¸å¯¹è¾ƒå°

ï¼Œè¿™éœ€è¦å•

ç‹¬çš„ Eb

ox



æ¥è¿›è¡Œç²¾ç¡®

çš„è½¦è¾†æ³¨é‡Š

ï¼Œå¦‚è½¦è¾† 

mIoU 

æ€§èƒ½å·®è·æ‰€

ç¤ºã€‚åº”ç”¨å¯

è§å¯¹è±¡è¿‡æ»¤

å™¨ fvi

z é€šè¿‡å‡

å°‘



ä¼˜åŒ–è´Ÿæ‹…æ˜¾

è‘—æ”¹å–„äº†é“

è·¯å’Œè½¦è¾†çš„

 mIoU

ã€‚å°† Eb

ox ä¸ 

BEV o

f roa

d å’Œ o

bject

 è¯­ä¹‰ç›¸ç»“

åˆçš„



MAG- 

ICDRI

VE å˜ä½“

å¹¶æ²¡æœ‰æé«˜

æ€§èƒ½ï¼Œè€Œæ˜¯

å¼ºè°ƒäº†é€šè¿‡

ä¸åŒç­–ç•¥é›†

æˆä¸åŒä¿¡æ¯

çš„é‡è¦æ€§ã€‚



Effec

t of 

Class

ifier

-free

 Guid

ance.

 We f

ocus 

on th

e two

 most

 cruc

ial c

ondit

ions,

 i.e.

 obje

ct



boxes

 and 

road 

maps,

 and 

analy

ze ho

w CFG

 affe

cts t

he pe

rform

ance 

of ge

nerat

ion. 

We ch

ange



CFG f

rom



æ— åˆ†ç±»å™¨åˆ¶

å¯¼çš„æ•ˆæœã€‚

æˆ‘ä»¬é‡ç‚¹è®¨

è®ºäº†ä¸¤ä¸ªæœ€

å…³é”®çš„æ¡ä»¶

ï¼Œå³å¯¹è±¡ç›’

å’Œè·¯çº¿å›¾ï¼Œ

å¹¶åˆ†æäº†



CFG å¦‚

ä½•å½±å“ç”Ÿæˆ

çš„æ€§èƒ½ã€‚æˆ‘

ä»¬å°† CF

G ä»



1.5 t

o 4.0

 and 

plot 

the c

hange

 of v

alida

tion 

resul

ts fr

om CV

T in 

Figur

e 8. 

First

ly, b

y inc

reasi

ng



1.5 è‡³

 4.0ï¼Œ

å¹¶å°† CV

T éªŒè¯ç»“

æœçš„å˜åŒ–ç»˜

åˆ¶åœ¨å›¾ä¸­ 

8ã€‚é¦–å…ˆï¼Œ

é€šè¿‡å¢åŠ 



Publi

shed 

as a 

confe

rence

 pape

r at 

ICLR



2



Key +

 Prev

. fra

mes S

T-Att

n QKV



<CAM>

 <TXT

> <BO

Xes> 

cross

-attn



Left 

Neigh

bor



cross

-view

 attn



Right

 Neig

hbor



Train

able 

Froze

n tem

p att

n



Key +

 Prev

. fra

mes



ST-At

tn QK

V



<CAM>

 <TXT

> <BO

Xes> 

cross

-attn



Left 

Neigh

bor



cross

-view

 attn



Right

 Neig

hbor



Train

able 

Froze

n



temp 

attn



Tansf

ormer

 Bloc

k



å˜å‹å™¨ç»„



Keyfr

ame



Publi

shed 

as a 

confe

rence

 pape

r at 

ICLR



2



{



{



é”®æ¶



Keyfr

ame



é”®æ¶



Figur

e 7: 

Exten

d MAG

ICDRI

VE to

 vide

o gen

erati

on. L

eft: 

chang

es in

 tran

sform

er bl

ock f

or vi

deo



gener

ation

. Rig

ht: r

esult

 of v

ideo 

gener

ation

. Onl

y key

frame

s hav

e bou

nding

 box 

contr

ol.



å›¾ 7:å°†

 MAGI

CDRIV

E æ‰©å±•åˆ°

è§†é¢‘ç”Ÿæˆã€‚

å·¦å›¾:ç”¨äº

è§†é¢‘ç”Ÿæˆçš„

å˜å‹å™¨æ¨¡å—

çš„å˜åŒ–ã€‚å³

å›¾:è§†é¢‘ç”Ÿ

æˆ



çš„ç»“æœã€‚åª

æœ‰å…³é”®å¸§å…·

æœ‰è¾¹ç•Œæ¡†æ§

åˆ¶ã€‚



Table

 4: A

blati

on of

 the 

separ

ate b

ox en

coder

. Eva

luati

on



resul

ts ar

e fro

m CVT

 on t

he sy

nthet

ic nu

Scene

s



valid

ation

 set,

 with

out M

 = 0 

in CF

G sca

le = 

2.



MAGIC

DRIVE

 has 

bette

r con

troll

abili

ty an

d kee

ps im

age



quali

ty.



è¡¨ 4:ç‹¬

ç«‹ç›’å¼ç¼–ç 

å™¨çš„çƒ§èš€ã€‚

è¯„ä¼°ç»“æœæ¥

è‡ªåˆæˆ



nuSce

nes éªŒ

è¯é›†ä¸Šçš„ 

CVTï¼Œåœ¨

 CFG 

æ ‡åº¦= 2

 ä¸­æ²¡æœ‰ 

M =



0ã€‚MAG

ICDRI

VE å¯æ§

æ€§æ›´å¥½ï¼Œä¿

æŒç”»è´¨ã€‚



Metho

d



w/o E

box



æ–¹æ³•æ— 



Ebox



w/o f

viz



ä¸å« fv

iz



w/ Eb

ox & 

mapob

j



Ours



å¸¦æœ‰ Eb

ox å’Œ



mapob

j Our

s



Road



mIoU



â†‘



æ¬§



è·¯



Vehic

le mI

oU â†‘



FI



FID



Publi

shed 

as a 

confe

rence

 pape

r at 

ICLR



2



{



{



Groun

dTrut

h Gro

undTr

uth



+ nig

ht + 

snow



(a) n

ot da

rk en

ough 

(b) u

nseen

 weat

her



Groun

dTrut

h Gro

undTr

uth



+ nig

ht + 

snow



(a) n

ot da

rk en

ough 

(b) u

nseen

 weat

her



è½¦è¾† mI

oU



Figur

e 8: 

Effec

t of 

CFG o

n dif

feren

t



condi

tions

 to e

ach m

etric

s.



å›¾ 8:ä¸

åŒæ¡ä»¶ä¸‹ 

CFG å¯¹

æ¯ä¸ªæŒ‡æ ‡çš„

å½±



å“ã€‚



CFG s

cale,

 FID 

degra

des d

ue to

 nota

ble c

hange

s in 

contr

ast a

nd sh

arpne

ss, a

s see

n in 

previ

ous



stud-

 ies 

(Chen

 et a

l., 2

023c)

. Sec

ondly

, ret

ainin

g the

 same

 map 

for b

oth c

ondit

ional

 and



uncon

ditio

nal i

nfere

nce e

limin

ates 

CFGâ€™s

 effe

ct on

 the 

map c

ondit

ion. 

As sh

own b

y blu

e lin

es of



Figur

e 8, 

incre

as- i

ng CF

G sca

le re

sults

 in t

he hi

ghest

 vehi

cle m

IoU a

t CFG

=2.5,

 but 

the r

oad



mIoU 

keeps

 decr

easin

g. Th

irdly

, wit

h M =

0for 

uncon

ditio

nal i

nfere

nce i

n CFG

, roa

d mIo

U



signi

fican

tly i

ncrea

ses.



CFG æ ‡

åº¦ï¼ŒFID

 ç”±äºå¯¹æ¯”

åº¦å’Œé”åº¦çš„

æ˜¾è‘—å˜åŒ–è€Œ

é™ä½ï¼Œå¦‚ä»¥

å‰çš„ç ”ç©¶ä¸­

æ‰€è§(Ch

en et



al.,2

023c)

.å…¶æ¬¡ï¼Œä¸º

æ¡ä»¶å’Œæ— æ¡

ä»¶æ¨ç†ä¿ç•™

ç›¸åŒçš„æ˜ å°„

æ¶ˆé™¤äº† C

FG å¯¹æ˜ 

å°„æ¡ä»¶çš„å½±

å“ã€‚å¦‚



å›¾ä¸­çš„è“çº¿

æ‰€ç¤º 8ï¼Œ

å¢åŠ  CF

G æ¯”ä¾‹å¯¼

è‡´ CFG

=2.5 

æ—¶çš„æœ€é«˜è½¦

è¾† mIo

Uï¼Œä½†é“è·¯

 mIoU

 æŒç»­ä¸‹



é™ã€‚ç¬¬ä¸‰ï¼Œ

å¯¹äº CF

G ä¸­çš„æ— 

æ¡ä»¶æ¨æ–­ï¼Œ

M =ï¼Œr

oad m

IoU æ˜¾

è‘—å¢åŠ ã€‚



Howev

er, i

t sli

ghtly

 degr

ades 

the g

uidan

ce on

 vehi

cle g

enera

tion.

 As m

entio

ned i

n Sec

tion 

4.3,



ç„¶è€Œï¼Œå®ƒç¨

å¾®é™ä½äº†å¯¹

è½¦è¾†ç”Ÿæˆçš„

æŒ‡å¯¼ã€‚å¦‚ç¬¬

èŠ‚æ‰€è¿° 4

.3,



CFG c

omple

xity 

incre

ases 

with 

more 

condi

tions

. Des

pite 

simpl

ifyin

g tra

ining

, var

ious 

CFG



choic

es ex

ist d

uring

 infe

rence

. We 

leave

 the 

in-de

pth i

nvest

igati

on fo

r thi

s cas

e as 

futur

e wor

k.



CFG çš„

å¤æ‚æ€§éšç€

æ¡ä»¶çš„å¢åŠ 

è€Œå¢åŠ ã€‚å°½

ç®¡ç®€åŒ–äº†è®­

ç»ƒï¼Œä½†åœ¨æ¨

æ–­è¿‡ç¨‹ä¸­å­˜

åœ¨å„ç§ C

FG é€‰



æ‹©ã€‚æˆ‘ä»¬æŠŠ

å¯¹è¿™ä¸€æ¡ˆä»¶

çš„æ·±å…¥è°ƒæŸ¥

ä½œä¸ºä»Šåçš„

å·¥ä½œã€‚



13 CO

NCLUS

ION



14 ç»“è®º



This 

paper

 pres

ents 

MAGIC

DRIVE

, a n

ovel 

frame

work 

to en

code 

multi

ple g

eomet

ric c

ontro

ls fo

r



high-

quali

ty mu

lti-c

amera

 stre

et vi

ew ge

nerat

ion. 

With 

the s

epara

tion 

encod

ing d

esign

, MAG

ICDRI

VE fu

lly u

tiliz

es ge

ometr

ic in

forma

tion 

from 

3D an

notat

ions 

and r

ealiz

es ac

curat

e sem

antic



contr

ol fo

r str

eet v

iews.

 Besi

des, 

the p

ropos

ed cr

oss-v

iew a

ttent

ion m

odule

 is s

imple

 yet 

effec

tive



in gu

arant

eeing

 cons

isten

cy ac

ross 

multi

-came

ra vi

ews. 

As ev

idenc

ed by

 expe

rimen

ts, t

he



gener

ation

s fro

m MAG

ICDRI

VE sh

ow hi

gh re

alism

 and 

fidel

ity t

o 3D 

annot

ation

s. Mu

ltipl

e



contr

ols e

quipp

ed MA

GICDR

IVE w

ith i

mprov

ed ge

neral

izabi

lity 

for t

he ge

nerat

ion o

f nov

el st

reet



views

. Mea

nwhil

e, MA

GICDR

IVE c

an be

 used

 for 

data 

augme

ntati

on, f

acili

tatin

g the

 trai

ning 

for



perce

ption

 mode

ls on

 both

 BEV 

segme

ntati

on an

d 3D 

objec

t det

ectio

n tas

ks.



æœ¬æ–‡ä»‹ç»äº†

 MAGI

CDRIV

Eï¼Œä¸€ä¸ªæ–°

çš„æ¡†æ¶æ¥ç¼–

ç é«˜è´¨é‡çš„

å¤šæ‘„åƒæœºè¡—

æ™¯ç”Ÿæˆçš„å¤š

ç§å‡ ä½•æ§



åˆ¶ã€‚MAG

IC- D

RIVE 

é‡‡ç”¨åˆ†ç¦»ç¼–

ç è®¾è®¡ï¼Œå……

åˆ†åˆ©ç”¨ 3

D æ ‡æ³¨çš„

å‡ ä½•ä¿¡æ¯ï¼Œ

å®ç°å¯¹è¡—æ™¯

çš„ç²¾ç¡®è¯­



ä¹‰æ§åˆ¶ã€‚æ­¤

å¤–ï¼Œæ‰€æå‡º

çš„è·¨è§†è§’æ³¨

æ„æ¨¡å—ç®€å•

è€Œæœ‰æ•ˆåœ°ä¿

è¯äº†è·¨å¤šæ‘„

åƒæœºè§†è§’çš„

ä¸€è‡´æ€§ã€‚



å®éªŒè¯æ˜ï¼Œ

MAGIC

DRIVE

 çš„å„ä»£äº§

å“å¯¹ 3D

 æ³¨é‡Šè¡¨ç°

å‡ºé«˜åº¦çš„çœŸ

å®æ€§å’Œä¿çœŸ

åº¦ã€‚å¤šä¸ªæ§

ä»¶ä¸º



MAGIC

DRIVE

 é…å¤‡äº†æ”¹

è¿›çš„æ³›åŒ–èƒ½

åŠ›ï¼Œå¯ç”Ÿæˆ

æ–°é¢–çš„è¡—é“

è§†å›¾ã€‚åŒæ—¶

ï¼ŒMAGI

CDRIV

E å¯ç”¨äº

æ•°



æ®å¢å¼ºï¼Œæœ‰

åŠ©äºåœ¨ B

EV åˆ†å‰²

å’Œ 3D 

å¯¹è±¡æ£€æµ‹ä»»

åŠ¡ä¸­è®­ç»ƒæ„Ÿ

çŸ¥æ¨¡å‹ã€‚



Limit

ation

 and 

Futur

e Wor

k. We

 show

 fail

ure



cases

 from

 MAGI

CDRIV

E in 

Figur

e 9. 

Altho

ugh



MAGIC

DRIVE

 can 

gener

ate n

ight 

views

, the

y are



not a

s dar

k as 

real 

image

s (as

 in F

igure

 9a).

 This



may b

e due

 to t

hat d

iffus

ion m

odels

 are 

hard 

to



gener

ate t

oo da

rk im

ages 

(Gutt

enber

g, 20

23). 

Figur

e 9b 

shows

 that

 MAGI

CDRIV

E can

not g

enera

te



å±€ é™ æ€§

 å’Œ æœª 

æ¥ å·¥ ä½œ

 ã€‚ æˆ‘ 

ä»¬ åœ¨ å›¾

 ä¸­ æ˜¾ 

ç¤º äº†



MAGIC

DRIVE

 çš„å¤±è´¥æ¡ˆ

ä¾‹ 9ã€‚è™½

ç„¶ MAG

ICDRI

VE



å¯ä»¥ç”Ÿæˆå¤œ

æ™¯ï¼Œä½†å®ƒä»¬

ä¸åƒçœŸå®å›¾

åƒé‚£æ ·æš—



(å¦‚å›¾ 9

a)ã€‚è¿™å¯

èƒ½æ˜¯ç”±äºæ‰©

æ•£æ¨¡å‹éš¾ä»¥

ç”Ÿæˆ



å¤ª æš— çš„

 å›¾ åƒ 

(Gutt

enber

g,202

3). å›¾

 9b è¡¨

 ç¤º



MAGIC

DRIVE

 æ— æ³•ç”Ÿæˆ



18.06

 58.3

1 5.5

0



14.67

 56.4

6 24.

73



14.70

 56.0

4 26.

20



14.46

 59.3

1 27.

13



18.06

 58.3

1 5.5

0



14.67

 56.4

6 24.

73



14.70

 56.0

4 26.

20



14.46

 59.3

1 27.

13



Publi

shed 

as a 

confe

rence

 pape

r at 

ICLR



2



unsee

n wea

thers

 for 

nuSce

nes. 

Futur

e wor

k may



æœªçŸ¥çš„å¤©æ°”

ã€‚æœªæ¥çš„å·¥

ä½œå¯ä»¥



Figur

e 9: 

Failu

re ca

ses o

f MAG

ICDRI

VE.



Publi

shed 

as a 

confe

rence

 pape

r at 

ICLR



2



å›¾ MAG

ICDRI

VE çš„å¤±

è´¥æ¡ˆä¾‹ã€‚



focus

 on h

ow to

 impr

ove t

he cr

oss-d

omain

 gene

raliz

ation

 abil

ity o

f str

eet v

iew g

enera

tion.



é‡ç‚¹ç ”ç©¶å¦‚

ä½•æé«˜è¡—æ™¯

ç”Ÿæˆçš„è·¨åŸŸ

æ¦‚æ‹¬èƒ½åŠ›ã€‚



Publi

shed 

as a 

confe

rence

 pape

r at 

ICLR



2



Ackno

wledg

ement

. Thi

s wor

k is 

suppo

rted 

in pa

rt by

 the 

Gener

al Re

searc

h Fun

d (GR

F) of

 Hong



Kong 

Resea

rch G

rants

 Coun

cil (

RGC) 

under

 Gran

t No.

 1420

3521,

 in p

art b

y the

 CUHK

 SSFC

RS



fundi

ng No

. 313

6023,

 and 

in pa

rt by

 the 

Resea

rch M

atchi

ng Gr

ant S

cheme

 unde

r Gra

nt No

.



71069

37, 8

60113

0, an

d 860

1440.

 We g

ratef

ully 

ackno

wledg

e the

 supp

ort o

f Min

dSpor

e, CA

NN



(Comp

ute A

rchit

ectur

e for

 Neur

al Ne

twork

s) an

d Asc

end A

I Pro

cesso

r use

d for

 this

 rese

arch.

 This



resea

rch h

as be

en ma

de po

ssibl

e by 

fundi

ng su

pport

 from

 the 

Resea

rch G

rants

 Coun

cil o

f Hon

g



Kong 

throu

gh th

e Res

earch

 Impa

ct Fu

nd pr

oject

 R600

3-21.



è‡´è°¢ã€‚æœ¬ç ”

ç©¶å¾—åˆ°äº† 

RGC ç ”

ç©¶èµ„åŠ©å±€ä¸€

èˆ¬ç ”ç©¶åŸºé‡‘

(GRF)

é¡¹ç›®(14

20352

1)ã€CU

HK ç§‘å­¦

ç ”ç©¶èµ„



åŠ©è®¡åˆ’é¡¹ç›®

(3136

023)å’Œ

ç ”ç©¶é…å¯¹è¡¥

åŠ©é‡‘é¡¹ç›®(

71069

37ã€86

01130

 å’Œ 86

01440

)çš„èµ„åŠ©ã€‚

æˆ‘ä»¬



éå¸¸æ„Ÿè°¢ 

MindS

poreã€

CANN(

ç¥ç»ç½‘ç»œè®¡

ç®—æ¶æ„)å’Œ

 Asce

nd AI

 å¤„ç†å™¨å¯¹

æœ¬æ¬¡ç ”ç©¶çš„

æ”¯æŒã€‚è¿™



é¡¹ç ”ç©¶å¾—åˆ°

äº†é¦™æ¸¯ç ”ç©¶

èµ„åŠ©å±€é€šè¿‡

ç ”ç©¶å½±å“åŠ›

åŸºé‡‘é¡¹ç›® 

R6003

-21 çš„

èµ„åŠ©ã€‚



REFER

ENCES



å‚è€ƒ



Tim B

rooks

, Ale

ksand

er Ho

lynsk

i, an

d Ale

xei A

 Efro

s. In

struc

tpix2

pix: 

Learn

ing t

o fol

low i

mage



editi

ng in

struc

tions

. In 

CVPR,

 2023

.



è’‚å§†Â·å¸ƒé²

å…‹æ–¯ã€äºšå†

å±±å¤§Â·éœæ—

æ–¯åŸºå’Œé˜¿åˆ—

å…‹è°¢Â·åŸƒå¤«

ç½—æ–¯ã€‚In

struc

tpix2

pix:å­¦

ä¹ éµ



å¾ªå›¾åƒç¼–è¾‘

è¯´æ˜ã€‚åœ¨ 

CVPRï¼Œ

2023 

å¹´ã€‚



Holge

r Cae

sar, 

Varun

 Bank

iti, 

Alex 

H Lan

g, So

urabh

 Vora

, Ven

ice E

rin L

iong,

 Qian

g Xu,

 Anus

h



Krish

nan, 

Yu Pa

n, Gi

ancar

lo Ba

ldan,

 and 

Oscar

 Beij

bom. 

nusce

nes: 

A mul

timod

al da

taset

 for



auton

omous

 driv

ing. 

In CV

PR, 2

020.



éœå°”æ ¼Â·å‡¯

æ’’ã€ç“¦ä¼¦Â·

ç­åŸºè’‚ã€äºš

å†å…‹æ–¯Â·H

Â·æœ—ã€è‹æ‹‰

å¸ƒÂ·æ²ƒæ‹‰ã€

å¨å°¼æ–¯Â·è‰¾

ç³Â·è±æ˜‚ã€



å¾å¼ºã€é˜¿åŠª

ä»€Â·å…‹é‡Œå¸Œ

å—ã€æ½˜å®‡ã€

è´¾æ©å¡æ´›Â·

å·´å°”ä¸¹å’Œå¥¥

æ–¯å¡Â·è´ä¼Š

é‚¦ã€‚nus

cenes

:ç”¨äº



è‡ªåŠ¨é©¾é©¶çš„

å¤šæ¨¡æ€æ•°æ®

é›†ã€‚åœ¨ 2

020 å¹´

çš„ CVP

Rã€‚



Kai C

hen, 

Lanqi

ng Ho

ng, H

ang X

u, Zh

enguo

 Li, 

and D

it-Ya

n Yeu

ng. M

ultis

iam: 

Self-

super

vised



multi

-inst

ance 

siame

se re

prese

ntati

on le

arnin

g for

 auto

nomou

s dri

ving.

 In I

CCV, 

2021.



ç¨‹å‡¯ã€æ´ªè“

é’ã€å¾èˆªã€

ææŒ¯å›½å’Œæ¨

è¿ªç‡•ã€‚Mu

ltisi

am:ç”¨äº

è‡ªåŠ¨é©¾é©¶çš„

è‡ªç›‘ç£å¤šç¤º

ä¾‹æš¹ç½—è¡¨



ç¤ºå­¦ä¹ ã€‚2

021 å¹´

åœ¨ ICC

Vã€‚



Kai C

hen, 

Zhili

 Liu,

 Lanq

ing H

ong, 

Hang 

Xu, Z

hengu

o Li,

 and 

Dit-Y

an Ye

ung. 

Mixed



autoe

ncode

r for

 self

-supe

rvise

d vis

ual r

epres

entat

ion l

earni

ng. I

n CVP

R, 20

23a.



ã€åˆ˜å¿—ç«‹ã€

æ´ªè“é’ã€ã€

ã€æ¨è¿ªç‡•ã€‚

ç”¨äºè‡ªç›‘ç£

è§†è§‰è¡¨å¾å­¦

ä¹ çš„æ··åˆè‡ª

åŠ¨ç¼–ç å™¨ã€‚

2023 

å¹´åœ¨



CVPRã€‚



Kai C

hen, 

Chunw

ei Wa

ng, K

uo Ya

ng, J

ianhu

a Han

, Lan

qing 

Hong,

 Fei 

Mi, H

ang X

u, Zh

engyi

ng



Liu, 

Wenyo

ng Hu

ang, 

Zheng

uo Li

, Dit

-Yan 

Yeung

, Lif

eng S

hang,

 Xin 

Jiang

, and

 Qun 

Liu.



Gain-

 ing 

wisdo

m fro

m set

backs

: Ali

gning

 larg

e lan

guage

 mode

ls vi

a mis

take 

analy

sis. 

arXiv



prepr

int a

rXiv:

2310.

10477

, 202

3b.



ã€ç‹çº¯è–‡ã€

æ¨é˜”ã€éŸ©å»º

åã€æ´ªè“é’

ã€è´¹ç±³ã€å¾

èˆªã€åˆ˜æ­£è‹±

ã€é»„æ–‡æ°¸ã€

ææŒ¯å›½ã€æ¨

è¿ªç‡•ã€å°š



ç«‹å³°ã€æ–°ç–†

å’Œåˆ˜ç¾¤ã€‚ä»

æŒ«æŠ˜ä¸­è·å¾—

æ™ºæ…§:é€šè¿‡

é”™è¯¯åˆ†ææ ¡

å‡†å¤§å‹è¯­è¨€

æ¨¡å‹ã€‚ar

Xiv é¢„

å°æœ¬



arXiv

:2310

.1047

7ï¼Œ202

3bã€‚



Kai C

hen, 

Enze 

Xie, 

Zhe C

hen, 

Lanqi

ng Ho

ng, Z

hengu

o Li,

 and 

Dit-Y

an Ye

ung. 

Integ

ratin

g geo

metri

c con

trol 

into 

text-

to-im

age d

iffus

ion m

odels

 for 

high-

quali

ty de

tecti

on da

ta ge

nerat

ion v

ia



text 

promp

t. ar

Xiv p

repri

nt ar

Xiv:2

306.0

4607,

 2023

c.



ã€è°¢æ©æ³½ã€

ã€æ´ªè“é’ã€

ã€æ¨è¿ªç‡•ã€‚

å°†å‡ ä½•æ§åˆ¶

é›†æˆåˆ°æ–‡æœ¬

åˆ°å›¾åƒæ‰©æ•£

æ¨¡å‹ä¸­ï¼Œé€š

è¿‡æ–‡æœ¬æ



ç¤ºç”Ÿæˆé«˜è´¨

é‡çš„æ£€æµ‹æ•°

æ®ã€‚arX

iv é¢„å°

æœ¬ arX

iv:23

06.04

607ï¼Œ2

023cã€‚



Yaran

 Chen

, Hao

ran L

i, Ru

iyuan

 Gao,

 and 

Dongb

in Zh

ao. B

oost 

3-d o

bject

 dete

ction

 via 

point



cloud

s seg

menta

tion 

and f

used 

3-d g

iou-l

1 los

s. IE

EE TN

NLS, 

2020.



é™ˆé›…ç„¶ï¼Œï¼Œ

é«˜ç‘å…ƒï¼Œèµµ

ã€‚é€šè¿‡ç‚¹äº‘

åˆ†å‰²å’Œèåˆ

çš„ä¸‰ç»´ g

iou-l

1 æŸå¤±å¢

å¼ºä¸‰ç»´ç‰©ä½“

æ£€



æµ‹ã€‚IEE

E TNN

LSï¼Œ20

20ã€‚



Publi

shed 

as a 

confe

rence

 pape

r at 

ICLR



2



Patri

ck Es

ser, 

Robin

 Romb

ach, 

and B

jorn 

Ommer

. Tam

ing t

ransf

ormer

s for

 high

-reso

lutio

n ima

ge



synth

esis.

 In C

VPR, 

2021.



å¸•ç‰¹é‡Œå…‹Â·

åŸƒå¡ã€ç½—å®¾

Â·é¾™å·´èµ«å’Œ

æ¯”çº¦æ©Â·å¥¥

é»˜ã€‚é©¯æœé«˜

åˆ†è¾¨ç‡å›¾åƒ

åˆæˆçš„å˜å‹

å™¨ã€‚202

1



å¹´åœ¨ CV

PRã€‚



Ruiyu

an Ga

o, Ch

enche

n Zha

o, La

nqing

 Hong

, and

 Qian

g Xu.

 Diff

Guard

: Sem

antic

 mism

atchg

uided

 out-

of-di

strib

ution

 dete

ction

 usin

g pre

-trai

ned d

iffus

ion m

odels

. In 

ICCV,

 2023

.



é«˜ç‘å…ƒï¼Œï¼Œ

èµµï¼Œæ´ªè“é’

ï¼Œã€‚Dif

fGuar

d:ä½¿ç”¨é¢„

è®­ç»ƒæ‰©æ•£æ¨¡

å‹çš„è¯­ä¹‰ä¸

åŒ¹é…å¼•å¯¼çš„

åˆ†å¸ƒå¤–æ£€



æµ‹ã€‚åœ¨ I

CCVï¼Œ2

023 å¹´

ã€‚



Chong

jian 

Ge, J

unson

g Che

n, En

ze Xi

e, Zh

ongda

o Wan

g, La

nqing

 Hong

, Huc

huan 

Lu, Z

hengu

o



Li, a

nd Pi

ng Lu

o. Me

taBEV

: Sol

ving 

senso

r fai

lures

 for 

bev d

etect

ion a

nd ma

p seg

menta

tion.



In IC

CV, 2

023.



è‘›å´‡å»ºï¼Œï¼Œ

é™ˆï¼Œè°¢æ©æ³½

ï¼Œç‹ä¸­é“ï¼Œ

æ´ªè“é’ï¼Œé™†

æ²ªå·ï¼Œï¼Œç½—

å¹³ã€‚Met

aBEV:

è§£å†³ BE

V æ£€æµ‹å’Œ

åœ°



å›¾åˆ†å‰²çš„ä¼ 

æ„Ÿå™¨æ•…éšœã€‚

åœ¨ ICC

Vï¼Œ202

3 å¹´ã€‚



Yunha

o Gou

, Zhi

li Li

u, Ka

i Che

n, La

nqing

 Hong

, Han

g Xu,

 Aoxu

e Li,

 Dit-

Yan Y

eung,

 Jame

s T



Kwok,

 and 

Yu Zh

ang. 

Mixtu

re of

 clus

ter-c

ondit

ional

 lora

 expe

rts f

or vi

sion-

langu

age



instr

uctio

n tun

ing. 

arXiv

 prep

rint 

arXiv

:2312

.1237

9, 20

23.



è‹Ÿï¼Œï¼Œåˆ˜å¿—

ç«‹ï¼Œï¼Œæ´ªè“

é’ï¼Œï¼Œææ•–

é›ªï¼Œæ¨è¿ªç‡•

ï¼Œéƒ­å±•çå’Œ

ã€‚è§†è§‰è¯­è¨€

æŒ‡ä»¤è°ƒè°çš„

ç¾¤é›†æ¡ä»¶



lora 

ä¸“å®¶çš„æ··åˆ

ã€‚arXi

v é¢„å°æœ¬

 arXi

v:231

2.123

79ï¼Œ20

23ã€‚



Nicho

las G

utten

berg.

 Diff

usion

 with

 offs

et no

ise. 

https

://ww

w.cro

sslab

s.org

/blog

/



diffu

sion-

with-

offse

t-noi

se, 2

023.



å°¼ å¤ æ‹‰

 æ–¯ Â· 

å¤ æ»• è´

 æ ¼ ã€‚ 

å¸¦ æœ‰ å

 ç§» å™ª 

å£° çš„ æ‰©

 æ•£ ã€‚ 

https

://ww

w.cro

sslab

s.org

/blog

/



diffu

sion-

with-

offse

t-noi

se, 2

023.



Jianh

ua Ha

n, Xi

wen L

iang,

 Hang

 Xu, 

Kai C

hen, 

Lanqi

ng Ho

ng, C

haoqi

ang Y

e, We

i Zha

ng, Z

hengu

o Li,

 Xiao

dan L

iang,

 and 

Chunj

ing X

u. So

da10m

: Tow

ards 

large

-scal

e obj

ect d

etect

ion



bench

- mar

k for

 auto

nomou

s dri

ving.

 arXi

v pre

print

 arXi

v:210

6.111

18, 2

021.



ã€æ¢ã€ã€ã€

æ´ªè“é’ã€å¶

è¶…å¼ºã€ã€ã€

æ¢å’Œå¾æ˜¥å‡€

ã€‚Soda

10m:èµ°

å‘è‡ªåŠ¨é©¾é©¶

çš„å¤§è§„æ¨¡ç›®

æ ‡æ£€æµ‹



åŸºå‡†ã€‚ar

Xiv é¢„

å°æœ¬ ar

Xiv:2

106.1

1118ï¼Œ

2021ã€‚



Jonat

han H

o and

 Tim 

Salim

ans. 

Class

ifier

-free

 diff

usion

 guid

ance.

 In N

eurIP

S 202

1 Wor

kshop

 on



Deep 

Gener

ative

 Mode

ls an

d Dow

nstre

am Ap

plica

tions

, 202

1.



ä¹”çº³æ£®Â·ä½•

å’Œè’‚å§†Â·è¨

åˆ©æ›¼æ–¯ã€‚æ— 

åˆ†ç±»å™¨æ‰©æ•£

åˆ¶å¯¼ã€‚åœ¨ 

NeurI

PS 20

21 æ·±åº¦

ç”Ÿæˆæ¨¡å‹å’Œ

ä¸‹æ¸¸



åº”ç”¨ç ”è®¨ä¼š

ä¸Šï¼Œ202

1ã€‚



Jonat

han H

o, Aj

ay Ja

in, a

nd Pi

eter 

Abbee

l. De

noisi

ng di

ffusi

on pr

obabi

listi

c mod

els. 

In Ne

urIPS

,



2020.



ä¹”çº³æ£®Â·ä½•

ï¼Œé˜¿è´¾ä¼ŠÂ·

è´¾æ©å’Œå½¼å¾—

Â·é˜¿æ¯”å‹’ã€‚

å»å™ªæ‰©æ•£æ¦‚

ç‡æ¨¡å‹ã€‚åœ¨

 Neur

IPSï¼Œ2

020 å¹´

ã€‚



Junji

e Hua

ng, G

uan H

uang,

 Zhen

g Zhu

, Ye 

Yun, 

and D

along

 Du. 

Bevde

t: Hi

gh-pe

rform

ance



multi

- cam

era 3

d obj

ect d

etect

ion i

n bir

d-eye

-view

. arX

iv pr

eprin

t arX

iv:21

12.11

790, 

2021.



é»„ä¿Šæ·ã€é»„

å† ã€éƒ‘ç«¹ã€

å¶éŸµå’Œæœå¤§

é¾™ã€‚Bev

det:é«˜

æ€§èƒ½å¤šæ‘„åƒ

æœºé¸Ÿç°ä¸‰ç»´

ç‰©ä½“æ£€æµ‹ã€‚

arXiv



é¢„å°æœ¬ a

rXiv:

2112.

11790

ï¼Œ2021

ã€‚



Publi

shed 

as a 

confe

rence

 pape

r at 

ICLR



3



Yuanf

eng J

i, Zh

e Che

n, En

ze Xi

e Xie

, Lan

qing 

Hong,

 Xihu

i Liu

, Zha

oqian

g Liu

, Ton

g Lu,



Zheng

uo Li

, and

 Ping

 Luo.

 DDP:

 Diff

usion

 mode

l for

 dens

e vis

ual p

redic

tion.

 In I

CCV, 

2023.



çºªå…ƒå³°ï¼Œï¼Œ

è°¢æ©æ³½ï¼Œæ´ª

è“é’ï¼Œï¼Œåˆ˜

ï¼Œï¼Œï¼Œï¼Œç½—

å¹³ã€‚DDP

:ç”¨äºå¯†é›†

è§†è§‰é¢„æµ‹çš„

æ‰©æ•£æ¨¡å‹ã€‚

åœ¨



ICCVï¼Œ

2023 

å¹´ã€‚



Kaica

n Li,

 Kai 

Chen,

 Haoy

u Wan

g, La

nqing

 Hong

, Cha

oqian

g Ye,

 Jian

hua H

an, Y

ukuai

 Chen

,



Wei Z

hang,

 Chun

jing 

Xu, D

it-Ya

n Yeu

ng, e

t al.

 Coda

: A r

eal-w

orld 

road 

corne

r cas

e dat

aset 

for



objec

t det

ectio

n in 

auton

omous

 driv

ing. 

arXiv

 prep

rint 

arXiv

:2203

.0772

4, 20

22.



æå¼€ç¿ï¼Œï¼Œ

ï¼Œæ´ªè“é’ï¼Œ

å¶è¶…å¼ºï¼Œï¼Œ

é™ˆç‰å¿«ï¼Œï¼Œ

ï¼Œæ¨è¿ªç‡•ï¼Œ

ç­‰ã€‚Cod

a:ä¸€ä¸ªç”¨

äºè‡ªåŠ¨é©¾é©¶

ä¸­ç‰©



ä½“æ£€æµ‹çš„çœŸ

å®é“è·¯æ‹è§’

æ•°æ®é›†ã€‚a

rXiv 

é¢„å°æœ¬ a

rXiv:

2203.

07724

ï¼Œ2022

ã€‚



Pengx

iang 

Li, Z

hili 

Liu, 

Kai C

hen, 

Lanqi

ng Ho

ng, Y

unzhi

 Zhug

e, Di

t-Yan

 Yeun

g, Hu

chuan

 Lu,



and X

u Jia

. Tra

ckdif

fusio

n: Mu

lti-o

bject

 trac

king 

data 

gener

ation

 via 

diffu

sion 

model

s. ar

Xiv



prepr

int a

rXiv:

2312.

00651

, 202

3a.



ã€æã€åˆ˜è‡³

ç«‹ã€ã€æ´ªè“

é’ã€è¯¸è‘›ã€

æ¨è¿ªç‡•ã€é™†

æ²ªå·ã€ã€‚è·Ÿ

è¸ªæ‰©æ•£:é€š

è¿‡æ‰©æ•£æ¨¡å‹

çš„å¤šç›®æ ‡è·Ÿ



è¸ªæ•°æ®ç”Ÿæˆ

ã€‚arXi

v é¢„å°æœ¬

 arXi

v:231

2.006

51ï¼Œ20

23aã€‚



Yuhen

g Li,

 Haot

ian L

iu, Q

ingya

ng Wu

, Fan

gzhou

 Mu, 

Jianw

ei Ya

ng, J

ianfe

ng Ga

o, Ch

unyua

n Li,



and Y

ong J

ae Le

e. Gl

igen:

 Open

-set 

groun

ded t

ext-t

o-ima

ge ge

nerat

ion. 

In CV

PR, 2

023b.



æå®‡æ’ã€åˆ˜

æ˜Šå¤©ã€å´é’

é˜³ã€ç©†ã€ã€

é«˜å‰‘é”‹ã€æ

æ˜¥å…ƒå’Œæå‹‡

åœ¨ã€‚Gli

gen:åŸº

äºå¼€æ”¾é›†çš„

æ–‡æœ¬åˆ°



å›¾åƒç”Ÿæˆã€‚

åœ¨ CVP

Rï¼Œ202

3 å¹´ã€‚



Tsung

-Yi L

in, M

ichae

l Mai

re, S

erge 

Belon

gie, 

James

 Hays

, Pie

tro P

erona

, Dev

a Ram

anan,

 Piot

r



Dolla

Â´r, a

nd C 

Lawre

nce Z

itnic

k. Mi

croso

ft co

co: C

ommon

 obje

cts i

n con

text.

 In E

CCV, 

2014.



å®—-æ—é€¸ã€

è¿ˆå…‹å°”Â·æ¢…

å°”ã€å¡å°”æ—¥

Â·è´éš†å‰ã€

è©¹å§†æ–¯Â·æµ·

æ–¯ã€å½¼å¾—ç½—

Â·ä½©ç½—å¨œã€

è¿ªç“¦Â·æ‹‰é©¬



å—ã€å½¼å¾—Â·

å¤šæ‹‰Â·r 

å’Œ CÂ·åŠ³

ä¼¦æ–¯Â·å…¹å°¼

å…‹ã€‚å¾®è½¯ 

coco:

ä¸Šä¸‹æ–‡ä¸­çš„

å…¬å…±å¯¹è±¡ã€‚

2014 

å¹´åœ¨



ECCVã€‚



Nan L

iu, S

huang

 Li, 

Yilun

 Du, 

Anton

io To

rralb

a, an

d Jos

hua B

 Tene

nbaum

. Com

posit

ional



visua

l gen

erati

on wi

th co

mposa

ble d

iffus

ion m

odels

. In 

ECCV,

 2022

a.



åˆ˜æ¥ ï¼Œï¼Œæœ

å®œä¼¦ï¼ŒAn

tonio

 Torr

alba 

å’Œ Jos

hua B

 Tene

nbaum

ã€‚ç”¨å¯ç»„åˆ

æ‰©æ•£æ¨¡å‹åˆ

æˆè§†è§‰



ç”Ÿæˆã€‚åœ¨ 

ECCVï¼Œ

2022 

å¹´ã€‚



Ze Li

u, Yu

tong 

Lin, 

Yue C

ao, H

an Hu

, Yix

uan W

ei, Z

heng 

Zhang

, Ste

phen 

Lin, 

and B

ainin

g



Guo. 

Swin 

trans

forme

r: Hi

erarc

hical

 visi

on tr

ansfo

rmer 

using

 shif

ted w

indow

s. In

 ICCV

, 202

1.



ã€æ—è¯­æ¡ã€

ã€éŸ©è™ã€ã€

é­ã€ã€æ—å’Œ

éƒ­æŸå®ã€‚S

win t

ransf

ormer

:ä½¿ç”¨ç§»ä½

çª—å£çš„åˆ†å±‚

è§†è§‰è½¬



æ¢å™¨ã€‚20

21 å¹´åœ¨

 ICCV

ã€‚



Zhiji

an Li

u, Ha

otian

 Tang

, Ale

xande

r Ami

ni, X

ingyu

 Yang

, Hui

zi Ma

o, Da

niela

 Rus,

 and 

Song



Han. 

Bevfu

sion:

 Mult

i-tas

k mul

ti-se

nsor 

fusio

n wit

h uni

fied 

birdâ€™

s-eye

 view

 repr

esent

ation

. In



ICRA,

 2023

a.



ã€å”æµ©å¤©ã€

äºšåŠ›å±±å¤§é˜¿

ç±³å°¼ã€æ¨å…´

å®‡ã€æ¯›ã€ä¸¹

å¦®æ‹‰é²æ–¯å’Œ

å®‹å¯’ã€‚Be

vfusi

on:å…·æœ‰

ç»Ÿä¸€é¸Ÿç°



è§†å›¾è¡¨ç¤ºçš„

å¤šä»»åŠ¡å¤šä¼ 

æ„Ÿå™¨èåˆã€‚

2023 

å¹´åœ¨ IC

RAã€‚



Zhili

 Liu,

 Jian

hua H

an, K

ai Ch

en, L

anqin

g Hon

g, Ha

ng Xu

, Chu

njing

 Xu, 

and Z

hengu

o Li.

 Task

custo

mized

 self

-supe

rvise

d pre

-trai

ning 

with 

scala

ble d

ynami

c rou

ting.

 In A

AAI, 

2022b

.



åˆ˜å¿—ç«‹ã€ã€

ã€æ´ªè“é’ã€

ã€å’Œã€‚å…·æœ‰

å¯æ‰©å±•åŠ¨æ€

è·¯ç”±çš„ä»»åŠ¡

å®šåˆ¶çš„è‡ªæˆ‘

ç›‘ç£é¢„è®­ç»ƒ

ã€‚åœ¨



AAAIï¼Œ

2022b

ã€‚



Zhili

 Liu,

 Kai 

Chen,

 Yifa

n Zha

ng, J

ianhu

a Han

, Lan

qing 

Hong,

 Hang

 Xu, 

Zheng

uo Li

, Dit

-Yan



Ye- u

ng, a

nd Ja

mes K

wok. 

Geom-

erasi

ng: G

eomet

ry-dr

iven 

remov

al of

 impl

icit 

conce

pt in



diffu

sion 

model

s. ar

Xiv p

repri

nt ar

Xiv:2

310.0

5873,

 2023

b.



åˆ˜å¿—ç«‹ã€ã€

ã€ã€æ´ªè“é’

ã€ã€ã€è‘£ä¼Ÿ

å¼ºå’Œéƒ­ç‚³æ¹˜

ã€‚å‡ ä½•åˆ é™¤

:æ‰©æ•£æ¨¡å¼

ä¸­éšå«æ¦‚å¿µ

çš„å‡ ä½•é©±åŠ¨



åˆ é™¤ã€‚ar

Xiv é¢„

å°æœ¬ ar

Xiv:2

310.0

5873ï¼Œ

2023b

ã€‚



Ilya 

Loshc

hilov

 and 

Frank

 Hutt

er. D

ecoup

led w

eight

 deca

y reg

ulari

zatio

n. In

 ICLR

, 201

9.



Publi

shed 

as a 

confe

rence

 pape

r at 

ICLR



3



ä¼Šåˆ©äºšÂ·æ´›

å¸Œæ´›å¤«å’Œå¼—

å…°å…‹Â·å“ˆç‰¹

ã€‚å»è€¦æƒé‡

è¡°å‡æ­£åˆ™åŒ–

ã€‚åœ¨ IC

LRï¼Œ20

19 å¹´ã€‚



Ben M

ilden

hall,

 Prat

ul P 

Srini

vasan

, Mat

thew 

Tanci

k, Jo

natha

n T B

arron

, Rav

i Ram

amoor

thi, 

and



Ren N

g. Ne

rf: R

epres

entin

g sce

nes a

s neu

ral r

adian

ce fi

elds 

for v

iew s

ynthe

sis. 

In EC

CV, 2

020.



æœ¬Â·ç±³å°”ç™»

éœå°”ã€æ™®æ‹‰

å›¾å°”Â·PÂ·

æ–¯é‡Œå°¼ç“¦æ¡‘

ã€é©¬ä¿®Â·å¦

è¥¿å…‹ã€ä¹”çº³

æ£®Â·TÂ·å·´

ä¼¦ã€æ‹‰ç»´Â·



æ‹‰é©¬ç©†å°”è’‚

å’Œ Ren

 Ngã€‚N

erf:å°†

åœºæ™¯è¡¨ç¤ºä¸º

ç”¨äºè§†å›¾åˆ

æˆçš„ç¥ç»è¾

å°„åœºã€‚åœ¨ 

2020 

å¹´çš„



ECCVã€‚



Alexa

nder 

Quinn

 Nich

ol, P

raful

la Dh

ariwa

l, Ad

itya 

Rames

h, Pr

anav 

Shyam

, Pam

ela M

ishki

n,



Bob M

cgrew

, Ily

a Sut

skeve

r, an

d Mar

k Che

n. Gl

ide: 

Towar

ds ph

otore

alist

ic im

age g

enera

tion



and e

ditin

g wit

h tex

t-gui

ded d

iffus

ion m

odels

. In 

ICML,

 2022

.



äºšå†å±±å¤§Â·

å¥å› Â·å°¼ç§‘

å°”ã€æ™®æ‹‰å¯Œ

æ‹‰Â·è¾¾é‡Œç“¦

å°”ã€é˜¿è¿ªè’‚

äºšÂ·æ‹‰æ¢…ä»€

ã€æ™®æ‹‰çº³å¤«

Â·å¸Œäºš



å§†ã€å¸•æ¢…æ‹‰

Â·ç±³ä»€é‡‘ã€

é²å‹ƒÂ·éº¦å…‹

æ ¼é²ã€ä¼Šåˆ©

äºšÂ·è‹èŒ¨åŸº

å¼—å’Œé™ˆå”å±±

ã€‚Glid

e:ä½¿ç”¨æ–‡

æœ¬



å¼•å¯¼æ‰©æ•£æ¨¡

å‹å®ç°ç…§ç‰‡

çº§çœŸå®æ„Ÿå›¾

åƒç”Ÿæˆå’Œç¼–

è¾‘ã€‚åœ¨ I

CMLï¼Œ2

022 å¹´

ã€‚



Alec 

Radfo

rd, J

ong W

ook K

im, C

hris 

Halla

cy, A

ditya

 Rame

sh, G

abrie

l Goh

, San

dhini

 Agar

wal,



Giris

h Sas

try, 

Amand

a Ask

ell, 

Pamel

a Mis

hkin,

 Jack

 Clar

k, et

 al. 

Learn

ing t

ransf

erabl

e vis

ual



model

s fro

m nat

ural 

langu

age s

uperv

ision

. In 

ICML,

 2021

.



äºšå†å…‹Â·æ‹‰

å¾·ç¦å¾·ã€ç¼

Â·é‡‘æ—­ã€å…‹

é‡Œæ–¯Â·å“ˆæ‹‰

è¥¿ã€é˜¿è¿ªè’‚

äºšÂ·æ‹‰æ¢…ä»€

ã€åŠ å¸ƒé‡ŒåŸƒ

å°”Â·é«˜ã€



æ¡‘è’‚å°¼Â·é˜¿

åŠ ç“¦å°”ã€å‰

é‡Œä»€Â·è¨æ–¯

ç‰¹é‡Œã€é˜¿æ›¼

è¾¾Â·é˜¿æ–¯å…‹

å°”ã€å¸•æ¢…æ‹‰

Â·ç±³ä»€é‡‘ã€

æ°å…‹Â·



å…‹æ‹‰å…‹ç­‰äºº

,ã€Šä»è‡ªç„¶

è¯­è¨€ç›‘ç£ä¸­

å­¦ä¹ å¯è½¬ç§»

è§†è§‰æ¨¡å‹ã€‹

ã€‚2021

 å¹´åœ¨ I

CMLã€‚



Robin

 Romb

ach, 

Andre

as Bl

attma

nn, D

omini

k Lor

enz, 

Patri

ck Es

ser, 

and B

joÂ¨rn

 Omme

r. Hi

ghres

oluti

on im

age s

ynthe

sis w

ith l

atent

 diff

usion

 mode

ls. I

n CVP

R, 20

22.



ç½—å®¾Â·é¾™å·´

èµ«ã€å®‰å¾·é‡Œ

äºšæ–¯Â·å¸ƒæ‹‰

ç‰¹æ›¼ã€å¼ ç§€

å¤Â·æ´›ä¼¦èŒ¨

ã€å¸•ç‰¹é‡Œå…‹

Â·åŸƒå¡å°”å’Œ

æ¯”çº¦



Â·rnÂ·å¥¥

é»˜ã€‚ç”¨æ½œåœ¨

æ‰©æ•£æ¨¡å‹åˆ

æˆé«˜åˆ†è¾¨ç‡

å›¾åƒã€‚åœ¨ 

CVPRï¼Œ

2022 

å¹´ã€‚



Yang 

Song,

 Jasc

ha So

hl-Di

ckste

in, D

ieder

ik P 

Kingm

a, Ab

hishe

k Kum

ar, S

tefan

o Erm

on, a

nd



Ben P

oole.

 Scor

e-bas

ed ge

nerat

ive m

odeli

ng th

rough

 stoc

hasti

c dif

feren

tial 

equat

ions.

 In I

CLR,



2020.



å®‹æ´‹ã€è´¾æ²™

Â·è‹å°”-è¿ª

å…‹æ–¯å¦ã€è¿ª

å¾·é‡Œå…‹Â·é‡‘

é©¬ã€é˜¿å¸ƒèˆ

å…‹Â·åº“é©¬å°”

ã€æ–¯ç‰¹å‡¡è¯º

Â·åŸƒå°”è’™å’Œ



æœ¬Â·æ™®å°”ã€‚

åŸºäºåˆ†æ•°çš„

éšæœºå¾®åˆ†æ–¹

ç¨‹ç”Ÿæˆæ¨¡å‹

ã€‚åœ¨ 20

20 å¹´çš„

 ICLR

ã€‚



Alexa

nder 

Swerd

low, 

Runsh

eng X

u, an

d Bol

ei Zh

ou. S

treet

-view

 imag

e gen

erati

on fr

om a 

birdâ€™

seye 

view 

layou

t. ar

Xiv p

repri

nt ar

Xiv:2

301.0

4634,

 2023

.



Alexa

nder 

Swerd

low ã€

 å¾ æ¶¦ 

ç”Ÿ å’Œ å‘¨

 ã€‚ ä» 

é¸Ÿ ç° å›¾

 å¸ƒ å±€ 

ç”Ÿ æˆ è¡—

 æ™¯ å›¾ 

åƒ ã€‚ a

rXiv 

é¢„ å° æœ¬



arXiv

:2301

.0463

4ï¼Œ202

3ã€‚



Shita

o Tan

g, Fu

yang 

Zhang

, Jia

cheng

 Chen

, Pen

g Wan

g, an

d Yas

utaka

 Furu

kawa.

 Mvdi

ffusi

on:



En- a

bling

 holi

stic 

multi

-view

 imag

e gen

erati

on wi

th co

rresp

onden

ce-aw

are d

iffus

ion. 

arXiv



prepr

int a

rXiv:

2307.

01097

, 202

3.



å”ä¸–æ¶›ï¼Œå¼ 

å¯Œé˜³ï¼Œé™ˆå®¶

æˆï¼Œï¼Œå¤å·

ã€‚Mvdi

ffusi

on:åˆ©ç”¨

ä¸€è‡´æ€§æ„ŸçŸ¥

æ‰©æ•£å®ç°æ•´

ä½“å¤šè§†å›¾å›¾



åƒç”Ÿæˆã€‚a

rXiv 

é¢„å°æœ¬ a

rXiv:

2307.

01097

ï¼Œ2023

ã€‚



Hung-

Yu Ts

eng, 

Qinbo

 Li, 

Chang

il Ki

m, Su

hib A

lsisa

n, Ji

a-Bin

 Huan

g, an

d Joh

annes

 Kopf

. Con

siste

nt vi

ew sy

nthes

is wi

th po

se-gu

ided 

diffu

sion 

model

s. In

 CVPR

, 202

3.



hong-

Yu Ts

engï¼ŒQ

inbo 

Liï¼ŒCh

angil

 Kimï¼Œ

Suhib

 Alsi

sanï¼ŒJ

ia-é»„æ–Œ

å’Œ Joh

annes

 Kopf

ã€‚



åˆ©ç”¨å§¿æ€å¼•

å¯¼æ‰©æ•£æ¨¡å‹

çš„ä¸€è‡´è§†å›¾

åˆæˆã€‚åœ¨ 

CVPRï¼Œ

2023 

å¹´ã€‚



Ashis

h Vas

wani,

 Noam

 Shaz

eer, 

Niki 

Parma

r, Ja

kob U

szkor

eit, 

Llion

 Jone

s, Ai

dan N

 Gome

z,



Åukas

z Kai

ser, 

and I

llia 

Polos

ukhin

. Att

entio

n is 

all y

ou ne

ed. I

n Neu

rIPS,

 2017

.



Ashis

h Vas

waniã€

Noam 

Shaze

erã€Ni

ki Pa

rmarã€

Jakob

 Uszk

oreit

ã€Llio

n Jon

esã€Ai

dan



Gomez

ã€ukas

z Kai

ser å’Œ

 Illi

a Pol

osukh

inã€‚ä½ éœ€

è¦çš„åªæ˜¯å…³

æ³¨ã€‚åœ¨ N

eurIP

Sï¼Œ201

7ã€‚



Publi

shed 

as a 

confe

rence

 pape

r at 

ICLR



3



Su Wa

ng, C

hitwa

n Sah

aria,

 Cesl

ee Mo

ntgom

ery, 

Jordi

 Pont

-Tuse

t, Sh

ai No

y, St

efano

 Pell

egrin

i,



Yasum

asa O

noe, 

Sarah

 Lasz

lo, D

avid 

J Fle

et, R

adu S

oricu

t, et

 al. 

Image

n edi

tor a

nd ed

itben

ch:



Advan

cing 

and e

valua

ting 

text-

guide

d ima

ge in

paint

ing. 

In CV

PR, 2

023a.



ç‹ç´ ï¼Œå¥‡ä¸‡

Â·è¨å“ˆåˆ©äºš

ï¼Œå¡æ–¯åˆ©Â·

è’™å“¥é©¬åˆ©ï¼Œ

ä¹”è¿ªÂ·åºç‰¹

-å›¾å¡ç‰¹ï¼Œ

æ²™ä¼ŠÂ·è¯ºä¼Š

ï¼Œæ–¯ç‰¹å‡¡è¯º



Â·ä½©è±æ ¼é‡Œ

å°¼ï¼Œå°é‡ä¿

æ­£ï¼Œè¨æ‹‰Â·

æ‹‰å…¹æ´›ï¼Œæˆ´

ç»´Â·JÂ·å¼—

åˆ©ç‰¹ï¼Œæ‹‰æœ

Â·ç´¢é‡Œç§‘ç‰¹

ï¼Œ



ç­‰ã€‚202

3 å¹´åœ¨ 

CVPRã€‚



Weilu

n Wan

g, Ji

anmin

 Bao,

 Weng

ang Z

hou, 

Dongd

ong C

hen, 

Dong 

Chen,

 Lu Y

uan, 

and



Houqi

ang L

i. Se

manti

c ima

ge sy

nthes

is vi

a dif

fusio

n mod

els. 

arXiv

 prep

rint



arXiv

:2207

.0005

0, 20

22.



ã€é²å»ºæ°‘ã€

å‘¨æ–‡åˆšã€ã€

ã€é™†æºå’Œæ

ã€‚åŸºäºæ‰©æ•£

æ¨¡å‹çš„è¯­ä¹‰

å›¾åƒåˆæˆã€‚

 arXi

v é¢„å°æœ¬



arXiv

:2207

.0005

0ï¼Œ202

2ã€‚



Xiaof

eng W

ang, 

Zheng

 Zhu,

 Guan

 Huan

g, Xi

nze C

hen, 

Jiaga

ng Zh

u, an

d Jiw

en Lu

. Dri

vedre

amer:

 Towa

rds r

eal-w

orld-

drive

n wor

ld mo

dels 

for a

utono

mous 

drivi

ng. a

rXiv 

prepr

int



arXiv

:2309

.0977

7, 20

23b.



ã€éƒ‘ç«¹ã€ã€

é™ˆæ–°æ³½ã€æœ±

å®¶åˆšå’Œé™†ç»§

æ–‡ã€‚é©¾é©¶æ¢¦

æƒ³å®¶:èµ°å‘

ç°å®ä¸–ç•Œçš„

è‡ªåŠ¨é©¾é©¶ä¸–

ç•Œæ¨¡



å‹ã€‚arX

iv é¢„å°

æœ¬ arX

iv:23

09.09

777ï¼Œ2

023bã€‚



Xiaof

eng W

ang, 

Zheng

 Zhu,

 Yunp

eng Z

hang,

 Guan

 Huan

g, Yu

n Ye,

 Wenb

o Xu,

 Ziwe

i Che

n, an

d



Xinga

ng Wa

ng. A

re we

 read

y for

 visi

on-ce

ntric

 driv

ing s

tream

ing p

ercep

tion?

 the 

asap 

bench

mark.

 In C

VPR, 

2023c

.



ã€éƒ‘ç«¹ã€ã€

ã€ã€ã€é™ˆã€

å’Œç‹å¿ƒåˆšã€‚

æˆ‘ä»¬å‡†å¤‡å¥½

è¿æ¥ä»¥è§†è§‰

ä¸ºä¸­å¿ƒçš„é©±

åŠ¨æµæ„ŸçŸ¥äº†

å—ï¼Ÿå°½å¿«



åŸºå‡†ã€‚åœ¨ 

CVPRï¼Œ

2023c

ã€‚



Jay Z

hangj

ie Wu

, Yix

iao G

e, Xi

ntao 

Wang,

 Stan

 Weix

ian L

ei, Y

uchao

 Gu, 

Yufei

 Shi,

 Wynn

e



Hsu, 

Ying 

Shan,

 Xiao

hu Qi

e, an

d Mik

e Zhe

ng Sh

ou. T

une-a

-vide

o: On

e-sho

t tun

ing o

f ima

ge



diffu

sion 

model

s for

 text

-to-v

ideo 

gener

ation

. In 

CVPR,

 2023

a.



å‘¨æ°ä¼¦å´ï¼Œ

è‘›ï¼Œç‹ï¼Œé›·

ä¼Ÿè´¤ï¼Œé¡¾ï¼Œ

å²ï¼Œè®¸æ°¸åˆ©

ï¼Œï¼Œè‚–è™å’Œ

éƒ‘å®ˆè¿ˆã€‚è§†

é¢‘è°ƒè°:æ–‡

æœ¬åˆ°è§†é¢‘ç”Ÿ



æˆçš„å›¾åƒæ‰©

æ•£æ¨¡å‹çš„ä¸€

æ¬¡æ€§è°ƒè°ã€‚

2023 

å¹´åœ¨ CV

PRã€‚



Weiji

a Wu,

 Yuzh

ong Z

hao, 

Hao C

hen, 

Yucha

o Gu,

 Rui 

Zhao,

 Yefe

i He,

 Hong

 Zhou

, Mik

e Zhe

ng



Shou,

 and 

Chunh

ua Sh

en. D

atase

tdm: 

Synth

esizi

ng da

ta wi

th pe

rcept

ion a

nnota

tions

 usin

g



diffu

- sio

n mod

els. 

arXiv

 prep

rint 

arXiv

:2308

.0616

0, 20

23b.



ã€èµµç‰å¿ ã€

ã€ã€é¡¾ã€ã€

ã€ã€ã€éƒ‘å®ˆ

è¿ˆå’Œã€‚Da

taset

dm:ä½¿ç”¨

æ‰©æ•£æ¨¡å‹åˆ

æˆå¸¦æœ‰æ„ŸçŸ¥

æ³¨é‡Šçš„æ•°



æ®ã€‚arX

iv é¢„å°

æœ¬ arX

iv:23

08.06

160ï¼Œ2

023bã€‚



Kairu

i Yan

g, En

hui M

a, Ji

bin P

eng, 

Qing 

Guo, 

Di Li

n, an

d Kai

cheng

 Yu. 

Bevco

ntrol

: Acc

urate

ly



contr

ollin

g str

eet-v

iew e

lemen

ts wi

th mu

lti-p

erspe

ctive

 cons

isten

cy vi

a bev

 sket

ch la

yout.



arXiv

 prep

rint 

arXiv

:2308

.0166

1, 20

23a.



æ¨ï¼Œé©¬æ©æ…§

ï¼Œï¼Œå½­ï¼Œï¼Œ

éƒ­åº†ï¼Œï¼Œä¿

å¼€æˆã€‚Be

vcont

rol:é€š

è¿‡ bev

 è‰å›¾å¸ƒå±€

ï¼Œç²¾ç¡®æ§åˆ¶

å¤šè§†è§’



ä¸€è‡´æ€§çš„è¡—

æ™¯å…ƒç´ ã€‚a

rXiv 

é¢„å°æœ¬ a

rXiv:

2308.

01661

ï¼Œ2023

aã€‚



Yijun

 Yang

, Rui

yuan 

Gao, 

Xiaos

en Wa

ng, N

an Xu

, and

 Qian

g Xu.

 Mma-

diffu

sion:

 Mult

imoda

l



attac

k on 

diffu

sion 

model

s. ar

Xiv p

repri

nt ar

Xiv:2

311.1

7516,

 2023

b.



ã€é«˜ç‘å…ƒã€

ç‹å°æ£®ã€å¾

æ¥ å’Œå¾å¼ºã€‚

MMA-æ‰©

æ•£:å¯¹æ‰©æ•£

æ¨¡å‹çš„å¤šæ¨¡

æ€æ”»å‡»ã€‚a

rXiv 

é¢„å°æœ¬



arXiv

:2311

.1751

6ï¼Œ202

3bã€‚



Lvmin

 Zhan

g, An

yi Ra

o, an

d Man

eesh 

Agraw

ala. 

Addin

g con

ditio

nal c

ontro

l to 

text-

to-im

age



diffu

sion 

model

s. In

 ICCV

, 202

3a.



å¼ ã€é¥¶å®‰æ€¡

å’Œé©¬æ¶…ä»€Â·

é˜¿æ ¼æ‹‰ç“¦æ‹‰

ã€‚å‘æ–‡æœ¬åˆ°

å›¾åƒæ‰©æ•£æ¨¡

å‹æ·»åŠ æ¡ä»¶

æ§åˆ¶ã€‚20

23 å¹´åœ¨



ICCVã€‚



Shu Z

hang,

 Xiny

i Yan

g, Yi

hao F

eng, 

Can Q

in, C

hia-C

hih C

hen, 

Ning 

Yu, Z

eyuan

 Chen

, Hua

n



Wang,

 Silv

io Sa

vares

e, St

efano

 Ermo

n, et

 al. 

Hive:

 Harn

essin

g hum

an fe

edbac

k for



instr

uctio

nal v

isual

 edit

ing. 

arXiv

 prep

rint 

arXiv

:2303

.0961

8, 20

23b.



Publi

shed 

as a 

confe

rence

 pape

r at 

ICLR



3



ã€æ¨æ¬£æ€¡ã€

å†¯ä¸€è±ªã€ç§¦

ç¿ç¿ã€é™ˆå˜‰

èŠã€ã€é™ˆã€

ã€è¥¿å°”ç»´å¥¥

Â·è¨ç“¦é›·å¡

ã€æ–¯ç‰¹å‡¡è¯º

Â·åŸƒè’™ç­‰



ç¼–è‘—ã€‚ar

Xiv é¢„

å°æœ¬ ar

Xiv:2

303.0

9618ï¼Œ

2023b

ã€‚



Wenli

ang Z

hao, 

Lujia

 Bai,

 Yong

ming 

Rao, 

Jie Z

hou, 

and J

iwen 

Lu. U

nipc:

 A un

ified

 pred

ictor

corre

ctor 

frame

work 

for f

ast s

ampli

ng of

 diff

usion

 mode

ls. a

rXiv 

prepr

int a

rXiv:

2302.

04867

,



2023.



èµµï¼Œç™½è·¯ä½³

ï¼Œé¥¶æ°¸æ˜ï¼Œ

å‘¨æ°ï¼Œé™†ç»§

æ–‡ã€‚Uni

pc:æ‰©æ•£

æ¨¡å¼å¿«é€Ÿå–

æ ·çš„ç»Ÿä¸€é¢„

æµ‹-æ ¡æ­£æ¡†



æ¶ã€‚arX

iv é¢„å°

æœ¬ arX

iv:23

02.04

867ï¼Œ2

023ã€‚



Ziyan

g Zhe

ng, R

uiyua

n Gao

, and

 Qian

g Xu.

 Non-

cross

 diff

usion

 for 

seman

tic c

onsis

tency

. arX

iv



prepr

int a

rXiv:

2312.

00820

, 202

3.



éƒ‘å­æ‰¬ï¼Œé«˜

ç‘å…ƒï¼Œã€‚è¯­

ä¹‰ä¸€è‡´æ€§çš„

éäº¤å‰æ‰©æ•£

ã€‚arXi

v é¢„å°æœ¬

 arXi

v:231

2.008

20ï¼Œ20

23ã€‚



LIU Z

hili,

 Kai 

Chen,

 Jian

hua H

an, H

ONG L

anqin

g, Ha

ng Xu

, Zhe

nguo 

Li, a

nd Ja

mes K

wok.



Task-

 cust

omize

d mas

ked a

utoen

coder

 via 

mixtu

re of

 clus

ter-c

ondit

ional

 expe

rts. 

In IC

LR,



2023.



åˆ˜å¿—ç«‹ã€ç¨‹

å‡¯ã€éŸ©å»ºå

ã€æ´ªè“é’ã€

å¾èˆªã€ææŒ¯

å›½å’Œéƒ­ç‚³æ¹˜

ã€‚é€šè¿‡æ··åˆ

èšç±»æ¡ä»¶ä¸“

å®¶çš„ä»»åŠ¡



å®šåˆ¶å±è”½è‡ª

åŠ¨ç¼–ç å™¨ã€‚

åœ¨ ICL

Rï¼Œ202

3 å¹´ã€‚



Bolei

 Zhou

, Han

g Zha

o, Xa

vier 

Puig,

 Tete

 Xiao

, San

ja Fi

dler,

 Adel

a Bar

riuso

, and

 Anto

nio



Torra

lba. 

Seman

tic u

nders

tandi

ng of

 scen

es th

rough

 the 

ade20

k dat

aset.

 In I

JCV, 

2019.



å‘¨ã€ã€æ³½ç»´

å°”Â·æ™®ä¼Šæ ¼

ã€è‚–å¤ªç‰¹ã€

è¨å°¼äºšÂ·è²

å¾·å‹’ã€Â·å·´

é‡Œä¹Œç´¢å’Œå®‰

ä¸œå°¼å¥¥Â·æ‰˜

é›·å·´ã€‚é€š



è¿‡ ade

20k æ•°

æ®é›†å¯¹åœºæ™¯

è¿›è¡Œè¯­ä¹‰ç†

è§£ã€‚åœ¨ I

JCVï¼Œ2

019 å¹´

ã€‚



Brady

 Zhou

 and 

Phili

pp Kr

aÂ¨hen

buÂ¨hl

. Cro

ss-vi

ew tr

ansfo

rmers

 for 

real-

time 

map-v

iew s

emant

ic



segme

ntati

on. I

n CVP

R, 20

22.



å¸ƒé›·è¿ªå‘¨å’Œ

è²åˆ©æ™®å…‹æ‹‰

äº¨å¸ƒ hl

ã€‚ç”¨äºå®æ—¶

åœ°å›¾è§†å›¾è¯­

ä¹‰åˆ†å‰²çš„äº¤

å‰è§†å›¾è½¬æ¢

å™¨ã€‚åœ¨



CVPRï¼Œ

2022 

å¹´ã€‚



Publi

shed 

as a 

confe

rence

 pape

r at 

ICLR



3



APPEN

DIX



é™„å½•



A OBJ

ECT F

ILTER

ING



B å¯¹è±¡è¿‡

æ»¤



(a) A

ll ob

ject 

boxes

 (b) 

visib

le bo

xes f

or Fr

ont L

eft v

iew (

c) vi

sible

 boxe

s for

 Back

 Righ

t vie

w



(a)æ‰€æœ‰

ç›®æ ‡æ¡† (

b)å·¦å‰è§†

å›¾çš„å¯è§†æ¡†

(c)å³å

è§†å›¾çš„å¯è§†

æ¡†



Figur

e 10:

 Boun

ding 

box f

ilter

ing t

o eac

h vie

w. Th

e das

hed l

ines 

in (b

-c) r

epres

ent t

he x-

axis 

of



the c

amera

â€™s co

ordin

ates.

 Boxe

s are

 reta

ined 

only 

if th

ey ha

ve at

 leas

t a p

oint 

in th

e pos

itive

 half



of th

e z-a

xis i

n eac

h cam

eraâ€™s

 coor

dinat

e.



å›¾ 10:

æ¯ä¸ªè§†å›¾çš„

è¾¹ç•Œæ¡†è¿‡æ»¤

ã€‚(b-c

)ä¸­çš„è™šçº¿

è¡¨ç¤ºç›¸æœºå

æ ‡çš„ x 

è½´ã€‚ä»…å½“é•¿

æ–¹ä½“åœ¨æ¯ä¸ª

ç›¸



æœºåæ ‡çš„ 

z è½´æ­£åŠ

éƒ¨åˆ†è‡³å°‘æœ‰

ä¸€ä¸ªç‚¹æ—¶ï¼Œ

æ‰ä¼šä¿ç•™é•¿

æ–¹ä½“ã€‚



In Eq

uatio

n 6, 

we em

ploy 

fviz 

for o

bject

 filt

ering

 to f

acili

tate 

boots

trap 

learn

ing. 

We sh

ow



more 

detai

ls of

 fviz

 here

. Ref

er to

 Figu

re 10

 for 

illus

trati

on. F

or th

e sak

e of 

simpl

icity

, eac

h



camer

aâ€™s F

ield 

Of Vi

ew (F

OV) i

s not

 cons

idere

d. Ob

jects

 are 

defin

ed as

 visi

ble i

f any

 corn

er of



their

 boun

ding 

boxes

 is l

ocate

d in 

front

 of t

he ca

mera 

(i.e.

, z



vi > 

0) wi

thin 

each 

camer

aâ€™s



coord

inate

 syst

em. T

he ap

plica

tion 

of fv

iz si

gnifi

cantl

y lig

htens

 the 

workl

oad o

f the

 boun

ding



box e

ncode

r, ev

idenc

e for

 whic

h can

 be f

ound 

in Se

ction

 6.



åœ¨ç­‰å¼ä¸­ 

6ï¼Œæˆ‘ä»¬é‡‡

ç”¨ fvi

z è¿›è¡Œå¯¹

è±¡è¿‡æ»¤ï¼Œä»¥

ä¿ƒè¿›å¼•å¯¼å­¦

ä¹ ã€‚æˆ‘ä»¬åœ¨

è¿™é‡Œå±•ç¤ºäº†

 fviz



çš„æ›´å¤šç»†èŠ‚

ã€‚å‚è€ƒå›¾ 

10 ä¸ºäº†

è¯´æ˜ã€‚ä¸ºäº†

ç®€å•èµ·è§ï¼Œ

ä¸è€ƒè™‘æ¯ä¸ª

æ‘„åƒæœºçš„è§†

é‡(FOV

)ã€‚å¦‚æœ



å¯¹è±¡çš„è¾¹ç•Œ

æ¡†çš„ä»»ä½•è§’

åœ¨æ¯ä¸ªæ‘„åƒ

æœºçš„åæ ‡ç³»

å†…ä½äºæ‘„åƒ

æœºçš„å‰é¢(

å³ zvi

 > 0 

),åˆ™å¯¹è±¡



è¢«å®šä¹‰ä¸ºå¯

è§ã€‚fvi

z çš„åº”ç”¨

å¤§å¤§å‡è½»äº†

åŒ…å›´ç›’ç¼–ç 

å™¨çš„å·¥ä½œé‡

ï¼Œå…¶è¯æ®å¯

ä»¥åœ¨ç¬¬èŠ‚ä¸­

æ‰¾åˆ°



6ã€‚



C MOR

E EXP

ERIME

NTAL 

DETAI

LS



D æ›´å¤šå®

éªŒç»†èŠ‚



Seman

tic C

lasse

s for

 Gene

ratio

n. To

 supp

ort m

ost p

ercep

tion 

model

s on 

nuSce

nes, 

we tr

y to



inclu

de se

manti

cs co

mmonl

y use

d in 

most 

setti

ngs (

Huang

 et a

l., 2

021; 

Zhou 

& Kra

Â¨henb

uÂ¨hl,



2022;

 Liu 

et al

., 20

23a; 

Ge et

 al.,

 2023

). Sp

ecifi

cally

, for

 obje

cts, 

ten c

atego

ries 

inclu

de ca

r, bu

s,



truck

, tra

iler,

 moto

rcycl

e, bi

cycle

, con

struc

tion 

vehic

le, p

edest

rian,

 barr

ier, 

and t

raffi

c con

e. Fo

r



the r

oad m

ap, e

ight 

categ

ories

 incl

ude d

rivab

le ar

ea, p

edest

rian 

cross

ing, 

walkw

ay, s

top l

ine, 

car



parki

ng ar

ea, r

oad d

ivide

r, la

ne di

vider

, and

 road

block

.



ç”¨äºç”Ÿæˆçš„

è¯­ä¹‰ç±»ã€‚ä¸º

äº†æ”¯æŒ n

uScen

es ä¸Šçš„

å¤§å¤šæ•°æ„ŸçŸ¥

æ¨¡å‹ï¼Œæˆ‘ä»¬

è¯•å›¾åŒ…å«å¤§

å¤šæ•°è®¾ç½®ä¸­



å¸¸ç”¨çš„è¯­ä¹‰

(Huan

g et 

al.,2

021ï¼›Z

hou &

 KraÂ¨

henbu

Â¨hl,2

022ï¼›L

iu et

 al.,

2023a

ï¼›Ge



et al

.,202

3).å…·ä½“

æ¥è¯´ï¼Œå¯¹äº

å¯¹è±¡ï¼Œåä¸ª

ç±»åˆ«åŒ…æ‹¬æ±½

è½¦ã€å…¬å…±æ±½

è½¦ã€å¡è½¦ã€

æ‹–è½¦ã€æ‘©æ‰˜



è½¦ã€è‡ªè¡Œè½¦

ã€å»ºç­‘è½¦è¾†

ã€è¡Œäººã€éšœ

ç¢ç‰©å’Œäº¤é€š

é”¥ã€‚å¯¹äºé“

è·¯åœ°å›¾ï¼Œå…«

ä¸ªç±»åˆ«åŒ…æ‹¬

å¯è¡Œé©¶åŒº



åŸŸã€äººè¡Œæ¨ª

é“ã€äººè¡Œé“

ã€åœè½¦çº¿ã€

åœè½¦åœºã€é“

è·¯åˆ†éš”å¸¦ã€

è½¦é“åˆ†éš”å¸¦

å’Œè·¯éšœã€‚



Publi

shed 

as a 

confe

rence

 pape

r at 

ICLR



3



Optim

izati

on. W

e tra

in al

l new

ly ad

ded p

arame

ters 

using

 Adam

W (Lo

shchi

lov &

 Hutt

er, 2

019)



optim

izer 

and a

 cons

tant 

learn

ing r

ate a

t 8e



âˆ’5



and b

atch 

size 

24 (t

otal 

144 i

mages

 for 

6 vie

ws)



with 

a lin

ear w

arm-u

p of 

3000 

itera

tions

, and

 set 

Î³



s = 0

.2.



ä¼˜åŒ–ã€‚æˆ‘ä»¬

ä½¿ç”¨ Ad

amW(L

oshch

ilov 

& Hut

ter,2

019)ä¼˜

åŒ–å™¨å’Œ 8

e 5 ä¸‹

çš„æ’å®šå­¦ä¹ 

é€Ÿç‡ï¼Œæ‰¹



é‡å¤§å°ä¸º 

24(6 

ä¸ªè§†å›¾æ€»å…±

 144 

ä¸ªå›¾åƒ)ï¼Œ

çº¿æ€§é¢„çƒ­ 

3000 

æ¬¡è¿­ä»£ï¼Œè®¾

ç½® Î³s 

= 0.2

ã€‚



E ABL

ATION

 ON N

UMBER

 OF A

TTEND

ING V

IEWS



F æ ¹æ®å‚

ä¸è§†å›¾æ•°é‡

è¿›è¡Œæ¶ˆè



Table

 5: A

blati

on on

 numb

er of

 atte

nding

 view

s. Ev

aluat

ion r

esult

s are

 from

 CVT 

on th

e syn

theti

c



nuSce

nes v

alida

ti on

 set,

 with

out M

 = { 

0 } i

n CFG

 scal

e = 2

.



è¡¨ 5:å‚

ä¸è§†å›¾æ•°é‡

ä¸Šçš„æ¶ˆèã€‚

è¯„ä¼°ç»“æœæ¥

è‡ªåˆæˆ n

uScen

es éªŒè¯

é›†ä¸Šçš„ C

VTï¼Œåœ¨ 

CFG s

cale



= 2 ä¸­

æ²¡æœ‰ M 

= {0}

ã€‚



 Atte

nding

 Num.

 FID 

â†“ Roa

d mIo

U â†‘ V

ehicl

e mIo

U â†‘



 ä¸»æ²»ç¼–å·

ã€‚ FID

 â†“ ç±³æ¬§

è·¯ è½¦è¾† 

mIoU



1 13.

06 58

.63 2

6.41



ä¸€ 13.

06 58

.63 2

6.41



2 (ou

rs) 1

4.46 

59.31

 27.1

3



2(æˆ‘ä»¬çš„

) 14.

46 59

.31 2

7.13



5 (al

l) 14

.76 5

8.35 

25.41



5(å…¨éƒ¨)

 14.7

6 58.

35 25

.41



In Ta

ble 5

, we 

demon

strat

e the

 impa

ct of

 vary

ing t

he nu

mber 

of at

tende

d vie

ws on

 eval

uatio

n res

ults.

 Atte

nding

 to a

 sing

le vi

ew yi

elds 

super

ior F

ID re

sults

; the

 redu

ced i

nflux

 of i

nform

ation



from 

neigh

borin

g vie

ws si

mplif

ies o

ptimi

zatio

n for

 that

 view

. How

ever,

 this

 appr

oach



compr

omise

s mIo

U, al

so re

flect

ing l

ess c

onsis

tent 

gener

ation

, as 

depic

ted i

n Fig

ure 1

1.



Conve

rsely

, inc

orpor

at- i

ng al

l vie

ws de

terio

rates

 perf

orman

ce ac

ross 

all m

etric

s, po

tenti

ally 

due



to ex

cessi

ve in

forma

tion 

causi

ng in

terfe

rence

 in c

ross-

atten

tion.

 Sinc

e eac

h vie

w has

 an



inter

secti

on wi

th bo

th le

ft an

d rig

ht vi

ews, 

atten

ding 

to on

e vie

w can

not g

uaran

tee c

onsis

tency

,



espec

ially

 for 

foreg

round

 obje

cts, 

while

 atte

nding

 to m

ore v

iews 

requi

res m

ore c

omput

ation

. Thu

s,



we op

t for

 2 at

tende

d vie

ws in

 our 

main 

paper

, str

iking

 a ba

lance

 betw

een c

onsis

tency

 and



compu

tatio

nal e

ffici

ency.



åœ¨è¡¨ä¸­ 5

 ä¸­ï¼Œæˆ‘ä»¬

å±•ç¤ºäº†æ”¹å˜

å‚ä¸è§†å›¾çš„

æ•°é‡å¯¹è¯„ä¼°

ç»“æœçš„å½±å“

ã€‚å…³æ³¨å•ä¸€

è§†å›¾ä¼šäº§ç”Ÿ

æ›´



å¥½çš„ FI

D ç»“æœï¼›

æ¥è‡ªç›¸é‚»è§†

å›¾çš„å‡å°‘çš„

ä¿¡æ¯æµå…¥ç®€

åŒ–äº†è¯¥è§†å›¾

çš„ä¼˜åŒ–ã€‚ç„¶

è€Œï¼Œè¿™ç§æ–¹

æ³•æŸ



å®³äº† mI

oUï¼Œä¹Ÿå

æ˜ äº†ä¸å¤ªä¸€

è‡´çš„ç”Ÿæˆï¼Œ

å¦‚å›¾æ‰€ç¤º 

11ã€‚ç›¸å

ï¼Œåˆå¹¶æ‰€æœ‰

è§†å›¾ä¼šé™ä½

æ‰€æœ‰æŒ‡æ ‡



çš„æ€§èƒ½ï¼Œè¿™

å¯èƒ½æ˜¯å› ä¸º

è¿‡å¤šçš„ä¿¡æ¯

ä¼šå¹²æ‰°äº¤å‰

å…³æ³¨ã€‚ç”±äº

æ¯ä¸ªè§†å›¾ä¸

å·¦è§†å›¾å’Œå³

è§†å›¾éƒ½æœ‰



äº¤é›†ï¼Œæ‰€ä»¥

å…³æ³¨ä¸€ä¸ªè§†

å›¾ä¸èƒ½ä¿è¯

ä¸€è‡´æ€§ï¼Œå°¤

å…¶æ˜¯å¯¹äºå‰

æ™¯å¯¹è±¡ï¼Œè€Œ

å…³æ³¨æ›´å¤šçš„

è§†å›¾éœ€è¦



æ›´å¤šçš„è®¡ç®—

ã€‚å› æ­¤ï¼Œæˆ‘

ä»¬åœ¨æˆ‘ä»¬çš„

ä¸»è®ºæ–‡ä¸­é€‰

æ‹©äº† 2 

ä¸ªå‚ä¸è§†å›¾

ï¼Œåœ¨ä¸€è‡´æ€§

å’Œè®¡ç®—æ•ˆç‡

ä¹‹



é—´å–å¾—äº†å¹³

è¡¡ã€‚



Publi

shed 

as a 

confe

rence

 pape

r at 

ICLR



3



Atten

d to 

2 vie

ws At

tend 

to 1 

view



å…³æ³¨ 2 

ä¸ªè§†å›¾å…³æ³¨

 1 ä¸ªè§†

å›¾



Figur

e 11:

 Comp

ariso

n bet

ween 

diffe

rent 

numbe

rs of

 atte

nding

 view

s. On

ly at

tendi

ng to

 one 

view



resul

ts in

 wors

e mul

ti-ca

mera 

consi

stenc

y.



å›¾ 11:

ä¸åŒæ•°é‡çš„

å‚ä¸è§†å›¾ä¹‹

é—´çš„æ¯”è¾ƒã€‚

ä»…å…³æ³¨ä¸€ä¸ª

è§†å›¾ä¼šå¯¼è‡´

æ›´å·®çš„å¤šç›¸

æœºä¸€è‡´æ€§ã€‚



G QUA

LITAT

IVE C

OMPAR

ISON 

WITH 

BEVGE

N



H ä¸ B

EVGEN

 çš„å®šæ€§æ¯”

è¾ƒ



Figur

e 12 

illus

trate

s tha

t MAG

ICDRI

VE ge

nerat

es im

ages 

with 

highe

r qua

lity 

compa

red t

o BEV

Gen (

Swerd

low e

t al.

, 202

3), p

artic

ularl

y exc

ellin

g in 

objec

ts. S

uch e

nhanc

ement

 can 

be at

tribu

ted



to MA

GICDR

IVEâ€™s

 util

izati

on of

 the 

diffu

sion 

model

 and 

the a

dopti

on of

 a cu

stomi

zed c

ondit

ion



injec

tion 

strat

egy.



æ•°å­— 12

 è¯´æ˜ M

AGICD

RIVE 

ç”Ÿæˆçš„å›¾åƒ

è´¨é‡é«˜äº 

BEV- 

Gen(S

werdl

ow et

 al.,

2023)

ï¼Œç‰¹åˆ«ç²¾



äºç‰©ä»¶ã€‚è¿™

ç§å¢å¼ºå¯ä»¥

å½’åŠŸäº M

AGICD

RIVE 

å¯¹æ‰©æ•£æ¨¡å‹

çš„åˆ©ç”¨å’Œå®š

åˆ¶æ¡ä»¶æ³¨å…¥

ç­–ç•¥çš„é‡‡ç”¨

ã€‚



Fail 

to ge

n.



Low q

ualit

y



Wrong

 plac

e



æœªèƒ½ç”Ÿæˆã€‚



ä½è´¨é‡é”™è¯¯



ä½ç½®



Groun

d Tru

th



Publi

shed 

as a 

confe

rence

 pape

r at 

ICLR



3



Gener

ation

 from



Scene

 leve

l: pr

ompt 

+ â€œni

ght, 

diffi

cult 

light

ingâ€



Backg

round

 leve

l: fl

ip ma

p and

 boxe

s fro

m lef

t to 

right

 (in 

world

 coor

dinat

e)



Gener

ation

 from



Scene

 leve

l: pr

ompt 

+ â€œni

ght, 

diffi

cult 

light

ingâ€



Backg

round

 leve

l: fl

ip ma

p and

 boxe

s fro

m lef

t to 

right

 (in 

world

 coor

dinat

e)



åœ°é¢å®å†µ;

 çœŸå€¼



ï¼ˆæœºå™¨å­¦ä¹ 

ï¼‰



BEVGe

n



è´å¤«æ ¹



Figur

e 12:

 Qual

itati

ve co

mpari

son w

ith B

EVGen

 on d

rivin

g sce

ne fr

om nu

Scene

s val

idati

on se

t.



We hi

ghlig

ht so

me ar

eas w

ith r

ectan

gles 

to ea

se co

mpari

son. 

Compa

red w

ith B

EVGen

, ima

ge



quali

ty of

 obje

cts f

rom M

AGICD

RIVE 

is mu

ch be

tter.



å›¾ nuS

cenes

 éªŒè¯é›†ä¸­

é©¾é©¶åœºæ™¯ä¸

 BEVG

en çš„å®š

æ€§æ¯”è¾ƒã€‚ä¸º

äº†ä¾¿äºæ¯”è¾ƒ

ï¼Œæˆ‘ä»¬ç”¨çŸ©

å½¢çªå‡ºæ˜¾



ç¤ºäº†ä¸€äº›åŒº

åŸŸã€‚ä¸ B

EVGen

 ç›¸æ¯”ï¼ŒM

AGICD

RIVE 

çš„å¯¹è±¡å›¾åƒ

è´¨é‡è¦å¥½å¾—

å¤šã€‚



I MOR

E RES

ULTS 

WITH 

CONTR

OL FR

OM DI

FFERE

NT CO

NDITI

ONS



J ä¸åŒæ¡

ä»¶ä¸‹æ§åˆ¶çš„

æ›´å¤šç»“æœ



Figur

e 13 

shows

 scen

e lev

el co

ntrol

 (tim

e of 

day) 

and b

ackgr

ound 

level

 cont

rol (

BEV m

ap al

terat

ions)

. MAG

ICDRI

VE ca

n eff

ectiv

ely r

eflec

t the

se ch

anges

 in c

ontro

l con

ditio

ns th

rough

 the 

gener

ated 

camer

a vie

ws.



æ•°å­— 13

 æ˜¾ç¤ºåœºæ™¯

çº§åˆ«æ§åˆ¶(

ä¸€å¤©ä¸­çš„æ—¶

é—´)å’ŒèƒŒæ™¯

çº§åˆ«æ§åˆ¶(

BEV è´´

å›¾å˜æ›´)ã€‚

MAGIC

DRIVE

 å¯



ä»¥é€šè¿‡ç”Ÿæˆ

çš„æ‘„åƒæœºè§†

å›¾æœ‰æ•ˆåœ°å

æ˜ æ§åˆ¶æ¡ä»¶

çš„è¿™äº›å˜åŒ–

ã€‚



Figur

e 13:

 Show

case 

for s

cene-

level

 cont

rol w

ith M

AGICD

RIVE.

 The 

scene

 is f

rom t

he nu

Scene

s



valid

ation

 set.



å›¾ 13:

ä½¿ç”¨ MA

GICDR

IVE è¿›

è¡Œåœºæ™¯çº§æ§

åˆ¶çš„å±•ç¤ºã€‚

è¯¥åœºæ™¯æ¥è‡ª

 nuSc

enes 

éªŒè¯é›†ã€‚



mAP â†‘

 NDS 

â†‘ mAP

 â†‘



mAP â†‘

 NDS 

â†‘ mAP

 â†‘



Ã—



Ã— Ã—



Ã—



Ã— Ã—



Publi

shed 

as a 

confe

rence

 pape

r at 

ICLR



3



K MOR

E EXP

ERIME

NTS W

ITH 3

D OBJ

ECT D

ETECT

ION



L æ›´å¤š 

3D ç‰©ä½“

æ£€æµ‹å®éªŒ



Table

 6: C

ompar

ison 

about

 supp

ort f

or 3D

 obje

ct de

tecti

on mo

del (

i.e.,

 BEVF

usion

).



MAGIC

DRIVE

 gene

rates

 272Ã—

736 i

mages

 for 

augme

ntati

on. R

esult

s are

 from

 test

s on 

the n

uScen

es



valid

ation

 set.



è¡¨ 6:å…³

äºæ”¯æŒ 3

D å¯¹è±¡æ£€

æµ‹æ¨¡å‹(å³

 BEVF

usion

)çš„æ¯”è¾ƒã€‚

MAGIC

DRIVE

 ç”Ÿæˆ 2

72Ã—73

6 çš„å›¾åƒ



ç”¨äºå¢å¼ºã€‚

ç»“æœæ¥è‡ªå¯¹

 nuSc

enes 

éªŒè¯é›†çš„æµ‹

è¯•ã€‚



Epoch

 Data

 CAM-

Only 

CAM+L

iDAR



æ—¶ä»£ æ•°æ®

 ä»…é™ C

AM æ‘„åƒ

å¤´+æ¿€å…‰é›·

è¾¾



NDS â†‘



NDS â†‘



0.5Ã— 

w/o s

ynthe

tic d

ata



w/ MA

GICDR

IVE



30.21



33.29

 (+3.

08)



32.76



36.69

 (+3.

93) t

oo fe

w epo

chs t

oo fe

w epo

chs



0.5Ã— 

æ— åˆæˆæ•°æ®



å¸¦ MAG

ICDRI

VE



30.21



33.29



(+3.0

8)



32.76



36.69



(+3.9

3)



å¤ªå°‘çš„æ—¶ä»£

 å¤ªå°‘çš„æ—¶

ä»£



1Ã— w/

o syn

theti

c dat

a



w/ MA

GICDR

IVE



32.88



35.40

 (+2.

52)



37.81



39.76

 (+1.

95)



65.40



67.86

 (+2.

46)



69.59



70.72

 (+1.

13)



1Ã— æ— åˆ

æˆæ•°æ®



å¸¦ MAG

ICDRI

VE



32.88



35.40



(+2.5

2)



37.81



39.76



(+1.9

5)



65.40



67.86



(+2.4

6)



69.59



70.72



(+1.1

3)



2Ã— w/

o syn

theti

c dat

a



w/ MA

GICDR

IVE



35.49



35.74

 (+0.

25)



40.66



41.40

 (+0.

74)



68.33



68.58

 (+0.

25)



71.31



71.34

 (+0.

03)



2Ã— æ— åˆ

æˆæ•°æ®



å¸¦ MAG

ICDRI

VE



35.49



35.74



(+0.2

5)



40.66



41.40



(+0.7

4)



68.33



68.58



(+0.2

5)



71.31



71.34



(+0.0

3)



In Ta

ble 6

, we 

show 

addit

ional

 expe

rimen

tal r

esult

s on 

train

ing 3

D obj

ect d

etect

ion m

odels

 usin

g



synth

etic 

data 

produ

ced b

y MAG

ICDRI

VE. G

iven 

that 

BEVFu

sion 

utili

zes a

 ligh

tweig

ht ba

ckbon

e



(i.e.

, Swi

n-T (

Liu e

t al.

, 202

1)), 

model

 perf

orman

ce ap

pears

 to p

latea

u wit

h tra

ining

 thro

ugh 1

-



åœ¨è¡¨ä¸­ 6

ï¼Œæˆ‘ä»¬å±•ç¤º

äº†ä½¿ç”¨ M

AGICD

RIVE 

ç”Ÿæˆçš„åˆæˆ

æ•°æ®è®­ç»ƒ 

3D å¯¹è±¡

æ£€æµ‹æ¨¡å‹çš„

é™„åŠ å®éªŒç»“



æœã€‚å‡è®¾ 

BEVFu

sion 

åˆ©ç”¨äº†è½»å‹

ä¸»å¹²(å³ 

Swin-

T(Liu

 et a

l.,20

21))ï¼Œ

æ¨¡å‹æ€§èƒ½éš

ç€é€šè¿‡



1-1 è®­

ç»ƒè€Œè¶‹äºå¹³

ç¨³



2 epo

chs (

2 : 2

0 for

 CAM-

Only 

and 6

 for 

CAM+L

iDAR)

. Red

ucing

 epoc

hs ca

n mit

igate

 this



satur

ation

, all

owing

 more

 vari

ed da

ta to

 enha

nce t

he mo

delâ€™s

 perc

eptua

l cap

acity

 in b

oth s

ettin

gs.



This 

impro

vemen

t is 

evide

nt ev

en wh

en ep

ochs 

for 3

D obj

ect d

etect

ion a

re fu

rther

 redu

ced t

o 0.5



. Our

 MAGI

CDRIV

E acc

urate

ly au

gment

s str

eet-v

iew i

mages

 with

 the 

annot

ation

s. Fu

ture 

works



may f

ocus 

on an

notat

ion s

ampli

ng an

d con

struc

tion 

strat

egies

 for 

synth

etic 

data 

augme

ntati

on.



2 ä¸ªå†å…ƒ

(ä»… 2 

: 20 

ç”¨äº CA

Mï¼Œ6 ç”¨

äº CAM

+æ¿€å…‰é›·è¾¾

)ã€‚å‡å°‘å†

å…ƒå¯ä»¥å‡è½»

è¿™ç§é¥±å’Œåº¦

ï¼Œå…



è®¸æ›´å¤šä¸åŒ

çš„æ•°æ®æ¥å¢

å¼ºæ¨¡å‹åœ¨ä¸¤

ç§è®¾ç½®ä¸‹çš„

æ„ŸçŸ¥èƒ½åŠ›ã€‚

å³ä½¿å½“ 3

D å¯¹è±¡æ£€

æµ‹çš„å†å…ƒè¿›

ä¸€æ­¥



å‡å°‘åˆ° 0

.5 æ—¶ï¼Œ

è¿™ç§æ”¹è¿›ä¹Ÿ

æ˜¯æ˜æ˜¾çš„ã€‚

æˆ‘ä»¬çš„ M

AGICD

RIVE 

é€šè¿‡æ³¨é‡Šç²¾

ç¡®åœ°å¢å¼ºäº†

è¡—æ™¯å›¾



åƒã€‚æœªæ¥çš„

å·¥ä½œå¯èƒ½ä¼š

é›†ä¸­åœ¨æ³¨é‡Š

é‡‡æ ·å’Œåˆæˆ

æ•°æ®å¢å¼ºçš„

æ„é€ ç­–ç•¥ã€‚



M MOR

E DIS

CUSSI

ON



N æ›´å¤šè®¨

è®º



More 

futur

e wor

k. No

te th

at MA

GICDR

IVE-g

enera

ted s

treet

 view

s can

 curr

ently

 only

 perf

orm a

s



augme

nted 

sampl

es to

 trai

n wit

h rea

l dat

a, an

d it 

is ex

citin

g to 

train

 dete

ctors

 sole

ly wi

th ge

nerat

ed



data,

 whic

h wil

l be 

explo

red i

n the

 futu

re. M

ore f

lexib

le us

age o

f the

 gene

rated

 stre

et vi

ews



beyon

d dat

a aug

menta

tion,

 espe

ciall

y inc

orpor

ation

 with

 gene

rativ

e pre

-trai

ning 

(Chen

 et a

l.,



2023a

; Zhi

li et

 al.,

 2023

), co

ntras

tive 

learn

ing (

Chen 

et al

., 20

21; L

iu et

 al.,

 2022

b) an

d the

 larg

e



Ã—



Ã—



Publi

shed 

as a 

confe

rence

 pape

r at 

ICLR



3



langu

age m

odels

 (LLM

s) (C

hen e

t al.

, 202

3b; G

ou et

 al.,

 2023

), is

 an a

ppeal

ing f

uture

 rese

arch



direc

tion.

 It i

s als

o int

erest

ing t

o uti

lize 

the g

eomet

ric c

ontro

ls in

 diff

erent

 circ

umsta

nces 

beyon

d



3D sc

enari

os (e

.g., 

multi

-obje

ct tr

ackin

g (Li

 et a

l., 2

023a)

 and 

conce

pt re

moval

 (Liu

 et a

l.,



2023b

)).



æ›´å¤šæœªæ¥çš„

å·¥ä½œã€‚è¯·æ³¨

æ„ï¼ŒMAG

ICDRI

VE ç”Ÿæˆ

çš„è¡—é“è§†å›¾

ç›®å‰åªèƒ½ä½œ

ä¸ºå¢å¼ºæ ·æœ¬

ä½¿ç”¨çœŸå®æ•°



æ®è¿›è¡Œè®­ç»ƒ

ï¼Œä»…ä½¿ç”¨ç”Ÿ

æˆçš„æ•°æ®è®­

ç»ƒæ£€æµ‹å™¨æ˜¯

ä»¤äººå…´å¥‹çš„

ï¼Œè¿™å°†åœ¨æœª

æ¥è¿›è¡Œæ¢ç´¢

ã€‚é™¤äº†æ•°



æ®æ‰©å……ä¹‹å¤–

ï¼Œæ›´çµæ´»åœ°

ä½¿ç”¨æ‰€ç”Ÿæˆ

çš„è¡—é“è§†å›¾

ï¼Œå°¤å…¶æ˜¯ä¸

ç”Ÿæˆæ€§é¢„è®­

ç»ƒ (Ch

en et



al.,2

023aï¼›

Zhili

et al

.,202

3)ï¼Œå¯¹æ¯”

å­¦ä¹ (Ch

en et

 al.,

2021ï¼›

Liu e

t al.

,2022

b)å’Œå¤§



å‹è¯­è¨€æ¨¡å‹

(LLM)

(Chen

 et a

l.,20

23bï¼›G

ou et

 al.,

2023)

ï¼Œæ˜¯ä¸€ä¸ªå¾ˆ

æœ‰å¸å¼•åŠ›çš„

æœªæ¥ç ”ç©¶



æ–¹å‘ã€‚åœ¨ 

3D åœºæ™¯

ä¹‹å¤–çš„ä¸åŒ

ç¯å¢ƒä¸­åˆ©ç”¨

å‡ ä½•æ§åˆ¶ä¹Ÿ

æ˜¯æœ‰è¶£çš„(

ä¾‹å¦‚ï¼Œå¤šå¯¹

è±¡è·Ÿè¸ª(L

i et



al.,2

023a)

å’Œæ¦‚å¿µç§»é™¤

(Liu 

et al

.,202

3b)).



O DET

AILED

 ANAL

YSIS 

ON 3D

 OBJE

CT DE

TECTI

ON WI

TH SY

NTHET

IC DA

TA



P åˆ©ç”¨åˆ

æˆæ•°æ®è¿›è¡Œ

ä¸‰ç»´ç›®æ ‡æ£€

æµ‹çš„è¯¦ç»†åˆ†

æ



Table

 7: P

er-cl

ass p

erfor

mance

 comp

ariso

n wit

h BEV

Fusio

n for

 3D o

bject

 dete

ction

 with

 1 se

tting

. Res

ults 

are t

ested

 on t

he nu

Scene

s val

idati

on se

t.



è¡¨ 7:ä½¿

ç”¨ BEV

Fusio

n åœ¨ 1

 æ¬¡è®¾ç½®ä¸‹

è¿›è¡Œ 3D

 å¯¹è±¡æ£€æµ‹

æ—¶çš„æ¯ç±»æ€§

èƒ½æ¯”è¾ƒã€‚ç»“

æœåœ¨ nu

Scene

s



éªŒè¯é›†ä¸Šè¿›

è¡Œæµ‹è¯•ã€‚



Data 

mAP c

ar co

ne ba

rrier

bus p

ed. m

otor.

 truc

k bic

ycle 

trail

er co

nstr.



æ•°æ® åœ°å›¾

 æ±½è½¦é”¥å½¢

è·¯éšœã€‚é©¬è¾¾

ã€‚å¡è½¦è‡ªè¡Œ

è½¦æ‹–è½¦å»ºç­‘

ã€‚



BEVFu

sion 

32.88

 50.6

7 50.

46 48

.62 3

7.73 

35.74

 30.4

0 27.

54 24

.85 1

5.56 

7.28



+ MAG

ICDRI

VE 35

.40 5

1.86 

53.56

 51.1

5 40.

43 38

.10 3

3.11 

29.35

 27.8

5 18.

74 9.

83



é¥®æ–™èåˆ 

32.8



8



50.67

 50.4

6 48.

6



2



37.73

 35.7



4



30.40

 27.5



4



24.8



5



15.5



6



7.2



8



+



Magic

Drive



35.4



0



51.86

 53.5

6 51.

1



5



40.43

 38.1



0



33.11

 29.3



5



27.8



5



18.7



4



9.8



3



Diffe

rence

 +2.5

2 +1.

20 +3

.10 +

2.53 

+2.70

 +2.3

6 +2.

71 +1

.81 +

3.00 

+3.19

 +2.5

5



å·®å¼‚ +2

.52 +

1.20 

+3.10

 +2.5

3 +2.

70 +2

.36 +

2.71 

+1.81

 +3.0

0 +3.

19 +2

.55



We pr

ovide

 per-

class

 AP f

or 3D

 obje

ct de

tecti

on fr

om th

e nuS

cenes

 vali

datio

n set

 usin

g



BEVFu

sion 

in Ta

ble 7

. Fro

m the

 resu

lts, 

we ob

serve

 that

, fir

stly,

 the 

impro

vemen

ts fo

r lar

ge



objec

ts ar

e sig

- nif

icant

, for

 exam

ple, 

buses

, tra

ilers

, and

 cons

truct

ion v

ehicl

es. S

econd

ly, o

bject

s



with 

less 

diver

se ap

peara

nces,

 such

 as t

raffi

c con

es an

d bar

riers

, sho

w mor

e imp

rovem

ent,



espec

ially

 comp

ared 

to tr

ucks.

 Thir

dly, 

we no

te th

at th

e imp

rovem

ent i

s mar

ginal

 for 

cars,

 whil

e



signi

fican

t for

 pede

stri-

 ans,

 moto

rcycl

es, a

nd bi

cycle

s. Th

is ma

y be 

becau

se th

e bas

eline

 alre

ady



perfo

rms w

ell f

or ca

rs. F

or pe

destr

ians,

 moto

rcycl

es, a

nd bi

cycle

s, ev

en th

ough 

dista

nt ob

jects



from 

the e

go ca

r are

 gen-

 erat

ed le

ss fa

ithfu

lly, 

MAGIC

DRIVE

 can 

synth

esize

 high

-qual

ity o

bject

s



near 

the e

go ca

r, as

 show

n in 

Figur

e 17-

18. T

heref

ore, 

more 

accur

ate d

etect

ion o

f obj

ects 

near 

the



ego c

ar co

ntrib

utes 

to im

- pro

vemen

ts fo

r the

se cl

asses

. Ove

rall,

 mAP 

impro

vemen

t com

es wi

th



promo

tion 

in al

l cla

ssesâ€™

 AP, 

indic

ating

 MAGI

CDRIV

E can

 inde

ed he

lp th

e tra

ining

 of p

ercep

tion



model

s.



æˆ‘ä»¬ä½¿ç”¨è¡¨

ä¸­çš„ BE

VFusi

on ä» 

nuSce

nes éªŒ

è¯é›†ä¸­ä¸º 

3D å¯¹è±¡

æ£€æµ‹æä¾›æ¯

ç±» AP7

ã€‚ä»ç»“æœä¸­

ï¼Œ



æˆ‘ä»¬è§‚å¯Ÿåˆ°

ï¼Œé¦–å…ˆï¼Œå¯¹

äºå¤§å‹ç‰©ä½“

çš„æ”¹è¿›æ˜¯æ˜¾

è‘—çš„ï¼Œä¾‹å¦‚

å…¬å…±æ±½è½¦ã€

æ‹–è½¦å’Œå·¥ç¨‹

è½¦è¾†ã€‚å…¶



æ¬¡ï¼Œå¤–è§‚ä¸

å¤ªå¤šæ ·åŒ–çš„

ç‰©ä½“ï¼Œå¦‚äº¤

é€šé”¥å’Œéšœç¢

ç‰©ï¼Œè¡¨ç°å‡º

æ›´å¤šçš„æ”¹å–„

ï¼Œå°¤å…¶æ˜¯ä¸

å¡è½¦ç›¸



æ¯”ã€‚ç¬¬ä¸‰ï¼Œ

æˆ‘ä»¬æ³¨æ„åˆ°

è¿™ç§æ”¹å–„å¯¹

æ±½è½¦æ¥è¯´æ˜¯

å¾®ä¸è¶³é“çš„

ï¼Œè€Œå¯¹è¡Œäºº

ã€æ‘©æ‰˜è½¦å’Œ

è‡ªè¡Œè½¦æ¥



è¯´æ˜¯æ˜¾è‘—çš„

ã€‚è¿™å¯èƒ½æ˜¯

å› ä¸ºåŸºçº¿å·²

ç»è¡¨ç°è‰¯å¥½

çš„æ±½è½¦ã€‚å¯¹

äºè¡Œäººã€æ‘©

æ‰˜è½¦å’Œè‡ªè¡Œ

è½¦ï¼Œå³ä½¿



è·ç¦»è‡ªæˆ‘æ±½

è½¦è¾ƒè¿œçš„å¯¹

è±¡ç”Ÿæˆçš„ä¸

å¤ªçœŸå®ï¼ŒM

AGICD

RIVE 

ä¹Ÿå¯ä»¥åˆæˆ

è‡ªæˆ‘æ±½è½¦é™„

è¿‘çš„é«˜è´¨é‡



å¯¹è±¡ï¼Œå¦‚å›¾

æ‰€ç¤º 17

-18ã€‚å› 

æ­¤ï¼Œæ›´å‡†ç¡®

åœ°æ£€æµ‹è‡ªæˆ‘

è½¦é™„è¿‘çš„ç‰©

ä½“æœ‰åŠ©äºè¿™

äº›ç±»åˆ«çš„æ”¹

è¿›ã€‚



æ€»çš„æ¥è¯´ï¼Œ

åœ°å›¾çš„æ”¹è¿›

ä¼´éšç€æ‰€æœ‰

è¯¾ç¨‹ AP

 çš„æå‡ï¼Œ

è¡¨æ˜ MA

GICDR

IVE ç¡®

å®å¯ä»¥å¸®åŠ©

æ„ŸçŸ¥æ¨¡



å‹çš„è®­ç»ƒã€‚



Publi

shed 

as a 

confe

rence

 pape

r at 

ICLR



4



Ã— Ã—



Ã— Ã—



Metho

ds re

solut

ion



mIOU 

for 6

 clas

ses



Metho

ds re

solut

ion



mIOU 

for 6

 clas

ses



Publi

shed 

as a 

confe

rence

 pape

r at 

ICLR



4



Q MOR

E RES

ULTS 

FOR B

EV SE

GMENT

ATION



R BEV

 åˆ†å‰²çš„æ›´

å¤šç»“æœ



BEVFu

sion 

is al

so ca

pable

 of B

EV se

gment

ation

 and 

consi

ders 

most 

of th

e cla

sses 

we us

ed in

 the



BEV m

ap co

nditi

on. D

ue to

 the 

lack 

of ba

selin

es, w

e pre

sent 

the r

esult

s in 

Table

 8 to

 faci

litat

e



com- 

paris

on fo

r fut

ure w

orks.

 As c

an be

 seen

, the

 272 

736 r

esolu

tion 

does 

not o

utper

form 

the



224 4

00 re

solut

ion. 

This 

is co

nsist

ent w

ith t

he re

sults

 from

 CVT 

in Ta

ble 1

 on t

he Ro

ad se

gment

.



Such 

resul

ts co

nfirm

 that

 bett

er ma

p con

trols

 rely

 on m

ainta

ining

 the 

origi

nal a

spect

 rati

o for



gener

ation

 trai

ning 

(i.e.

, avo

iding

 crop

ping 

on ea

ch si

de).



BEVFu

sion 

è¿˜èƒ½å¤Ÿè¿›è¡Œ

 BEV 

åˆ†å‰²ï¼Œå¹¶è€ƒ

è™‘æˆ‘ä»¬åœ¨ 

BEV æ˜ 

å°„æ¡ä»¶ä¸­ä½¿

ç”¨çš„å¤§å¤šæ•°

ç±»åˆ«ã€‚ç”±äº

ç¼º



ä¹åŸºçº¿ï¼Œæˆ‘

ä»¬åœ¨è¡¨ä¸­ç»™

å‡ºäº†ç»“æœ 

8 ä»¥ä¾¿äº

å°†æ¥å·¥ä½œçš„

æ¯”è¾ƒã€‚å¯ä»¥

çœ‹å‡ºï¼Œ27

2 736

 çš„åˆ†è¾¨ç‡

å¹¶æ²¡



æœ‰ä¼˜äº 2

24 40

0 çš„åˆ†è¾¨

ç‡ã€‚è¿™ä¸è¡¨

ä¸­ CVT

 çš„ç»“æœä¸€

è‡´ 1 åœ¨

è·¯æ®µä¸Šã€‚è¿™

æ ·çš„ç»“æœè¯

å®äº†æ›´å¥½çš„



åœ°å›¾æ§åˆ¶ä¾

èµ–äºä¿æŒç”Ÿ

æˆè®­ç»ƒçš„åŸ

å§‹çºµæ¨ªæ¯”(

å³ï¼Œé¿å…åœ¨

æ¯ä¸€ä¾§è£å‰ª

)ã€‚



Table

 8: G

enera

tion 

fidel

ity t

o BEV

 map 

condi

tions

. Res

ults 

are t

ested

 with

 BEVF

usion

 for 

BEV



segme

ntati

on on

 the 

nuSce

nes v

alida

tion 

set.



è¡¨ BEV

 å›¾æ¡ä»¶ä¸‹

çš„å‘ç”µä¿çœŸ

åº¦ã€‚åœ¨ n

uScen

es éªŒè¯

é›†ä¸Šä½¿ç”¨ 

BEVFu

sion 

å¯¹ BEV

 åˆ†å‰²çš„ç»“

æœè¿›



è¡Œæµ‹è¯•ã€‚



CAM-o

nly C

AM+Li

DAR



ä»…é™ CA

M æ‘„åƒå¤´

+æ¿€å…‰



é›·è¾¾



Oracl

e - 5

7.09 

62.94



Oracl

e 224

Ã—400 

52.72

 58.4

9



ç¥è°• - 

57.09

 62.9



4



ç¥è°• 22

4Ã—400

 52.7

2 58.

4



9



MAGIC

DRIVE



MAGIC

DRIVE



224Ã—4

00



272Ã—7

36



30.24

 48.2

1



28.71

 47.1

2



é­”æ³•é©±åŠ¨



é­”æ³•é©±åŠ¨



224Ã—4

00



272Ã—7

36



30.24

 48.2

1



28.71

 47.1

2



S GEN

ERALI

ZATIO

N OF 

CAMER

A PAR

AMETE

RS



T ç›¸æœºå‚

æ•°çš„æ³›åŒ–



To im

prove

 gene

raliz

ation

 abil

ity, 

MAGIC

DRIVE

 enco

des r

aw ca

mera 

intri

nsic 

and e

xtrin

sic p

arame

ters 

for d

iffer

ent p

erspe

ctive

s. Ho

wever

, the

 gene

raliz

ation

 abil

ity i

s som

ewhat

 limi

ted d

ue



to nu

Scene

s fix

ing c

amera

 pose

s for

 diff

erent

 scen

es. N

evert

heles

s, we

 atte

mpt t

o exc

hange

 the



intri

nsic 

and e

xtrin

sic p

arame

ters 

betwe

en th

e thr

ee fr

ont c

amera

s and

 thre

e bac

k cam

eras.

 The



compa

rison

 is s

hown 

in Fi

gure 

14. S

ince 

the p

ositi

ons o

f the

 nuSc

enes 

camer

as ar

e not



symme

trica

l



ä¸ºäº†æé«˜æ³›

åŒ–èƒ½åŠ›ï¼ŒM

AGICD

RIVE 

å¯¹ä¸åŒè§†è§’

çš„åŸå§‹ç›¸æœº

å†…éƒ¨å’Œå¤–éƒ¨

å‚æ•°è¿›è¡Œç¼–

ç ã€‚ç„¶è€Œï¼Œ



ç”±äº nu

Scene

s ä¸ºä¸åŒ

çš„åœºæ™¯å›ºå®š

ç›¸æœºå§¿æ€ï¼Œ

æ³›åŒ–èƒ½åŠ›æœ‰

äº›æœ‰é™ã€‚ç„¶

è€Œï¼Œæˆ‘ä»¬è¯•

å›¾åœ¨ä¸‰ä¸ªå‰



ç½®æ‘„åƒå¤´å’Œ

ä¸‰ä¸ªåç½®æ‘„

åƒå¤´ä¹‹é—´äº¤

æ¢å†…éƒ¨å’Œå¤–

éƒ¨å‚æ•°ã€‚æ¯”

è¾ƒå¦‚å›¾æ‰€ç¤º

 14ã€‚å› 

ä¸º nuS

cenes

 æ‘„



åƒæœºçš„ä½ç½®

æ˜¯ä¸å¯¹ç§°çš„



from 

front

 to b

ack, 

and t

he ba

ck ca

mera 

has a

 120â—¦

 FOV 

compa

red t

o the

 70â—¦ 

FOV o

f the

 othe

r



cam- 

eras,

 clea

r dif

feren

ces b

etwee

n fro

nt an

d bac

k vie

ws ca

n be 

obser

ved f

or th

e sam

e 3D



coord

inate

s.



70Â° 1

20Â°



70Â° 1

20Â°



120Â° 

70Â°



120Â° 

70Â°



Publi

shed 

as a 

confe

rence

 pape

r at 

ICLR



4



ä»å‰åˆ°åï¼Œ

ä¸å…¶ä»–æ‘„åƒ

æœºçš„ 70

Â° FOV

 ç›¸æ¯”ï¼Œå

æ‘„åƒæœºå…·æœ‰

 120Â°

çš„ FOV

ï¼Œå¯¹äºç›¸åŒ

çš„ 3D 

å



æ ‡ï¼Œå¯ä»¥è§‚

å¯Ÿåˆ°å‰è§†å›¾

å’Œåè§†å›¾ä¹‹

é—´çš„æ˜æ˜¾å·®

å¼‚ã€‚



Figur

e 14:

 To s

how t

he ge

neral

izati

on ab

ility

 of l

earne

d cam

era e

ncodi

ng, w

e exc

hange

 the



camer

a par

amete

rs be

tween

 3 fr

ont c

amera

s and

 3 ba

ck ca

meras

. The

 3D p

ositi

on is

 the 

same 

for



two g

enera

tions

. We 

highl

ight 

some 

areas

 (wit

h box

 boxe

s)



å›¾ 14:

ä¸ºäº†æ˜¾ç¤ºå­¦

ä¹ çš„æ‘„åƒæœº

ç¼–ç çš„æ³›åŒ–

èƒ½åŠ›ï¼Œæˆ‘ä»¬

åœ¨ 3 ä¸ª

å‰ç½®æ‘„åƒæœº

å’Œ 3 ä¸ª

åç½®æ‘„åƒæœº

ä¹‹



é—´äº¤æ¢æ‘„åƒ

æœºå‚æ•°ã€‚ä¸¤

ä»£äººçš„ 3

D ä½ç½®æ˜¯

ç›¸åŒçš„ã€‚æˆ‘

ä»¬çªå‡ºæ˜¾ç¤º

ä¸€äº›åŒºåŸŸ(

ç”¨æ–¹æ¡†æ¡†)



Publi

shed 

as a 

confe

rence

 pape

r at 

ICLR



4



U MOR

E GEN

ERATI

ON RE

SULTS



V æ›´å¤šç”Ÿ

æˆç»“æœ



We sh

ow so

me co

rner-

case 

(Li e

t al.

, 202

2) ge

nerat

ions 

in Fi

gure 

15, a

nd mo

re ge

nerat

ions 

in



Figur

e 16-

Figur

e 18.



æˆ‘ä»¬å±•ç¤ºäº†

ä¸€äº›å…¸å‹æ¡ˆ

ä¾‹(Li 

et al

.,202

2)å‡ ä»£äºº

åœ¨å›¾ 15

ï¼Œä»¥åŠå›¾ä¸­

çš„æ›´å¤šä»£ 

16-å›¾ 

18ã€‚



Figur

e 15:

 Gene

ratio

n fro

m MAG

ICDRI

VE wi

th co

rner-

case 

annot

ation

s.



å›¾ 15:

ä» MAG

ICDRI

VE ç”Ÿæˆ

å¸¦æœ‰è§’æ¡ˆä¾‹

æ³¨é‡Šçš„ä»£ç 

ã€‚



Publi

shed 

as a 

confe

rence

 pape

r at 

ICLR



4



Publi

shed 

as a 

confe

rence

 pape

r at 

ICLR



4



Figur

e 16:

 Gene

ratio

n fro

m MAG

ICDRI

VE wi

th an

notat

ions 

from 

nuSce

nes v

alida

tion 

set.



å›¾ 16:

ä½¿ç”¨ nu

Scene

s éªŒè¯é›†

çš„æ³¨é‡Šä» 

MAGIC

DRIVE

 ç”Ÿæˆã€‚



Publi

shed 

as a 

confe

rence

 pape

r at 

ICLR



4



Publi

shed 

as a 

confe

rence

 pape

r at 

ICLR



4



Figur

e 17:

 Gene

ratio

n fro

m MAG

ICDRI

VE wi

th an

notat

ions 

from 

nuSce

nes v

alida

tion 

set.



å›¾ 17:

ä½¿ç”¨ nu

Scene

s éªŒè¯é›†

çš„æ³¨é‡Šä» 

MAGIC

DRIVE

 ç”Ÿæˆã€‚



Publi

shed 

as a 

confe

rence

 pape

r at 

ICLR



4



Publi

shed 

as a 

confe

rence

 pape

r at 

ICLR



4



Figur

e 18:

 Gene

ratio

n fro

m MAG

ICDRI

VE wi

th an

notat

ions 

from 

nuSce

nes v

alida

tion 

set.



å›¾ 18:

ä½¿ç”¨ nu

Scene

s éªŒè¯é›†

çš„æ³¨é‡Šä» 

MAGIC

DRIVE

 ç”Ÿæˆã€‚

